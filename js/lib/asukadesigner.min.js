/*! For license information please see asukadesigner.min.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(){return(()=>{var t,n,r,i={3400:(e,t,n)=>{"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:()=>r})},3713:(e,t,n)=>{"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:()=>i})},1198:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})},3235:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,{qv:()=>Ee,vI:()=>we,Qc:()=>xe});var l=function(){},c={},u={},h={mark:l,measure:l};try{"undefined"!=typeof window&&(c=window),"undefined"!=typeof document&&(u=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(h=performance)}catch(e){}var f=(c.navigator||{}).userAgent,d=void 0===f?"":f,p=c,g=u,m=h,v=(p.document,!!g.documentElement&&!!g.head&&"function"==typeof g.addEventListener&&"function"==typeof g.createElement),y=(~d.indexOf("MSIE")||d.indexOf("Trident/"),function(){try{}catch(e){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),b=y.concat([11,12,13,14,15,16,17,18,19,20]),w={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},C=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",w.GROUP,w.SWAP_OPACITY,w.PRIMARY,w.SECONDARY].concat(y.map((function(e){return"".concat(e,"x")}))).concat(b.map((function(e){return"w-".concat(e)}))),p.FontAwesomeConfig||{});if(g&&"function"==typeof g.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=s(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=g.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=i&&(C[r]=i)}))}var x=o({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},C);x.autoReplaceSvg||(x.observeMutations=!1);var E=o({},x);p.FontAwesomeConfig=E;var k=p||{};k.___FONT_AWESOME___||(k.___FONT_AWESOME___={}),k.___FONT_AWESOME___.styles||(k.___FONT_AWESOME___.styles={}),k.___FONT_AWESOME___.hooks||(k.___FONT_AWESOME___.hooks={}),k.___FONT_AWESOME___.shims||(k.___FONT_AWESOME___.shims=[]);var S=k.___FONT_AWESOME___,_=[];v&&((g.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(g.readyState)||g.addEventListener("DOMContentLoaded",(function e(){g.removeEventListener("DOMContentLoaded",e),1,_.map((function(e){return e()}))})));var T,O=function(){},A=void 0!==n.g&&void 0!==n.g.process&&"function"==typeof n.g.process.emit,P="undefined"==typeof setImmediate?setTimeout:setImmediate,j=[];function M(){for(var e=0;e<j.length;e++)j[e][0](j[e][1]);j=[],T=!1}function I(e,t){j.push([e,t]),T||(T=!0,P(M,0))}function R(e){var t=e.owner,n=t._state,r=t._data,i=e[n],a=e.then;if("function"==typeof i){n="fulfilled";try{r=i(r)}catch(e){F(a,e)}}L(a,r)||("fulfilled"===n&&Z(a,r),"rejected"===n&&F(a,r))}function L(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===r(t))){var i=t.then;if("function"==typeof i)return i.call(t,(function(r){n||(n=!0,t===r?D(e,r):Z(e,r))}),(function(t){n||(n=!0,F(e,t))})),!0}}catch(t){return n||F(e,t),!0}return!1}function Z(e,t){e!==t&&L(e,t)||D(e,t)}function D(e,t){"pending"===e._state&&(e._state="settled",e._data=t,I(B,e))}function F(e,t){"pending"===e._state&&(e._state="settled",e._data=t,I(z,e))}function N(e){e._then=e._then.forEach(R)}function B(e){e._state="fulfilled",N(e)}function z(e){e._state="rejected",N(e),!e._handled&&A&&n.g.process.emit("unhandledRejection",e._data,e)}function V(e){n.g.process.emit("rejectionHandled",e)}function U(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof U==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){F(t,e)}try{e((function(e){Z(t,e)}),n)}catch(e){n(e)}}(e,this)}U.prototype={constructor:U,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(O),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&A&&I(V,this)),"fulfilled"===this._state||"rejected"===this._state?I(R,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},U.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new U((function(t,n){var r=[],i=0;function a(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var o,s=0;s<e.length;s++)(o=e[s])&&"function"==typeof o.then?o.then(a(s),n):r[s]=o;i||t(r)}))},U.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new U((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"==typeof r.then?r.then(t,n):t(r)}))},U.resolve=function(e){return e&&"object"===r(e)&&e.constructor===U?e:new U((function(t){t(e)}))},U.reject=function(e){return new U((function(t,n){n(e)}))};var H={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function W(e){if(e&&v){var t=g.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=g.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}return g.head.insertBefore(t,r),e}}function G(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Y(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function X(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function $(e){return e.size!==H.size||e.x!==H.x||e.y!==H.y||e.rotate!==H.rotate||e.flipX||e.flipY}function q(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var K={x:0,y:0,width:"100%",height:"100%"};function Q(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function J(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,s=e.transform,l=e.symbol,c=e.title,u=e.maskId,h=e.titleId,f=e.extra,d=e.watchable,p=void 0!==d&&d,g=r.found?r:n,m=g.width,v=g.height,y="fak"===i,b=y?"":"fa-w-".concat(Math.ceil(m/v*16)),w=[E.replacementClass,a?"".concat(E.familyPrefix,"-").concat(a):"",b].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),C={children:[],attributes:o({},f.attributes,{"data-prefix":i,"data-icon":a,class:w,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(v)})},x=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/v*16*.0625,"em")}:{};p&&(C.attributes["data-fa-i2svg"]=""),c&&C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(h||G())},children:[c]});var k=o({},C,{prefix:i,iconName:a,main:n,mask:r,maskId:u,transform:s,symbol:l,styles:o({},x,f.styles)}),S=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,s=e.maskId,l=e.transform,c=i.width,u=i.icon,h=a.width,f=a.icon,d=q({transform:l,containerWidth:h,iconWidth:c}),p={tag:"rect",attributes:o({},K,{fill:"white"})},g=u.children?{children:u.children.map(Q)}:{},m={tag:"g",attributes:o({},d.inner),children:[Q(o({tag:u.tag,attributes:o({},u.attributes,d.path)},g))]},v={tag:"g",attributes:o({},d.outer),children:[m]},y="mask-".concat(s||G()),b="clip-".concat(s||G()),w={tag:"mask",attributes:o({},K,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,v]},C={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=f,"g"===t.tag?t.children:[t])},w]};return n.push(C,{tag:"rect",attributes:o({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(y,")")},K)}),{children:n,attributes:r}}(k):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,a=X(e.styles);if(a.length>0&&(n.style=a),$(i)){var s=q({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:o({},s.outer),children:[{tag:"g",attributes:o({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:o({},r.icon.attributes,s.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(k),_=S.children,T=S.attributes;return k.children=_,k.attributes=T,l?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:o({},i,{id:!0===a?"".concat(t,"-").concat(E.familyPrefix,"-").concat(n):a}),children:r}]}]}(k):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,s=e.transform;if($(s)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=X(o({},a,{"transform-origin":"".concat(l.x+s.x/16,"em ").concat(l.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(k)}var ee=function(){},te=(E.measurePerformance&&m&&m.mark&&m.measure,function(e,t,n,r){var i,a,o,s=Object.keys(e),l=s.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<l;i++)o=c(o,e[a=s[i]],a,e);return o});function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!=typeof S.hooks.addPack||i?S.styles[e]=o({},S.styles[e]||{},a):S.hooks.addPack(e,a),"fas"===e&&ne("fa",t)}var re=S.styles,ie=S.shims,ae=function(){var e=function(e){return te(re,(function(t,n,r){return t[r]=te(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in re;te(ie,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:a},e}),{})};ae();S.styles;function oe(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function se(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"==typeof e?Y(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Y(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(se).join(""),"</").concat(t,">")}var le=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t};function ce(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce;var ue={fill:"currentColor"},he={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},fe={tag:"path",attributes:o({},ue,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},de=o({},he,{attributeName:"opacity"});o({},ue,{cx:"256",cy:"364",r:"28"}),o({},he,{attributeName:"r",values:"28;14;28;28;14;28;"}),o({},de,{values:"1;0;1;1;0;1;"}),o({},ue,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),o({},de,{values:"1;0;0;0;0;1;"}),o({},ue,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),o({},de,{values:"0;0;1;1;0;0;"}),S.styles;function pe(e){var t=e[0],n=e[1],r=s(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(E.familyPrefix,"-").concat(w.GROUP)},children:[{tag:"path",attributes:{class:"".concat(E.familyPrefix,"-").concat(w.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(E.familyPrefix,"-").concat(w.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}S.styles;function ge(){var e="svg-inline--fa",t=E.familyPrefix,n=E.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==t||n!==e){var i=new RegExp("\\.".concat("fa","\\-"),"g"),a=new RegExp("\\--".concat("fa","\\-"),"g"),o=new RegExp("\\.".concat(e),"g");r=r.replace(i,".".concat(t,"-")).replace(a,"--".concat(t,"-")).replace(o,".".concat(n))}return r}function me(){E.autoAddCss&&!Ce&&(W(ge()),Ce=!0)}function ve(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return se(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(v){var t=g.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function ye(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return oe(we.definitions,n,r)||oe(S.styles,n,r)}var be,we=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,(n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=o({},e.definitions[t]||{},i[t]),ne(t,i[t]),ae()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon;e[i]||(e[i]={}),e[i][a]=o})),e}}])&&i(t.prototype,n),r&&i(t,r),e}()),Ce=!1,xe={transform:function(e){return le(e)}},Ee=(be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?H:n,i=t.symbol,a=void 0!==i&&i,s=t.mask,l=void 0===s?null:s,c=t.maskId,u=void 0===c?null:c,h=t.title,f=void 0===h?null:h,d=t.titleId,p=void 0===d?null:d,g=t.classes,m=void 0===g?[]:g,v=t.attributes,y=void 0===v?{}:v,b=t.styles,w=void 0===b?{}:b;if(e){var C=e.prefix,x=e.iconName,k=e.icon;return ve(o({type:"icon"},e),(function(){return me(),E.autoA11y&&(f?y["aria-labelledby"]="".concat(E.replacementClass,"-title-").concat(p||G()):(y["aria-hidden"]="true",y.focusable="false")),J({icons:{main:pe(k),mask:l?pe(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:C,iconName:x,transform:o({},H,r),symbol:a,title:f,maskId:u,titleId:p,extra:{attributes:y,styles:w,classes:m}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:ye(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:ye(r||{})),be(n,o({},t,{mask:r}))})},5518:(e,t,n)=>{"use strict";n.d(t,{jev:()=>r,fKU:()=>i,xiG:()=>a,izv:()=>o,lIc:()=>s,c_t:()=>l,A0q:()=>c,QY_:()=>u,eW2:()=>h,I4f:()=>f,f8k:()=>d,A35:()=>p,b7W:()=>g,kZ_:()=>m,KS0:()=>v,q7m:()=>y,ubJ:()=>b,Xcf:()=>w,cNd:()=>C,xf2:()=>x,Mdf:()=>E,KTG:()=>k,Aq:()=>S,gMD:()=>_,Y9i:()=>T,re8:()=>O,G_j:()=>A,cC_:()=>P,yGG:()=>j,iGi:()=>M,gHg:()=>I,VmB:()=>R,cJz:()=>L,Krp:()=>Z,wok:()=>D,mlU:()=>F,P2X:()=>N,Kl4:()=>B,q2v:()=>z,Alc:()=>V,e0A:()=>U,UJf:()=>H,r8p:()=>W,wf8:()=>G,NxF:()=>Y,rtB:()=>X,tmN:()=>$,atg:()=>q,KXm:()=>K,r6l:()=>Q,wn1:()=>J,LM3:()=>ee,d8e:()=>te,LEN:()=>ne,RP7:()=>re,NBC:()=>ie,nYk:()=>ae,$aW:()=>oe,jmw:()=>se,R8d:()=>le,cf$:()=>ce,_mi:()=>ue});var r={prefix:"fas",iconName:"arrows-alt-h",icon:[512,512,[],"f337","M377.941 169.941V216H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.568 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296h243.882v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.568 0-33.941l-86.059-86.059c-15.119-15.12-40.971-4.412-40.971 16.97z"]},i={prefix:"fas",iconName:"arrows-alt-v",icon:[256,512,[],"f338","M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z"]},a={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},o={prefix:"fas",iconName:"bezier-curve",icon:[640,512,[],"f55b","M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"]},s={prefix:"fas",iconName:"binoculars",icon:[512,512,[],"f1e5","M416 48c0-8.84-7.16-16-16-16h-64c-8.84 0-16 7.16-16 16v48h96V48zM63.91 159.99C61.4 253.84 3.46 274.22 0 404v44c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V288h32V128H95.84c-17.63 0-31.45 14.37-31.93 31.99zm384.18 0c-.48-17.62-14.3-31.99-31.93-31.99H320v160h32v160c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-44c-3.46-129.78-61.4-150.16-63.91-244.01zM176 32h-64c-8.84 0-16 7.16-16 16v48h96V48c0-8.84-7.16-16-16-16zm48 256h64V128h-64v160z"]},l={prefix:"fas",iconName:"bold",icon:[384,512,[],"f032","M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"]},c={prefix:"fas",iconName:"border-style",icon:[448,512,[],"f853","M240 416h-32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-96 0h-32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm192 0h-32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm96-192h-32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 96h-32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 96h-32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-288h-32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-96H32A32 32 0 0 0 0 64v400a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V96h368a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]},u={prefix:"fas",iconName:"camera-retro",icon:[512,512,[],"f083","M48 32C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48H48zm0 32h106c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H38c-3.3 0-6-2.7-6-6V80c0-8.8 7.2-16 16-16zm426 96H38c-3.3 0-6-2.7-6-6v-36c0-3.3 2.7-6 6-6h138l30.2-45.3c1.1-1.7 3-2.7 5-2.7H464c8.8 0 16 7.2 16 16v74c0 3.3-2.7 6-6 6zM256 424c-66.2 0-120-53.8-120-120s53.8-120 120-120 120 53.8 120 120-53.8 120-120 120zm0-208c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm-48 104c-8.8 0-16-7.2-16-16 0-35.3 28.7-64 64-64 8.8 0 16 7.2 16 16s-7.2 16-16 16c-17.6 0-32 14.4-32 32 0 8.8-7.2 16-16 16z"]},h={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"]},f={prefix:"fas",iconName:"caret-right",icon:[192,512,[],"f0da","M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"]},d={prefix:"fas",iconName:"check-circle",icon:[512,512,[],"f058","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"]},p={prefix:"fas",iconName:"chevron-left",icon:[320,512,[],"f053","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"]},g={prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]},m={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"]},v={prefix:"fas",iconName:"crosshairs",icon:[512,512,[],"f05b","M500 224h-30.364C455.724 130.325 381.675 56.276 288 42.364V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v30.364C130.325 56.276 56.276 130.325 42.364 224H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h30.364C56.276 381.675 130.325 455.724 224 469.636V500c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-30.364C381.675 455.724 455.724 381.675 469.636 288H500c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zM288 404.634V364c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40.634C165.826 392.232 119.783 346.243 107.366 288H148c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40.634C119.768 165.826 165.757 119.783 224 107.366V148c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40.634C346.174 119.768 392.217 165.757 404.634 224H364c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40.634C392.232 346.174 346.243 392.217 288 404.634zM288 256c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-17.673 14.327-32 32-32s32 14.327 32 32z"]},y={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},b={prefix:"fas",iconName:"draw-polygon",icon:[448,512,[],"f5ee","M384 352c-.35 0-.67.1-1.02.1l-39.2-65.32c5.07-9.17 8.22-19.56 8.22-30.78s-3.14-21.61-8.22-30.78l39.2-65.32c.35.01.67.1 1.02.1 35.35 0 64-28.65 64-64s-28.65-64-64-64c-23.63 0-44.04 12.95-55.12 32H119.12C108.04 44.95 87.63 32 64 32 28.65 32 0 60.65 0 96c0 23.63 12.95 44.04 32 55.12v209.75C12.95 371.96 0 392.37 0 416c0 35.35 28.65 64 64 64 23.63 0 44.04-12.95 55.12-32h209.75c11.09 19.05 31.49 32 55.12 32 35.35 0 64-28.65 64-64 .01-35.35-28.64-64-63.99-64zm-288 8.88V151.12A63.825 63.825 0 0 0 119.12 128h208.36l-38.46 64.1c-.35-.01-.67-.1-1.02-.1-35.35 0-64 28.65-64 64s28.65 64 64 64c.35 0 .67-.1 1.02-.1l38.46 64.1H119.12A63.748 63.748 0 0 0 96 360.88zM272 256c0-8.82 7.18-16 16-16s16 7.18 16 16-7.18 16-16 16-16-7.18-16-16zM400 96c0 8.82-7.18 16-16 16s-16-7.18-16-16 7.18-16 16-16 16 7.18 16 16zM64 80c8.82 0 16 7.18 16 16s-7.18 16-16 16-16-7.18-16-16 7.18-16 16-16zM48 416c0-8.82 7.18-16 16-16s16 7.18 16 16-7.18 16-16 16-16-7.18-16-16zm336 16c-8.82 0-16-7.18-16-16s7.18-16 16-16 16 7.18 16 16-7.18 16-16 16z"]},w={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},C={prefix:"fas",iconName:"ellipsis-h",icon:[512,512,[],"f141","M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"]},x={prefix:"fas",iconName:"eraser",icon:[512,512,[],"f12d","M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"]},E={prefix:"fas",iconName:"eye",icon:[576,512,[],"f06e","M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"]},k={prefix:"fas",iconName:"eye-dropper",icon:[512,512,[],"f1fb","M50.75 333.25c-12 12-18.75 28.28-18.75 45.26V424L0 480l32 32 56-32h45.49c16.97 0 33.25-6.74 45.25-18.74l126.64-126.62-128-128L50.75 333.25zM483.88 28.12c-37.47-37.5-98.28-37.5-135.75 0l-77.09 77.09-13.1-13.1c-9.44-9.44-24.65-9.31-33.94 0l-40.97 40.97c-9.37 9.37-9.37 24.57 0 33.94l161.94 161.94c9.44 9.44 24.65 9.31 33.94 0L419.88 288c9.37-9.37 9.37-24.57 0-33.94l-13.1-13.1 77.09-77.09c37.51-37.48 37.51-98.26.01-135.75z"]},S={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"]},_={prefix:"fas",iconName:"file",icon:[384,512,[],"f15b","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"]},T={prefix:"fas",iconName:"file-upload",icon:[384,512,[],"f574","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"]},O={prefix:"fas",iconName:"fill-drip",icon:[576,512,[],"f576","M512 320s-64 92.65-64 128c0 35.35 28.66 64 64 64s64-28.65 64-64-64-128-64-128zm-9.37-102.94L294.94 9.37C288.69 3.12 280.5 0 272.31 0s-16.38 3.12-22.62 9.37l-81.58 81.58L81.93 4.76c-6.25-6.25-16.38-6.25-22.62 0L36.69 27.38c-6.24 6.25-6.24 16.38 0 22.62l86.19 86.18-94.76 94.76c-37.49 37.48-37.49 98.26 0 135.75l117.19 117.19c18.74 18.74 43.31 28.12 67.87 28.12 24.57 0 49.13-9.37 67.87-28.12l221.57-221.57c12.5-12.5 12.5-32.75.01-45.25zm-116.22 70.97H65.93c1.36-3.84 3.57-7.98 7.43-11.83l13.15-13.15 81.61-81.61 58.6 58.6c12.49 12.49 32.75 12.49 45.24 0s12.49-32.75 0-45.24l-58.6-58.6 58.95-58.95 162.44 162.44-48.34 48.34z"]},A={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"]},P={prefix:"fas",iconName:"folder-open",icon:[576,512,[],"f07c","M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"]},j={prefix:"fas",iconName:"font",icon:[448,512,[],"f031","M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"]},M={prefix:"fas",iconName:"hands-helping",icon:[640,512,[],"f4c4","M488 192H336v56c0 39.7-32.3 72-72 72s-72-32.3-72-72V126.4l-64.9 39C107.8 176.9 96 197.8 96 220.2v47.3l-80 46.2C.7 322.5-4.6 342.1 4.3 357.4l80 138.6c8.8 15.3 28.4 20.5 43.7 11.7L231.4 448H368c35.3 0 64-28.7 64-64h16c17.7 0 32-14.3 32-32v-64h8c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24zm147.7-37.4L555.7 16C546.9.7 527.3-4.5 512 4.3L408.6 64H306.4c-12 0-23.7 3.4-33.9 9.7L239 94.6c-9.4 5.8-15 16.1-15 27.1V248c0 22.1 17.9 40 40 40s40-17.9 40-40v-88h184c30.9 0 56 25.1 56 56v28.5l80-46.2c15.3-8.9 20.5-28.4 11.7-43.7z"]},I={prefix:"fas",iconName:"heading",icon:[512,512,[],"f1dc","M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"]},R={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"]},L={prefix:"fas",iconName:"italic",icon:[320,512,[],"f033","M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"]},Z={prefix:"fas",iconName:"layer-group",icon:[512,512,[],"f5fd","M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"]},D={prefix:"fas",iconName:"low-vision",icon:[576,512,[],"f2a8","M569.344 231.631C512.96 135.949 407.81 72 288 72c-28.468 0-56.102 3.619-82.451 10.409L152.778 10.24c-7.601-10.858-22.564-13.5-33.423-5.9l-13.114 9.178c-10.86 7.601-13.502 22.566-5.9 33.426l43.131 58.395C89.449 131.73 40.228 174.683 6.682 231.581c-.01.017-.023.033-.034.05-8.765 14.875-8.964 33.528 0 48.739 38.5 65.332 99.742 115.862 172.859 141.349L55.316 244.302A272.194 272.194 0 0 1 83.61 208.39l119.4 170.58h.01l40.63 58.04a330.055 330.055 0 0 0 78.94 1.17l-189.98-271.4a277.628 277.628 0 0 1 38.777-21.563l251.836 356.544c7.601 10.858 22.564 13.499 33.423 5.9l13.114-9.178c10.86-7.601 13.502-22.567 5.9-33.426l-43.12-58.377-.007-.009c57.161-27.978 104.835-72.04 136.81-126.301a47.938 47.938 0 0 0 .001-48.739zM390.026 345.94l-19.066-27.23c24.682-32.567 27.711-76.353 8.8-111.68v.03c0 23.65-19.17 42.82-42.82 42.82-23.828 0-42.82-19.349-42.82-42.82 0-23.65 19.17-42.82 42.82-42.82h.03c-24.75-13.249-53.522-15.643-79.51-7.68l-19.068-27.237C253.758 123.306 270.488 120 288 120c75.162 0 136 60.826 136 136 0 34.504-12.833 65.975-33.974 89.94z"]},F={prefix:"fas",iconName:"magnet",icon:[512,512,[],"f076","M164.07 148.1H12a12 12 0 0 1-12-12v-80a36 36 0 0 1 36-36h104a36 36 0 0 1 36 36v80a11.89 11.89 0 0 1-11.93 12zm347.93-12V56a36 36 0 0 0-36-36H372a36 36 0 0 0-36 36v80a12 12 0 0 0 12 12h152a11.89 11.89 0 0 0 12-11.9zm-164 44a12 12 0 0 0-12 12v52c0 128.1-160 127.9-160 0v-52a12 12 0 0 0-12-12H12.1a12 12 0 0 0-12 12.1c.1 21.4.6 40.3 0 53.3 0 150.6 136.17 246.6 256.75 246.6s255-96 255-246.7c-.6-12.8-.2-33 0-53.2a12 12 0 0 0-12-12.1z"]},N={prefix:"fas",iconName:"mask",icon:[640,512,[],"f6fa","M320.67 64c-442.6 0-357.57 384-158.46 384 39.9 0 77.47-20.69 101.42-55.86l25.73-37.79c15.66-22.99 46.97-22.99 62.63 0l25.73 37.79C401.66 427.31 439.23 448 479.13 448c189.86 0 290.63-384-158.46-384zM184 308.36c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05zm272 0c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05z"]},B={prefix:"fas",iconName:"minus",icon:[448,512,[],"f068","M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},z={prefix:"fas",iconName:"palette",icon:[512,512,[],"f53f","M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"]},V={prefix:"fas",iconName:"paperclip",icon:[448,512,[],"f0c6","M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"]},U={prefix:"fas",iconName:"pen-square",icon:[448,512,[],"f14b","M400 480H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zM238.1 177.9L102.4 313.6l-6.3 57.1c-.8 7.6 5.6 14.1 13.3 13.3l57.1-6.3L302.2 242c2.3-2.3 2.3-6.1 0-8.5L246.7 178c-2.5-2.4-6.3-2.4-8.6-.1zM345 165.1L314.9 135c-9.4-9.4-24.6-9.4-33.9 0l-23.1 23.1c-2.3 2.3-2.3 6.1 0 8.5l55.5 55.5c2.3 2.3 6.1 2.3 8.5 0L345 199c9.3-9.3 9.3-24.5 0-33.9z"]},H={prefix:"fas",iconName:"pencil-alt",icon:[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"]},W={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},G={prefix:"fas",iconName:"print",icon:[512,512,[],"f02f","M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"]},Y={prefix:"fas",iconName:"puzzle-piece",icon:[576,512,[],"f12e","M519.442 288.651c-41.519 0-59.5 31.593-82.058 31.593C377.409 320.244 432 144 432 144s-196.288 80-196.288-3.297c0-35.827 36.288-46.25 36.288-85.985C272 19.216 243.885 0 210.539 0c-34.654 0-66.366 18.891-66.366 56.346 0 41.364 31.711 59.277 31.711 81.75C175.885 207.719 0 166.758 0 166.758v333.237s178.635 41.047 178.635-28.662c0-22.473-40-40.107-40-81.471 0-37.456 29.25-56.346 63.577-56.346 33.673 0 61.788 19.216 61.788 54.717 0 39.735-36.288 50.158-36.288 85.985 0 60.803 129.675 25.73 181.23 25.73 0 0-34.725-120.101 25.827-120.101 35.962 0 46.423 36.152 86.308 36.152C556.712 416 576 387.99 576 354.443c0-34.199-18.962-65.792-56.558-65.792z"]},X={prefix:"fas",iconName:"qrcode",icon:[448,512,[],"f029","M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"]},$={prefix:"fas",iconName:"redo-alt",icon:[512,512,[],"f2f9","M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"]},q={prefix:"fas",iconName:"ruler-combined",icon:[512,512,[],"f546","M160 288h-56c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h56v-64h-56c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h56V96h-56c-4.42 0-8-3.58-8-8V72c0-4.42 3.58-8 8-8h56V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v448c0 2.77.91 5.24 1.57 7.8L160 329.38V288zm320 64h-32v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-64v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-64v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-41.37L24.2 510.43c2.56.66 5.04 1.57 7.8 1.57h448c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"]},K={prefix:"fas",iconName:"ruler-vertical",icon:[256,512,[],"f548","M168 416c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v448c0 17.67 14.33 32 32 32h192c17.67 0 32-14.33 32-32v-64h-88z"]},Q={prefix:"fas",iconName:"save",icon:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"]},J={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},ee={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"]},te={prefix:"fas",iconName:"sync-alt",icon:[512,512,[],"f2f1","M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"]},ne={prefix:"fas",iconName:"tag",icon:[512,512,[],"f02b","M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"]},re={prefix:"fas",iconName:"thumbtack",icon:[384,512,[],"f08d","M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"]},ie={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},ae={prefix:"fas",iconName:"times-circle",icon:[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"]},oe={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},se={prefix:"fas",iconName:"underline",icon:[448,512,[],"f0cd","M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"]},le={prefix:"fas",iconName:"undo-alt",icon:[512,512,[],"f2ea","M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"]},ce={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},ue={prefix:"fas",iconName:"vector-square",icon:[512,512,[],"f5cb","M512 128V32c0-17.67-14.33-32-32-32h-96c-17.67 0-32 14.33-32 32H160c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32v192c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32h192c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32V160c17.67 0 32-14.33 32-32zm-96-64h32v32h-32V64zM64 64h32v32H64V64zm32 384H64v-32h32v32zm352 0h-32v-32h32v32zm-32-96h-32c-17.67 0-32 14.33-32 32v32H160v-32c0-17.67-14.33-32-32-32H96V160h32c17.67 0 32-14.33 32-32V96h192v32c0 17.67 14.33 32 32 32h32v192z"]}},9879:(e,t,n)=>{"use strict";n.d(t,{G:()=>y});var r=n(3235),i=n(3074),a=n.n(i),o=n(5466);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){return t=e,(t-=0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function p(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=d(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var g=!1;try{g=!0}catch(e){}function m(e){return r.Qc.icon?r.Qc.icon(e):null===e?null:"object"===s(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function v(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?l({},e,t):{}}function y(e){var t=e.forwardedRef,n=h(e,["forwardedRef"]),i=n.icon,a=n.mask,o=n.symbol,s=n.className,c=n.title,d=n.titleId,p=m(i),w=v("classes",[].concat(f(function(e){var t,n=e.spin,r=e.pulse,i=e.fixedWidth,a=e.inverse,o=e.border,s=e.listItem,c=e.flip,u=e.size,h=e.rotation,f=e.pull,d=(l(t={"fa-spin":n,"fa-pulse":r,"fa-fw":i,"fa-inverse":a,"fa-border":o,"fa-li":s,"fa-flip-horizontal":"horizontal"===c||"both"===c,"fa-flip-vertical":"vertical"===c||"both"===c},"fa-".concat(u),null!=u),l(t,"fa-rotate-".concat(h),null!=h&&0!==h),l(t,"fa-pull-".concat(f),null!=f),l(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(d).map((function(e){return d[e]?e:null})).filter((function(e){return e}))}(n)),f(s.split(" ")))),C=v("transform","string"==typeof n.transform?r.Qc.transform(n.transform):n.transform),x=v("mask",m(a)),E=(0,r.qv)(p,u({},w,{},C,{},x,{symbol:o,title:c,titleId:d}));if(!E)return function(){var e;!g&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",p),null;var k=E.abstract,S={ref:t};return Object.keys(n).forEach((function(e){y.defaultProps.hasOwnProperty(e)||(S[e]=n[e])})),b(k[0],S)}y.displayName="FontAwesomeIcon",y.propTypes={border:a().bool,className:a().string,mask:a().oneOfType([a().object,a().array,a().string]),fixedWidth:a().bool,inverse:a().bool,flip:a().oneOf(["horizontal","vertical","both"]),icon:a().oneOfType([a().object,a().array,a().string]),listItem:a().bool,pull:a().oneOf(["right","left"]),pulse:a().bool,rotation:a().oneOf([0,90,180,270]),size:a().oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:a().bool,symbol:a().oneOfType([a().bool,a().string]),title:a().string,transform:a().oneOfType([a().string,a().object]),swapOpacity:a().bool},y.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var b=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=p(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[d(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,l=h(r,["style"]);return a.attrs.style=u({},a.attrs.style,{},s),t.apply(void 0,[n.tag,u({},a.attrs,{},l)].concat(f(i)))}.bind(null,o.createElement)},5663:e=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r={};function i(e,t,n,r,i={}){t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);for(const a of t)for(const t of n)a[e](t,r,{capture:!1,...i});return Array.prototype.slice.call(arguments,1)}n.r(r),n.d(r,"on",(function(){return a})),n.d(r,"off",(function(){return o})),n.d(r,"createElementFromString",(function(){return s})),n.d(r,"createFromTemplate",(function(){return l})),n.d(r,"eventPath",(function(){return c})),n.d(r,"resolveElement",(function(){return u})),n.d(r,"adjustableInputNumbers",(function(){return h}));const a=i.bind(null,"addEventListener"),o=i.bind(null,"removeEventListener");function s(e){const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild}function l(e){const t=(e,t)=>{const n=e.getAttribute(t);return e.removeAttribute(t),n},n=(e,r={})=>{const i=t(e,":obj"),a=t(e,":ref"),o=i?r[i]={}:r;a&&(r[a]=e);for(const r of Array.from(e.children)){const e=t(r,":arr"),i=n(r,e?{}:o);e&&(o[e]||(o[e]=[])).push(Object.keys(i).length?i:r)}return r};return n(s(e))}function c(e){let t=e.path||e.composedPath&&e.composedPath();if(t)return t;let n=e.target.parentElement;for(t=[e.target,n];n=n.parentElement;)t.push(n);return t.push(document,window),t}function u(e){return e instanceof Element?e:"string"==typeof e?e.split(/>>/g).reduce((e,t,n,r)=>(e=e.querySelector(t),n<r.length-1?e.shadowRoot:e),document):null}function h(e,t=(e=>e)){function n(n){const r=[.001,.01,.1][Number(n.shiftKey||2*n.ctrlKey)]*(n.deltaY<0?1:-1);let i=0,a=e.selectionStart;e.value=e.value.replace(/[\d.]+/g,(e,n)=>n<=a&&n+e.length>=a?(a=n,t(Number(e),r,i)):(i++,e)),e.focus(),e.setSelectionRange(a,a),n.preventDefault(),e.dispatchEvent(new Event("input"))}a(e,"focus",()=>a(window,"wheel",n,{passive:!1})),a(e,"blur",()=>o(window,"wheel",n))}const{min:f,max:d,floor:p,round:g}=Math;function m(e,t,n){t/=100,n/=100;const r=p(e=e/360*6),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return[255*[n,o,a,a,s,n][l],255*[s,n,n,o,a,a][l],255*[a,a,s,n,n,o][l]]}function v(e,t,n){const r=(2-(t/=100))*(n/=100)/2;return 0!==r&&(t=1===r?0:r<.5?t*n/(2*r):t*n/(2-2*r)),[e,100*t,100*r]}function y(e,t,n){const r=f(e/=255,t/=255,n/=255),i=d(e,t,n),a=i-r;let o,s;if(0===a)o=s=0;else{s=a/i;const r=((i-e)/6+a/2)/a,l=((i-t)/6+a/2)/a,c=((i-n)/6+a/2)/a;e===i?o=c-l:t===i?o=1/3+r-c:n===i&&(o=2/3+l-r),o<0?o+=1:o>1&&(o-=1)}return[360*o,100*s,100*i]}function b(e,t,n,r){return t/=100,n/=100,[...y(255*(1-f(1,(e/=100)*(1-(r/=100))+r)),255*(1-f(1,t*(1-r)+r)),255*(1-f(1,n*(1-r)+r)))]}function w(e,t,n){t/=100;const r=2*(t*=(n/=100)<.5?n:1-n)/(n+t)*100,i=100*(n+t);return[e,isNaN(r)?0:r,i]}function C(e){return y(...e.match(/.{2}/g).map(e=>parseInt(e,16)))}function x(e=0,t=0,n=0,r=1){const i=(e,t)=>(n=-1)=>t(~n?e.map(e=>Number(e.toFixed(n))):e),a={h:e,s:t,v:n,a:r,toHSVA(){const e=[a.h,a.s,a.v,a.a];return e.toString=i(e,e=>`hsva(${e[0]}, ${e[1]}%, ${e[2]}%, ${a.a})`),e},toHSLA(){const e=[...v(a.h,a.s,a.v),a.a];return e.toString=i(e,e=>`hsla(${e[0]}, ${e[1]}%, ${e[2]}%, ${a.a})`),e},toRGBA(){const e=[...m(a.h,a.s,a.v),a.a];return e.toString=i(e,e=>`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${a.a})`),e},toCMYK(){const e=function(e,t,n){const r=m(e,t,n),i=r[0]/255,a=r[1]/255,o=r[2]/255,s=f(1-i,1-a,1-o);return[100*(1===s?0:(1-i-s)/(1-s)),100*(1===s?0:(1-a-s)/(1-s)),100*(1===s?0:(1-o-s)/(1-s)),100*s]}(a.h,a.s,a.v);return e.toString=i(e,e=>`cmyk(${e[0]}%, ${e[1]}%, ${e[2]}%, ${e[3]}%)`),e},toHEXA(){const e=function(e,t,n){return m(e,t,n).map(e=>g(e).toString(16).padStart(2,"0"))}(a.h,a.s,a.v),t=a.a>=1?"":Number((255*a.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return t&&e.push(t),e.toString=()=>"#"+e.join("").toUpperCase(),e},clone:()=>x(a.h,a.s,a.v,a.a)};return a}const E=e=>Math.max(Math.min(e,1),0);function k(e){const t={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},e),_keyboard(e){const{options:n}=t,{type:r,key:i}=e;if(document.activeElement===n.wrapper){const{lock:n}=t.options,a="ArrowUp"===i,o="ArrowRight"===i,s="ArrowDown"===i,l="ArrowLeft"===i;if("keydown"===r&&(a||o||s||l)){let r=0,i=0;"v"===n?r=a||o?1:-1:"h"===n?r=a||o?-1:1:(i=a?-1:s?1:0,r=l?-1:o?1:0),t.update(E(t.cache.x+.01*r),E(t.cache.y+.01*i)),e.preventDefault()}else i.startsWith("Arrow")&&(t.options.onstop(),e.preventDefault())}},_tapstart(e){a(document,["mouseup","touchend","touchcancel"],t._tapstop),a(document,["mousemove","touchmove"],t._tapmove),e.cancelable&&e.preventDefault(),t._tapmove(e)},_tapmove(e){const{options:n,cache:r}=t,{lock:i,element:a,wrapper:o}=n,s=o.getBoundingClientRect();let l=0,c=0;if(e){const t=e&&e.touches&&e.touches[0];l=e?(t||e).clientX:0,c=e?(t||e).clientY:0,l<s.left?l=s.left:l>s.left+s.width&&(l=s.left+s.width),c<s.top?c=s.top:c>s.top+s.height&&(c=s.top+s.height),l-=s.left,c-=s.top}else r&&(l=r.x*s.width,c=r.y*s.height);"h"!==i&&(a.style.left=`calc(${l/s.width*100}% - ${a.offsetWidth/2}px)`),"v"!==i&&(a.style.top=`calc(${c/s.height*100}% - ${a.offsetHeight/2}px)`),t.cache={x:l/s.width,y:c/s.height};const u=E(l/s.width),h=E(c/s.height);switch(i){case"v":return n.onchange(u);case"h":return n.onchange(h);default:return n.onchange(u,h)}},_tapstop(){t.options.onstop(),o(document,["mouseup","touchend","touchcancel"],t._tapstop),o(document,["mousemove","touchmove"],t._tapmove)},trigger(){t._tapmove()},update(e=0,n=0){const{left:r,top:i,width:a,height:o}=t.options.wrapper.getBoundingClientRect();"h"===t.options.lock&&(n=e),t._tapmove({clientX:r+a*e,clientY:i+o*n})},destroy(){const{options:e,_tapstart:n,_keyboard:r}=t;o(document,["keydown","keyup"],r),o([e.wrapper,e.element],"mousedown",n),o([e.wrapper,e.element],"touchstart",n,{passive:!1})}},{options:n,_tapstart:r,_keyboard:i}=t;return a([n.wrapper,n.element],"mousedown",r),a([n.wrapper,n.element],"touchstart",r,{passive:!1}),a(document,["keydown","keyup"],i),t}function S(e={}){e=Object.assign({onchange:()=>0,className:"",elements:[]},e);const t=a(e.elements,"click",t=>{e.elements.forEach(n=>n.classList[t.target===n?"add":"remove"](e.className)),e.onchange(t),t.stopPropagation()});return{destroy:()=>o(...t)}}const _={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8};function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O{constructor(e){T(this,"_initializingActive",!0),T(this,"_recalc",!0),T(this,"_nanopop",null),T(this,"_root",null),T(this,"_color",x()),T(this,"_lastColor",x()),T(this,"_swatchColors",[]),T(this,"_setupAnimationFrame",null),T(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=e=Object.assign({...O.DEFAULT_OPTIONS},e);const{swatches:t,components:n,theme:r,sliders:i,lockOpacity:a,padding:o}=e;["nano","monolith"].includes(r)&&!i&&(e.sliders="h"),n.interaction||(n.interaction={});const{preview:s,opacity:l,hue:c,palette:u}=n;n.opacity=!a&&l,n.palette=u||s||l||c,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),t&&t.length&&t.forEach(e=>this.addSwatch(e));const{button:h,app:f}=this._root;this._nanopop=((e,t,n)=>{const r="object"!=typeof e||e instanceof HTMLElement?{reference:e,popper:t,...n}:e;return{update(e=r){const{reference:t,popper:n}=Object.assign(r,e);if(!n||!t)throw new Error("Popper- or reference-element missing.");return((e,t,n)=>{const{container:r,margin:i,position:a,variantFlipOrder:o,positionFlipOrder:s}={container:document.documentElement.getBoundingClientRect(),..._,...n},{left:l,top:c}=t.style;t.style.left="0",t.style.top="0";const u=e.getBoundingClientRect(),h=t.getBoundingClientRect(),f={t:u.top-h.height-i,b:u.bottom+i,r:u.right+i,l:u.left-h.width-i},d={vs:u.left,vm:u.left+u.width/2+-h.width/2,ve:u.left+u.width-h.width,hs:u.top,hm:u.bottom-u.height/2-h.height/2,he:u.bottom-h.height},[p,g="middle"]=a.split("-"),m=s[p],v=o[g],{top:y,left:b,bottom:w,right:C}=r;for(const e of m){const n="t"===e||"b"===e,r=f[e],[i,a]=n?["top","left"]:["left","top"],[o,s]=n?[h.height,h.width]:[h.width,h.height],[l,c]=n?[w,C]:[C,w],[u,p]=n?[y,b]:[b,y];if(!(r<u||r+o>l))for(const o of v){const l=d[(n?"v":"h")+o];if(!(l<p||l+s>c))return t.style[a]=l-h[a]+"px",t.style[i]=r-h[i]+"px",e+o}}return t.style.left=l,t.style.top=c,null})(t,n,r)}}})(h,f,{margin:o}),h.setAttribute("role","button"),h.setAttribute("aria-label",this._t("btn:toggle"));const d=this;this._setupAnimationFrame=requestAnimationFrame((function t(){if(!f.offsetWidth)return requestAnimationFrame(t);d.setColor(e.default),d._rePositioningPicker(),e.defaultRepresentation&&(d._representation=e.defaultRepresentation,d.setColorRepresentation(d._representation)),e.showAlways&&d.show(),d._initializingActive=!1,d._emit("init")}))}_preBuild(){const{options:e}=this;for(const t of["el","container"])e[t]=u(e[t]);this._root=(e=>{const{components:t,useAsButton:n,inline:r,appClass:i,theme:a,lockOpacity:o}=e.options,s=e=>e?"":'style="display:none" hidden',c=t=>e._t(t),u=l(`\n      <div :ref="root" class="pickr">\n\n        ${n?"":'<button type="button" :ref="button" class="pcr-button"></button>'}\n\n        <div :ref="app" class="pcr-app ${i||""}" data-theme="${a}" ${r?'style="position: unset"':""} aria-label="${c("ui:dialog")}" role="window">\n          <div class="pcr-selection" ${s(t.palette)}>\n            <div :obj="preview" class="pcr-color-preview" ${s(t.preview)}>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${c("btn:last-color")}"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${c("aria:palette")}" role="listbox"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ${s(t.hue)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${c("aria:hue")}" role="slider"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ${s(t.opacity)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${c("aria:opacity")}" role="slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ${t.palette?"":"pcr-last"}" :ref="swatches"></div>\n\n          <div :obj="interaction" class="pcr-interaction" ${s(Object.keys(t.interaction).length)}>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${s(t.interaction.input)} aria-label="${c("aria:input")}">\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="${o?"HEX":"HEXA"}" type="button" ${s(t.interaction.hex)}>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="${o?"RGB":"RGBA"}" type="button" ${s(t.interaction.rgba)}>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="${o?"HSL":"HSLA"}" type="button" ${s(t.interaction.hsla)}>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="${o?"HSV":"HSVA"}" type="button" ${s(t.interaction.hsva)}>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${s(t.interaction.cmyk)}>\n\n            <input :ref="save" class="pcr-save" value="${c("btn:save")}" type="button" ${s(t.interaction.save)} aria-label="${c("aria:btn:save")}">\n            <input :ref="cancel" class="pcr-cancel" value="${c("btn:cancel")}" type="button" ${s(t.interaction.cancel)} aria-label="${c("aria:btn:cancel")}">\n            <input :ref="clear" class="pcr-clear" value="${c("btn:clear")}" type="button" ${s(t.interaction.clear)} aria-label="${c("aria:btn:clear")}">\n          </div>\n        </div>\n      </div>\n    `),h=u.interaction;return h.options.find(e=>!e.hidden&&!e.classList.add("active")),h.type=()=>h.options.find(e=>e.classList.contains("active")),u})(this),e.useAsButton&&(this._root.button=e.el),e.container.appendChild(this._root.root)}_finalBuild(){const e=this.options,t=this._root;if(e.container.removeChild(t.root),e.inline){const n=e.el.parentElement;e.el.nextSibling?n.insertBefore(t.app,e.el.nextSibling):n.appendChild(t.app)}else e.container.appendChild(t.app);e.useAsButton?e.inline&&e.el.remove():e.el.parentNode.replaceChild(t.root,e.el),e.disabled&&this.disable(),e.comparison||(t.button.style.transition="none",e.useAsButton||(t.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const e=this,t=this.options.components,n=(e.options.sliders||"v").repeat(2),[r,i]=n.match(/^[vh]+$/g)?n:[],a=()=>this._color||(this._color=this._lastColor.clone()),o={palette:k({element:e._root.palette.picker,wrapper:e._root.palette.palette,onstop:()=>e._emit("changestop","slider",e),onchange(n,r){if(!t.palette)return;const i=a(),{_root:o,options:s}=e,{lastColor:l,currentColor:c}=o.preview;e._recalc&&(i.s=100*n,i.v=100-100*r,i.v<0&&(i.v=0),e._updateOutput("slider"));const u=i.toRGBA().toString(0);this.element.style.background=u,this.wrapper.style.background=`\n                        linear-gradient(to top, rgba(0, 0, 0, ${i.a}), transparent),\n                        linear-gradient(to left, hsla(${i.h}, 100%, 50%, ${i.a}), rgba(255, 255, 255, ${i.a}))\n                    `,s.comparison?s.useAsButton||e._lastColor||l.style.setProperty("--pcr-color",u):(o.button.style.color=u,o.button.classList.remove("clear"));const h=i.toHEXA().toString();for(const{el:t,color:n}of e._swatchColors)t.classList[h===n.toHEXA().toString()?"add":"remove"]("pcr-active");c.style.setProperty("--pcr-color",u)}}),hue:k({lock:"v"===i?"h":"v",element:e._root.hue.picker,wrapper:e._root.hue.slider,onstop:()=>e._emit("changestop","slider",e),onchange(n){if(!t.hue||!t.palette)return;const r=a();e._recalc&&(r.h=360*n),this.element.style.backgroundColor=`hsl(${r.h}, 100%, 50%)`,o.palette.trigger()}}),opacity:k({lock:"v"===r?"h":"v",element:e._root.opacity.picker,wrapper:e._root.opacity.slider,onstop:()=>e._emit("changestop","slider",e),onchange(n){if(!t.opacity||!t.palette)return;const r=a();e._recalc&&(r.a=Math.round(100*n)/100),this.element.style.background=`rgba(0, 0, 0, ${r.a})`,o.palette.trigger()}}),selectable:S({elements:e._root.interaction.options,className:"active",onchange(t){e._representation=t.target.getAttribute("data-type").toUpperCase(),e._recalc&&e._updateOutput("swatch")}})};this._components=o}_bindEvents(){const{_root:e,options:t}=this,n=[a(e.interaction.clear,"click",()=>this._clearColor()),a([e.interaction.cancel,e.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),a(e.interaction.save,"click",()=>{!this.applyColor()&&!t.showAlways&&this.hide()}),a(e.interaction.result,["keyup","input"],e=>{this.setColor(e.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),e.stopImmediatePropagation()}),a(e.interaction.result,["focus","blur"],e=>{this._recalc="blur"===e.type,this._recalc&&this._updateOutput(null)}),a([e.palette.palette,e.palette.picker,e.hue.slider,e.hue.picker,e.opacity.slider,e.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!t.showAlways){const r=t.closeWithKey;n.push(a(e.button,"click",()=>this.isOpen()?this.hide():this.show()),a(document,"keyup",e=>this.isOpen()&&(e.key===r||e.code===r)&&this.hide()),a(document,["touchstart","mousedown"],t=>{this.isOpen()&&!c(t).some(t=>t===e.app||t===e.button)&&this.hide()},{capture:!0}))}if(t.adjustableNumbers){const t={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};h(e.interaction.result,(e,n,r)=>{const i=t[this.getColorRepresentation().toLowerCase()];if(i){const t=i[r],a=e+(t>=100?1e3*n:n);return a<=0?0:Number((a<t?a:t).toPrecision(3))}return e})}if(t.autoReposition&&!t.inline){let e=null;const r=this;n.push(a(window,["scroll","resize"],()=>{r.isOpen()&&(t.closeOnScroll&&r.hide(),null===e?(e=setTimeout(()=>e=null,100),requestAnimationFrame((function t(){r._rePositioningPicker(),null!==e&&requestAnimationFrame(t)}))):(clearTimeout(e),e=setTimeout(()=>e=null,100)))},{capture:!0}))}this._eventBindings=n}_rePositioningPicker(){const{options:e}=this;if(!e.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:e.position})){const e=this._root.app,t=e.getBoundingClientRect();e.style.top=(window.innerHeight-t.height)/2+"px",e.style.left=(window.innerWidth-t.width)/2+"px"}}_updateOutput(e){const{_root:t,_color:n,options:r}=this;if(t.interaction.type()){const e="to"+t.interaction.type().getAttribute("data-type");t.interaction.result.value="function"==typeof n[e]?n[e]().toString(r.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",n,e,this)}_clearColor(e=!1){const{_root:t,options:n}=this;n.useAsButton||(t.button.style.color="rgba(0, 0, 0, 0.15)"),t.button.classList.add("clear"),n.showAlways||this.hide(),this._lastColor=null,this._initializingActive||e||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(e){const{values:t,type:n,a:r}=function(e){e=e.match(/^[a-zA-Z]+$/)?function(e){if("black"===e.toLowerCase())return"#000";const t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,"#000"===t.fillStyle?null:t.fillStyle}(e):e;const t={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},n=e=>e.map(e=>/^(|\d+)\.\d+|\d+$/.test(e)?Number(e):void 0);let r;e:for(const i in t){if(!(r=t[i].exec(e)))continue;const a=e=>!!r[2]==("number"==typeof e);switch(i){case"cmyk":{const[,e,t,a,o]=n(r);if(e>100||t>100||a>100||o>100)break e;return{values:b(e,t,a,o),type:i}}case"rgba":{const[,,,e,t,o,s]=n(r);if(e>255||t>255||o>255||s<0||s>1||!a(s))break e;return{values:[...y(e,t,o),s],a:s,type:i}}case"hexa":{let[,e]=r;4!==e.length&&3!==e.length||(e=e.split("").map(e=>e+e).join(""));const t=e.substring(0,6);let n=e.substring(6);return n=n?parseInt(n,16)/255:void 0,{values:[...C(t),n],a:n,type:i}}case"hsla":{const[,,,e,t,o,s]=n(r);if(e>360||t>100||o>100||s<0||s>1||!a(s))break e;return{values:[...w(e,t,o),s],a:s,type:i}}case"hsva":{const[,,,e,t,o,s]=n(r);if(e>360||t>100||o>100||s<0||s>1||!a(s))break e;return{values:[e,t,o,s],a:s,type:i}}}}return{values:null,type:null}}(e),{lockOpacity:i}=this.options,a=void 0!==r&&1!==r;return t&&3===t.length&&(t[3]=void 0),{values:!t||i&&a?null:t,type:n}}_t(e){return this.options.i18n[e]||O.I18N_DEFAULTS[e]}_emit(e,...t){this._eventListener[e].forEach(e=>e(...t,this))}on(e,t){return this._eventListener[e].push(t),this}off(e,t){const n=this._eventListener[e]||[],r=n.indexOf(t);return~r&&n.splice(r,1),this}addSwatch(e){const{values:t}=this._parseLocalColor(e);if(t){const{_swatchColors:e,_root:n}=this,r=x(...t),i=s(`<button type="button" style="--pcr-color: ${r.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return n.swatches.appendChild(i),e.push({el:i,color:r}),this._eventBindings.push(a(i,"click",()=>{this.setHSVA(...r.toHSVA(),!0),this._emit("swatchselect",r),this._emit("change",r,"swatch",this)})),!0}return!1}removeSwatch(e){const t=this._swatchColors[e];if(t){const{el:n}=t;return this._root.swatches.removeChild(n),this._swatchColors.splice(e,1),!0}return!1}applyColor(e=!1){const{preview:t,button:n}=this._root,r=this._color.toRGBA().toString(0);return t.lastColor.style.setProperty("--pcr-color",r),this.options.useAsButton||n.style.setProperty("--pcr-color",r),n.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||e||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(e=>o(...e)),Object.keys(this._components).forEach(e=>this._components[e].destroy())}destroyAndRemove(){this.destroy();const{root:e,app:t}=this._root;e.parentElement&&e.parentElement.removeChild(e),t.parentElement.removeChild(t),Object.keys(this).forEach(e=>this[e]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(e=360,t=0,n=0,r=1,i=!1){const a=this._recalc;if(this._recalc=!1,e<0||e>360||t<0||t>100||n<0||n>100||r<0||r>1)return!1;this._color=x(e,t,n,r);const{hue:o,opacity:s,palette:l}=this._components;return o.update(e/360),s.update(r),l.update(t/100,1-n/100),i||this.applyColor(),a&&this._updateOutput(),this._recalc=a,!0}setColor(e,t=!1){if(null===e)return this._clearColor(t),!0;const{values:n,type:r}=this._parseLocalColor(e);if(n){const e=r.toUpperCase(),{options:i}=this._root.interaction,a=i.find(t=>t.getAttribute("data-type")===e);if(a&&!a.hidden)for(const e of i)e.classList[e===a?"add":"remove"]("active");return!!this.setHSVA(...n,t)&&this.setColorRepresentation(e)}return!1}setColorRepresentation(e){return e=e.toUpperCase(),!!this._root.interaction.options.find(t=>t.getAttribute("data-type").startsWith(e)&&!t.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}T(O,"utils",r),T(O,"version","1.8.1"),T(O,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),T(O,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),T(O,"create",e=>new O(e)),t.default=O}]).default},1034:e=>{var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,n){return"number"!=typeof n||t[e]?n:n+"px"}},4559:(e,t,n)=>{e.exports=n(9335)},1786:(e,t,n)=>{"use strict";var r=n(8266),i=n(5608),a=n(9568),o=n(3943),s=n(8201),l=n(1745),c=n(7979);e.exports=function(e){return new Promise((function(t,u){var h=e.data,f=e.headers;r.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",g=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+g)}var m=o(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),a(m,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};i(t,u,r),d=null}},d.onabort=function(){d&&(u(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){u(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(c(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(159),y=(e.withCredentials||l(m))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&r.forEach(f,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),u(e),d=null)})),void 0===h&&(h=null),d.send(h)}))}},9335:(e,t,n)=>{"use strict";var r=n(8266),i=n(4345),a=n(7929),o=n(650);function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var l=s(n(9046));l.Axios=a,l.create=function(e){return s(o(l.defaults,e))},l.Cancel=n(9760),l.CancelToken=n(7510),l.isCancel=n(8825),l.all=function(e){return Promise.all(e)},l.spread=n(4346),e.exports=l,e.exports.default=l},9760:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},7510:(e,t,n)=>{"use strict";var r=n(9760);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},8825:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},7929:(e,t,n)=>{"use strict";var r=n(8266),i=n(9568),a=n(6252),o=n(6029),s=n(650);function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=l},6252:(e,t,n)=>{"use strict";var r=n(8266);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},3943:(e,t,n)=>{"use strict";var r=n(406),i=n(5027);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},7979:(e,t,n)=>{"use strict";var r=n(2050);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},6029:(e,t,n)=>{"use strict";var r=n(8266),i=n(2661),a=n(8825),o=n(9046);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},2050:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},650:(e,t,n)=>{"use strict";var r=n(8266);e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(a,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),r.forEach(o,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var s=i.concat(a).concat(o),l=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return r.forEach(l,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},5608:(e,t,n)=>{"use strict";var r=n(7979);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},2661:(e,t,n)=>{"use strict";var r=n(8266);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},9046:(e,t,n)=>{"use strict";var r=n(2790),i=n(8266),a=n(1490),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(l=n(1786)),l),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(o)})),e.exports=c},4345:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9568:(e,t,n)=>{"use strict";var r=n(8266);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},5027:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},159:(e,t,n)=>{"use strict";var r=n(8266);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},406:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},1745:(e,t,n)=>{"use strict";var r=n(8266);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},1490:(e,t,n)=>{"use strict";var r=n(8266);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},8201:(e,t,n)=>{"use strict";var r=n(8266),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},4346:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8266:(e,t,n)=>{"use strict";var r=n(4345),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},6717:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,a=l(e),o=a[0],s=a[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,h=s>0?o-4:o;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(c(e,o,o+16383>s?s:o+16383));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},5851:(e,t,n)=>{"use strict";var r=n(6717),i=n(9350),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=s,t.h2=50;function o(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=o(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(N(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(N(e,ArrayBuffer)||e&&N(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(N(e,SharedArrayBuffer)||e&&N(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var i=function(e){if(s.isBuffer(e)){var t=0|d(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||B(e.length)?o(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),o(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,s.prototype),r}function d(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||N(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(e).length;default:if(i)return r?-1:Z(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return _(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),B(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var h=!0,f=0;f<l;f++)if(c(e,a+f)!==c(t,f)){h=!1;break}if(h)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(B(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return F(Z(t,e.length-n),e,n,r)}function C(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return F(D(t),e,n,r)}function E(e,t,n,r){return F(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(N(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),N(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(N(a,Uint8Array))i+a.length>r.length?s.from(a).copy(r,i):Uint8Array.prototype.set.call(r,a,i);else{if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i)}i+=a.length}return r},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,i){if(N(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),l=Math.min(a,o),c=this.slice(r,i),u=e.slice(t,n),h=0;h<l;++h)if(c[h]!==u[h]){a=c[h],o=u[h];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return C(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=z[e[a]];return i}function A(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,a){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(e,t,n,r,a){return t=+t,n>>>=0,a||M(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,a){return t=+t,n>>>=0,a||M(e,0,n,8),i.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},s.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=s.isBuffer(e)?e:s.from(e,r),l=o.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%l]}return this};var L=/[^+/0-9A-Za-z-_]/g;function Z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function D(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function N(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function B(e){return e!=e}var z=function(){for(var e=new Array(256),t=0;t<16;++t)for(var n=16*t,r=0;r<16;++r)e[n+r]="0123456789abcdef"[t]+"0123456789abcdef"[r];return e}()},7260:e=>{"use strict";e.exports=function(e,t){if("string"==typeof e)return o(e);if("number"==typeof e)return a(e,t);return null},e.exports.format=a,e.exports.parse=o;var t=/\B(?=(\d{3})+(?!\d))/g,n=/(?:\.0*|(\.[^0]+)0+)$/,r={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function a(e,i){if(!Number.isFinite(e))return null;var a=Math.abs(e),o=i&&i.thousandsSeparator||"",s=i&&i.unitSeparator||"",l=i&&void 0!==i.decimalPlaces?i.decimalPlaces:2,c=Boolean(i&&i.fixedDecimals),u=i&&i.unit||"";u&&r[u.toLowerCase()]||(u=a>=r.pb?"PB":a>=r.tb?"TB":a>=r.gb?"GB":a>=r.mb?"MB":a>=r.kb?"KB":"B");var h=(e/r[u.toLowerCase()]).toFixed(l);return c||(h=h.replace(n,"$1")),o&&(h=h.replace(t,o)),h+s+u}function o(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=i.exec(e),a="b";return n?(t=parseFloat(n[1]),a=n[4].toLowerCase()):(t=parseInt(e,10),a="b"),Math.floor(r[a]*t)}},8226:(e,t)=>{"use strict";function n(e){var t=-1;r||(r=function(){for(var e=new Int32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}());for(var n=0;n<e.length;n++)t=r[255&(t^e[n])]^t>>>8;return-1^t}t.Hv=function(e,t){var n=e.split(","),r=n[0],o=n[1],s=void 0,l=void 0,c=!1;if(-1!==r.indexOf(i)){s=i;var h=function(e){var t=e.indexOf("AAlwSFlz");-1===t&&(t=e.indexOf("AAAJcEhZ"));-1===t&&(t=e.indexOf("AAAACXBI"));return t}(o);h>=0?(l=4*Math.ceil((h+28)/3),c=!0):l=44}-1!==r.indexOf(a)&&(s=a,l=24);for(var f=o.substring(0,l),d=o.substring(l),p=atob(f),g=new Uint8Array(p.length),m=0;m<g.length;m++)g[m]=p.charCodeAt(m);var v=u(g,t,s,c),y=btoa(String.fromCharCode.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(v)));return[r,",",y,d].join("")};var r=void 0,i="image/png",a="image/jpeg",o="p".charCodeAt(0),s="H".charCodeAt(0),l="Y".charCodeAt(0),c="s".charCodeAt(0);function u(e,t,r,u){if(r===a)return e[13]=1,e[14]=t>>8,e[15]=255&t,e[16]=t>>8,e[17]=255&t,e;if(r===i){var h=new Uint8Array(13);t*=39.3701,h[0]=o,h[1]=s,h[2]=l,h[3]=c,h[4]=t>>>24,h[5]=t>>>16,h[6]=t>>>8,h[7]=255&t,h[8]=h[4],h[9]=h[5],h[10]=h[6],h[11]=h[7],h[12]=1;var f=n(h),d=new Uint8Array(4);if(d[0]=f>>>24,d[1]=f>>>16,d[2]=f>>>8,d[3]=255&f,u){var p=function(e){for(var t=e.length-1;t>=4;t--)if(9===e[t-4]&&e[t-3]===o&&e[t-2]===s&&e[t-1]===l&&e[t]===c)return t-3}(e);return e.set(h,p),e.set(d,p+13),e}var g=new Uint8Array(4);g[0]=0,g[1]=0,g[2]=0,g[3]=9;var m=new Uint8Array(54);return m.set(e,0),m.set(g,33),m.set(h,37),m.set(d,50),m}}},3502:e=>{"use strict";var t={single_source_shortest_paths:function(e,n,r){var i={},a={};a[n]=0;var o,s,l,c,u,h,f,d=t.PriorityQueue.make();for(d.push(n,0);!d.empty();)for(l in s=(o=d.pop()).value,c=o.cost,u=e[s]||{})u.hasOwnProperty(l)&&(h=c+u[l],f=a[l],(void 0===a[l]||f>h)&&(a[l]=h,d.push(l,h),i[l]=s));if(void 0!==r&&void 0===a[r]){var p=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var i=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,i={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=e.sorter||r.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},2629:(e,t,n)=>{var r=n(9656),i=n(9588),a={float:"cssFloat"},o=n(1034);function s(e,t,n){var s=a[t];if(void 0===s&&(s=function(e){var t=i(e),n=r(t);return a[t]=a[e]=a[n]=n,n}(t)),s){if(void 0===n)return e.style[s];e.style[s]=o(s,n)}}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&s(e,n,t[n])}function c(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:l(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=c,e.exports.set=c,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=s(e,n||""),t}),{}):s(e,t||"")}},5380:(e,t,n)=>{e.exports={create:n(1391),escape:n(4118),isEscaped:n(5179),get:n(6021),join:n(6088),keys:n(6158),recurse:n(9375),ParseException:n(7906)}},1391:(e,t,n)=>{var r=n(6158);function i(e){return"number"==typeof e?[]:{}}e.exports=function(e,t,n){for(var a,o=r(t),s=a=e&&"object"==typeof e?e:i(o[0]),l=o.length-1,c=0;c<l;c++){var u=o[c];s[u]||(s[u]=i(o[c+1])),s=s[u]}return s[o[l]]=n,a}},4118:(e,t,n)=>{var r=n(7906),i=n(6331);e.exports=function(e){var t=typeof e;if("number"===t)return"["+e+"]";if("string"!==t)throw new r("Unexpected non-string value provided!");if(!i.accessor.test(e)){var n='["';return i.quote.test(e)?n+=e.replace(/"/g,'\\"'):n+=e,n+'"]'}return e}},5179:(e,t,n)=>{var r=n(6331);e.exports=function(e){var t;return"string"==typeof e&&(t=e.match(r.key)),!(!t||void 0===t[1])}},7906:(e,t,n)=>{e.exports=function(e){Error.call(this),this.name=this.constructor.name,this.message="string"==typeof e?e:"Unable to parse '"+e.key+"' at character '"+e.char+"', column "+(e.index+1)+"!","captureStackTrace"in Error?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack.replace("Error",this.name).replace(/\n\s+at.*/,"")},n(3254).inherits(e.exports,Error)},6021:(e,t,n)=>{var r=n(6158);e.exports=function(e,t){if(e&&"object"==typeof e){for(var n=r(t),i=e,a=n.length-1,o=0;o<a;o++)if(null==(i=i[n[o]]))return i;return i[n[a]]}}},6088:(e,t,n)=>{var r=n(4118);e.exports=function(e){for(var t="",n=0,i=e.length;n<i;n++){var a=e[n],o=r(a);t&&"["!==o[0]&&(o="."+o),t+=o}return t}},6158:(e,t,n)=>{var r=n(7906),i=n(6331);e.exports=function(e){if(!e)throw new r("Unable to parse empty string!");if("string"!=typeof e)throw new r("Unexpected non-string value provided!");for(var t=[],n=0,a=e;a;){var o=a.match(i.segment);if(!o||void 0===o[1])throw new r({char:a[0],index:n,key:e});var s,l,c=o[1];if(s=i.accessor.test(c)?c:i.index.test(c)?+c.match(i.index)[1]:c.match(i.property)[1],t.push(s),a.length===c.length)l="";else{var u="."===(l=a.substring(c.length))[0];if(l.length<=1)throw new r("Unable to parse '"+e+"' due to trailing "+(u?"dot":"bracket")+"!");var h=l[1];if(!(u?i.accessor:i.opener).test(h))throw new r({char:h,index:n+c.length+1,key:e});u&&(l=l.substring(1))}n+=a.length-l.length,a=l}return t}},6331:e=>{var t,n={accessor:/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,index:/^\[([0-9]+)]$/,number:/^[0-9]+$/,opener:/^(?:[0-9]|"|')$/,property:/^\[(?:'|")(.*)(?:'|")]$/,quote:/"/,segment:/^((?:[a-zA-Z_$][a-zA-Z0-9_$]*)|(?:\[(?:'.*?(?='])'|".*?(?="])")])|(?:\[\d+]))/};t=n.segment.toString().slice(1,-1),n.key=new RegExp(t+"$"),e.exports=n},9375:(e,t,n)=>{var r=n(4118);e.exports=function e(t,n,i){if("object"!=typeof t||null===t)throw new TypeError("Non-object provided to `recurse`!");"string"!=typeof i&&(i="");for(var a=t instanceof Array,o=Object.keys(t),s=0,l=o.length;s<l;s++){var c,u=o[s];n.length>2&&(c=r(a?+u:u),i&&"["!==c[0]&&(c="."+c),c=i+c),t[u]&&"object"==typeof t[u]?e(t[u],n,c):n(a?+u:u,t[u],c)}}},5438:(e,t,n)=>{var r,i,a,o,s,l,c,u,h,f,d,p,g,m,v,y,b=b||{version:"4.5.0"};if(t.fabric=b,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?b.document=document:b.document=document.implementation.createHTMLDocument(""),b.window=window;else{var w=new(n(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;b.document=w.document,b.jsdomImplForWrapper=n(6759).implForWrapper,b.nodeCanvas=n(6272).Canvas,b.window=w,DOMParser=b.window.DOMParser}function C(e,t){var n=e.canvas,r=t.targetCanvas,i=r.getContext("2d");i.translate(0,r.height),i.scale(1,-1);var a=n.height-r.height;i.drawImage(n,0,a,r.width,r.height,0,0,r.width,r.height)}function x(e,t){var n=t.targetCanvas.getContext("2d"),r=t.destinationWidth,i=t.destinationHeight,a=r*i*4,o=new Uint8Array(this.imageBuffer,0,a),s=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,r,i,e.RGBA,e.UNSIGNED_BYTE,o);var l=new ImageData(s,r,i);n.putImageData(l,0,0)}b.isTouchSupported="ontouchstart"in b.window||"ontouchstart"in b.document||b.window&&b.window.navigator&&b.window.navigator.maxTouchPoints>0,b.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,b.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],b.DPI=96,b.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",b.commaWsp="(?:\\s+,?\\s*|,\\s*)",b.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,b.reNonWord=/[ \n\.,;!\?\-]/,b.fontPaths={},b.iMatrix=[1,0,0,1,0,0],b.svgNS="http://www.w3.org/2000/svg",b.perfLimitSizeTotal=2097152,b.maxCacheSideLimit=4096,b.minCacheSideLimit=256,b.charWidthsCache={},b.textureSize=2048,b.disableStyleCopyPaste=!1,b.enableGLFiltering=!0,b.devicePixelRatio=b.window.devicePixelRatio||b.window.webkitDevicePixelRatio||b.window.mozDevicePixelRatio||1,b.browserShadowBlurConstant=1,b.arcToSegmentsCache={},b.boundsOfCurveCache={},b.cachesBoundsOfCurve=!0,b.forceGLPutImageData=!1,b.initFilterBackend=function(){return b.enableGLFiltering&&b.isWebglSupported&&b.isWebglSupported(b.textureSize)?(console.log("max texture size: "+b.maxTextureSize),new b.WebglFilterBackend({tileSize:b.textureSize})):b.Canvas2dFilterBackend?new b.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=b),function(){function e(e,t){if(this.__eventListeners[e]){var n=this.__eventListeners[e];t?n[n.indexOf(t)]=!1:b.util.array.fill(n,!1)}}b.Observable={fire:function(e,t){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var r=0,i=n.length;r<i;r++)n[r]&&n[r].call(this,t||{});return this.__eventListeners[e]=n.filter((function(e){return!1!==e})),this},on:function(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this},off:function(t,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(t in this.__eventListeners)e.call(this,t);else if(1===arguments.length&&"object"==typeof arguments[0])for(var r in t)e.call(this,r,t[r]);else e.call(this,t,n);return this}}}(),b.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(e,t,n){var r=this._objects;return n?r[t]=e:r.splice(t,0,e),this._onObjectAdded&&this._onObjectAdded(e),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var e,t=this._objects,n=!1,r=0,i=arguments.length;r<i;r++)-1!==(e=t.indexOf(arguments[r]))&&(n=!0,t.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(e,t){for(var n=this.getObjects(),r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);return this},getObjects:function(e){return void 0===e?this._objects.concat():this._objects.filter((function(t){return t.type===e}))},item:function(e){return this._objects[e]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e){return this._objects.indexOf(e)>-1},complexity:function(){return this._objects.reduce((function(e,t){return e+=t.complexity?t.complexity():0}),0)}},b.CommonMethods={_setOptions:function(e){for(var t in e)this.set(t,e[t])},_initGradient:function(e,t){!e||!e.colorStops||e instanceof b.Gradient||this.set(t,new b.Gradient(e))},_initPattern:function(e,t,n){!e||!e.source||e instanceof b.Pattern?n&&n():this.set(t,new b.Pattern(e,n))},_setObject:function(e){for(var t in e)this._set(t,e[t])},set:function(e,t){return"object"==typeof e?this._setObject(e):this._set(e,t),this},_set:function(e,t){this[e]=t},toggle:function(e){var t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this},get:function(e){return this[e]}},function(e){var t=Math.sqrt,n=Math.atan2,r=Math.pow,i=Math.PI/180,a=Math.PI/2;b.util={cos:function(e){if(0===e)return 1;switch(e<0&&(e=-e),e/a){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(0===e)return 0;var t=1;switch(e<0&&(t=-1),e/a){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(e)},removeFromArray:function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degreesToRadians:function(e){return e*i},radiansToDegrees:function(e){return e/i},rotatePoint:function(e,t,n){e.subtractEquals(t);var r=b.util.rotateVector(e,n);return new b.Point(r.x,r.y).addEquals(t)},rotateVector:function(e,t){var n=b.util.sin(t),r=b.util.cos(t);return{x:e.x*r-e.y*n,y:e.x*n+e.y*r}},transformPoint:function(e,t,n){return n?new b.Point(t[0]*e.x+t[2]*e.y,t[1]*e.x+t[3]*e.y):new b.Point(t[0]*e.x+t[2]*e.y+t[4],t[1]*e.x+t[3]*e.y+t[5])},makeBoundingBoxFromPoints:function(e,t){if(t)for(var n=0;n<e.length;n++)e[n]=b.util.transformPoint(e[n],t);var r=[e[0].x,e[1].x,e[2].x,e[3].x],i=b.util.array.min(r),a=b.util.array.max(r)-i,o=[e[0].y,e[1].y,e[2].y,e[3].y],s=b.util.array.min(o);return{left:i,top:s,width:a,height:b.util.array.max(o)-s}},invertTransform:function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0]],r=b.util.transformPoint({x:e[4],y:e[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(e,t){return parseFloat(Number(e).toFixed(t))},parseUnit:function(e,t){var n=/\D{0,2}$/.exec(e),r=parseFloat(e);switch(t||(t=b.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*b.DPI/25.4;case"cm":return r*b.DPI/2.54;case"in":return r*b.DPI;case"pt":return r*b.DPI/72;case"pc":return r*b.DPI/72*12;case"em":return r*t;default:return r}},falseFunction:function(){return!1},getKlass:function(e,t){return e=b.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),b.util.resolveNamespace(t)[e]},getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":t=t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":t=t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":t=t.concat(["offset","stop-color","stop-opacity"])}return t},resolveNamespace:function(t){if(!t)return b;var n,r=t.split("."),i=r.length,a=e||b.window;for(n=0;n<i;++n)a=a[r[n]];return a},loadImage:function(e,t,n,r){if(e){var i=b.util.createImage(),a=function(){t&&t.call(n,i,!1),i=i.onload=i.onerror=null};i.onload=a,i.onerror=function(){b.log("Error loading "+i.src),t&&t.call(n,null,!0),i=i.onload=i.onerror=null},0!==e.indexOf("data")&&null!=r&&(i.crossOrigin=r),"data:image/svg"===e.substring(0,14)&&(i.onload=null,b.util.loadImageInDom(i,a)),i.src=e}else t&&t.call(n,e)},loadImageInDom:function(e,t){var n=b.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(e),b.document.querySelector("body").appendChild(n),e.onload=function(){t(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(e,t,n,r){var i=[],a=0,o=(e=e||[]).length;function s(){++a===o&&t&&t(i.filter((function(e){return e})))}o?e.forEach((function(e,t){e&&e.type?b.util.getKlass(e.type,n).fromObject(e,(function(n,a){a||(i[t]=n),r&&r(e,n,a),s()})):s()})):t&&t(i)},enlivenPatterns:function(e,t){function n(){++i===a&&t&&t(r)}var r=[],i=0,a=(e=e||[]).length;a?e.forEach((function(e,t){e&&e.source?new b.Pattern(e,(function(e){r[t]=e,n()})):(r[t]=e,n())})):t&&t(r)},groupSVGElements:function(e,t,n){var r;return e&&1===e.length?e[0]:(t&&(t.width&&t.height?t.centerPoint={x:t.width/2,y:t.height/2}:(delete t.width,delete t.height)),r=new b.Group(e,t),void 0!==n&&(r.sourcePath=n),r)},populateWithProperties:function(e,t,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var r=0,i=n.length;r<i;r++)n[r]in e&&(t[n[r]]=e[n[r]])},drawDashedLine:function(e,r,i,a,o,s){var l=a-r,c=o-i,u=t(l*l+c*c),h=n(c,l),f=s.length,d=0,p=!0;for(e.save(),e.translate(r,i),e.moveTo(0,0),e.rotate(h),r=0;u>r;)(r+=s[d++%f])>u&&(r=u),e[p?"lineTo":"moveTo"](r,0),p=!p;e.restore()},createCanvasElement:function(){return b.document.createElement("canvas")},copyCanvasElement:function(e){var t=b.util.createCanvasElement();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},toDataURL:function(e,t,n){return e.toDataURL("image/"+t,n)},createImage:function(){return b.document.createElement("img")},multiplyTransformMatrices:function(e,t,n){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]]},qrDecompose:function(e){var a=n(e[1],e[0]),o=r(e[0],2)+r(e[1],2),s=t(o),l=(e[0]*e[3]-e[2]*e[1])/s,c=n(e[0]*e[2]+e[1]*e[3],o);return{angle:a/i,scaleX:s,scaleY:l,skewX:c/i,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return b.iMatrix.concat();var t=b.util.degreesToRadians(e.angle),n=b.util.cos(t),r=b.util.sin(t);return[n,r,-r,n,0,0]},calcDimensionsMatrix:function(e){var t=void 0===e.scaleX?1:e.scaleX,n=void 0===e.scaleY?1:e.scaleY,r=[e.flipX?-t:t,0,0,e.flipY?-n:n,0,0],i=b.util.multiplyTransformMatrices,a=b.util.degreesToRadians;return e.skewX&&(r=i(r,[1,0,Math.tan(a(e.skewX)),1],!0)),e.skewY&&(r=i(r,[1,Math.tan(a(e.skewY)),0,1],!0)),r},composeMatrix:function(e){var t=[1,0,0,1,e.translateX||0,e.translateY||0],n=b.util.multiplyTransformMatrices;return e.angle&&(t=n(t,b.util.calcRotateMatrix(e))),(1!==e.scaleX||1!==e.scaleY||e.skewX||e.skewY||e.flipX||e.flipY)&&(t=n(t,b.util.calcDimensionsMatrix(e))),t},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},isTransparent:function(e,t,n,r){r>0&&(t>r?t-=r:t=0,n>r?n-=r:n=0);var i,a=!0,o=e.getImageData(t,n,2*r||1,2*r||1),s=o.data.length;for(i=3;i<s&&!1!==(a=o.data[i]<=0);i+=4);return o=null,a},parsePreserveAspectRatioAttribute:function(e){var t,n="meet",r=e.split(" ");return r&&r.length&&("meet"!==(n=r.pop())&&"slice"!==n?(t=n,n="meet"):r.length&&(t=r.pop())),{meetOrSlice:n,alignX:"none"!==t?t.slice(1,4):"none",alignY:"none"!==t?t.slice(5,8):"none"}},clearFabricFontCache:function(e){(e=(e||"").toLowerCase())?b.charWidthsCache[e]&&delete b.charWidthsCache[e]:b.charWidthsCache={}},limitDimsByArea:function(e,t){var n=Math.sqrt(t*e),r=Math.floor(t/n);return{x:Math.floor(n),y:r}},capValue:function(e,t,n){return Math.max(e,Math.min(t,n))},findScaleToFit:function(e,t){return Math.min(t.width/e.width,t.height/e.height)},findScaleToCover:function(e,t){return Math.max(t.width/e.width,t.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map((function(e){return b.util.toFixed(e,b.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(e,t){var n=b.util.invertTransform(t),r=b.util.multiplyTransformMatrices(n,e.calcOwnMatrix());b.util.applyTransformToObject(e,r)},addTransformToObject:function(e,t){b.util.applyTransformToObject(e,b.util.multiplyTransformMatrices(t,e.calcOwnMatrix()))},applyTransformToObject:function(e,t){var n=b.util.qrDecompose(t),r=new b.Point(n.translateX,n.translateY);e.flipX=!1,e.flipY=!1,e.set("scaleX",n.scaleX),e.set("scaleY",n.scaleY),e.skewX=n.skewX,e.skewY=n.skewY,e.angle=n.angle,e.setPositionByOrigin(r,"center","center")},sizeAfterTransform:function(e,t,n){var r=e/2,i=t/2,a=[{x:-r,y:-i},{x:r,y:-i},{x:-r,y:i},{x:r,y:i}],o=b.util.calcDimensionsMatrix(n),s=b.util.makeBoundingBoxFromPoints(a,o);return{x:s.width,y:s.height}}}}(t),function(){var e=Array.prototype.join,t={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},n={m:"l",M:"L"};function r(e,t,n,r,i,a,o,s,l,c,u){var h=b.util.cos(e),f=b.util.sin(e),d=b.util.cos(t),p=b.util.sin(t),g=n*i*d-r*a*p+o,m=r*i*d+n*a*p+s;return["C",c+l*(-n*i*f-r*a*h),u+l*(-r*i*f+n*a*h),g+l*(n*i*p+r*a*d),m+l*(r*i*p-n*a*d),g,m]}function i(e,t,n,i,o,s,l){var c=Math.PI,u=l*c/180,h=b.util.sin(u),f=b.util.cos(u),d=0,p=0,g=-f*e*.5-h*t*.5,m=-f*t*.5+h*e*.5,v=(n=Math.abs(n))*n,y=(i=Math.abs(i))*i,w=m*m,C=g*g,x=v*y-v*w-y*C,E=0;if(x<0){var k=Math.sqrt(1-x/(v*y));n*=k,i*=k}else E=(o===s?-1:1)*Math.sqrt(x/(v*w+y*C));var S=E*n*m/i,_=-E*i*g/n,T=f*S-h*_+.5*e,O=h*S+f*_+.5*t,A=a(1,0,(g-S)/n,(m-_)/i),P=a((g-S)/n,(m-_)/i,(-g-S)/n,(-m-_)/i);0===s&&P>0?P-=2*c:1===s&&P<0&&(P+=2*c);for(var j=Math.ceil(Math.abs(P/c*2)),M=[],I=P/j,R=8/3*Math.sin(I/4)*Math.sin(I/4)/Math.sin(I/2),L=A+I,Z=0;Z<j;Z++)M[Z]=r(A,L,f,h,n,i,T,O,R,d,p),d=M[Z][5],p=M[Z][6],A=L,L+=I;return M}function a(e,t,n,r){var i=Math.atan2(t,e),a=Math.atan2(r,n);return a>=i?a-i:2*Math.PI-(i-a)}function o(t,n,r,i,a,o,s,l){var c;if(b.cachesBoundsOfCurve&&(c=e.call(arguments),b.boundsOfCurveCache[c]))return b.boundsOfCurveCache[c];var u,h,f,d,p,g,m,v,y=Math.sqrt,w=Math.min,C=Math.max,x=Math.abs,E=[],k=[[],[]];h=6*t-12*r+6*a,u=-3*t+9*r-9*a+3*s,f=3*r-3*t;for(var S=0;S<2;++S)if(S>0&&(h=6*n-12*i+6*o,u=-3*n+9*i-9*o+3*l,f=3*i-3*n),x(u)<1e-12){if(x(h)<1e-12)continue;0<(d=-f/h)&&d<1&&E.push(d)}else(m=h*h-4*f*u)<0||(0<(p=(-h+(v=y(m)))/(2*u))&&p<1&&E.push(p),0<(g=(-h-v)/(2*u))&&g<1&&E.push(g));for(var _,T,O,A=E.length,P=A;A--;)_=(O=1-(d=E[A]))*O*O*t+3*O*O*d*r+3*O*d*d*a+d*d*d*s,k[0][A]=_,T=O*O*O*n+3*O*O*d*i+3*O*d*d*o+d*d*d*l,k[1][A]=T;k[0][P]=t,k[1][P]=n,k[0][P+1]=s,k[1][P+1]=l;var j=[{x:w.apply(null,k[0]),y:w.apply(null,k[1])},{x:C.apply(null,k[0]),y:C.apply(null,k[1])}];return b.cachesBoundsOfCurve&&(b.boundsOfCurveCache[c]=j),j}function s(e,t,n){for(var r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=i(n[6]-e,n[7]-t,r,a,s,l,o),u=0,h=c.length;u<h;u++)c[u][1]+=e,c[u][2]+=t,c[u][3]+=e,c[u][4]+=t,c[u][5]+=e,c[u][6]+=t;return c}function l(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}function c(e,t,n,r,i,a,o,s){return function(l){var c,u=(c=l)*c*c,h=function(e){return 3*e*e*(1-e)}(l),f=function(e){return 3*e*(1-e)*(1-e)}(l),d=function(e){return(1-e)*(1-e)*(1-e)}(l);return{x:o*u+i*h+n*f+e*d,y:s*u+a*h+r*f+t*d}}}function u(e,t,n,r,i,a,o,s){return function(l){var c=1-l,u=3*c*c*(n-e)+6*c*l*(i-n)+3*l*l*(o-i),h=3*c*c*(r-t)+6*c*l*(a-r)+3*l*l*(s-a);return Math.atan2(h,u)}}function h(e,t,n,r,i,a){return function(o){var s,l=(s=o)*s,c=function(e){return 2*e*(1-e)}(o),u=function(e){return(1-e)*(1-e)}(o);return{x:i*l+n*c+e*u,y:a*l+r*c+t*u}}}function f(e,t,n,r,i,a){return function(o){var s=1-o,l=2*s*(n-e)+2*o*(i-n),c=2*s*(r-t)+2*o*(a-r);return Math.atan2(c,l)}}function d(e,t,n){var r,i,a={x:t,y:n},o=0;for(i=.01;i<=1;i+=.01)r=e(i),o+=l(a.x,a.y,r.x,r.y),a=r;return o}function p(e,t){for(var n,r,i,a=0,o=0,s=e.iterator,c={x:e.x,y:e.y},u=.01,h=e.angleFinder;o<t&&a<=1&&u>1e-4;)n=s(a),i=a,(r=l(c.x,c.y,n.x,n.y))+o>t?a-=u/=2:(c=n,a+=u,o+=r);return n.angle=h(i),n}function g(e){for(var t,n,r,i,a=0,o=e.length,s=0,p=0,g=0,m=0,v=[],y=0;y<o;y++){switch(r={x:s,y:p,command:(t=e[y])[0]},t[0]){case"M":r.length=0,g=s=t[1],m=p=t[2];break;case"L":r.length=l(s,p,t[1],t[2]),s=t[1],p=t[2];break;case"C":n=c(s,p,t[1],t[2],t[3],t[4],t[5],t[6]),i=u(s,p,t[1],t[2],t[3],t[4],t[5],t[6]),r.iterator=n,r.angleFinder=i,r.length=d(n,s,p),s=t[5],p=t[6];break;case"Q":n=h(s,p,t[1],t[2],t[3],t[4]),i=f(s,p,t[1],t[2],t[3],t[4]),r.iterator=n,r.angleFinder=i,r.length=d(n,s,p),s=t[3],p=t[4];break;case"Z":case"z":r.destX=g,r.destY=m,r.length=l(s,p,g,m),s=g,p=m}a+=r.length,v.push(r)}return v.push({length:a,x:s,y:p}),v}b.util.parsePath=function(e){var r,i,a,o,s,l=[],c=[],u=b.rePathCommand,h="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",f="("+h+")"+b.commaWsp,d="([01])"+b.commaWsp+"?",p=new RegExp(f+"?"+f+"?"+f+d+d+f+"?("+h+")","g");if(!e||!e.match)return l;for(var g,m=0,v=(s=e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;m<v;m++){o=(r=s[m]).slice(1).trim(),c.length=0;var y=r.charAt(0);if(g=[y],"a"===y.toLowerCase())for(var w;w=p.exec(o);)for(var C=1;C<w.length;C++)c.push(w[C]);else for(;a=u.exec(o);)c.push(a[0]);C=0;for(var x=c.length;C<x;C++)i=parseFloat(c[C]),isNaN(i)||g.push(i);var E=t[y.toLowerCase()],k=n[y]||y;if(g.length-1>E)for(var S=1,_=g.length;S<_;S+=E)l.push([y].concat(g.slice(S,S+E))),y=k;else l.push(g)}return l},b.util.makePathSimpler=function(e){var t,n,r,i,a,o,l=0,c=0,u=e.length,h=0,f=0,d=[];for(n=0;n<u;++n){switch(r=!1,(t=e[n].slice(0))[0]){case"l":t[0]="L",t[1]+=l,t[2]+=c;case"L":l=t[1],c=t[2];break;case"h":t[1]+=l;case"H":t[0]="L",t[2]=c,l=t[1];break;case"v":t[1]+=c;case"V":t[0]="L",c=t[1],t[1]=l,t[2]=c;break;case"m":t[0]="M",t[1]+=l,t[2]+=c;case"M":l=t[1],c=t[2],h=t[1],f=t[2];break;case"c":t[0]="C",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c,t[5]+=l,t[6]+=c;case"C":a=t[3],o=t[4],l=t[5],c=t[6];break;case"s":t[0]="S",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c;case"S":"C"===i?(a=2*l-a,o=2*c-o):(a=l,o=c),l=t[3],c=t[4],t[0]="C",t[5]=t[3],t[6]=t[4],t[3]=t[1],t[4]=t[2],t[1]=a,t[2]=o,a=t[3],o=t[4];break;case"q":t[0]="Q",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c;case"Q":a=t[1],o=t[2],l=t[3],c=t[4];break;case"t":t[0]="T",t[1]+=l,t[2]+=c;case"T":"Q"===i?(a=2*l-a,o=2*c-o):(a=l,o=c),t[0]="Q",l=t[1],c=t[2],t[1]=a,t[2]=o,t[3]=l,t[4]=c;break;case"a":t[0]="A",t[6]+=l,t[7]+=c;case"A":r=!0,d=d.concat(s(l,c,t)),l=t[6],c=t[7];break;case"z":case"Z":l=h,c=f}r||d.push(t),i=t[0]}return d},b.util.getPathSegmentsInfo=g,b.util.fromArcToBeziers=s,b.util.fromArcToBeizers=s,b.util.getBoundsOfCurve=o,b.util.getPointOnPath=function(e,t,n){n||(n=g(e));for(var r=0;t-n[r].length>0&&r<n.length-2;)t-=n[r].length,r++;var i,a=n[r],o=t/a.length,s=a.command,l=e[r];switch(s){case"M":return{x:a.x,y:a.y,angle:0};case"Z":case"z":return(i=new b.Point(a.x,a.y).lerp(new b.Point(a.destX,a.destY),o)).angle=Math.atan2(a.destY-a.y,a.destX-a.x),i;case"L":return(i=new b.Point(a.x,a.y).lerp(new b.Point(l[1],l[2]),o)).angle=Math.atan2(l[2]-a.y,l[1]-a.x),i;case"C":case"Q":return p(a,t)}},b.util.getBoundsOfArc=function(e,t,n,r,a,s,l,c,u){for(var h,f=0,d=0,p=[],g=i(c-e,u-t,n,r,s,l,a),m=0,v=g.length;m<v;m++)h=o(f,d,g[m][1],g[m][2],g[m][3],g[m][4],g[m][5],g[m][6]),p.push({x:h[0].x+e,y:h[0].y+t}),p.push({x:h[1].x+e,y:h[1].y+t}),f=g[m][5],d=g[m][6];return p},b.util.drawArc=function(e,t,n,r){s(t,n,r=r.slice(0).unshift("X")).forEach((function(t){e.bezierCurveTo.apply(e,t.slice(1))}))}}(),function(){var e=Array.prototype.slice;function t(e,t,n){if(e&&0!==e.length){var r=e.length-1,i=t?e[r][t]:e[r];if(t)for(;r--;)n(e[r][t],i)&&(i=e[r][t]);else for(;r--;)n(e[r],i)&&(i=e[r]);return i}}b.util.array={fill:function(e,t){for(var n=e.length;n--;)e[n]=t;return e},invoke:function(t,n){for(var r=e.call(arguments,2),i=[],a=0,o=t.length;a<o;a++)i[a]=r.length?t[a][n].apply(t[a],r):t[a][n].call(t[a]);return i},min:function(e,n){return t(e,n,(function(e,t){return e<t}))},max:function(e,n){return t(e,n,(function(e,t){return e>=t}))}}}(),function(){function e(t,n,r){if(r)if(!b.isLikelyNode&&n instanceof Element)t=n;else if(n instanceof Array){t=[];for(var i=0,a=n.length;i<a;i++)t[i]=e({},n[i],r)}else if(n&&"object"==typeof n)for(var o in n)"canvas"===o||"group"===o?t[o]=null:n.hasOwnProperty(o)&&(t[o]=e({},n[o],r));else t=n;else for(var o in n)t[o]=n[o];return t}b.util.object={extend:e,clone:function(t,n){return e({},t,n)}},b.util.object.extend(b.util,b.Observable)}(),function(){function e(e,t){var n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var i=e.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1}b.util.string={camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var n,r=0,i=[];for(r=0;r<t.length;r++)!1!==(n=e(t,r))&&i.push(n);return i}}}(),function(){var e=Array.prototype.slice,t=function(){},n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),r=function(e,t,r){for(var i in t)i in e.prototype&&"function"==typeof e.prototype[i]&&(t[i]+"").indexOf("callSuper")>-1?e.prototype[i]=function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=r;var i=t[e].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==e)return i}}(i):e.prototype[i]=t[i],n&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};function i(){}function a(t){for(var n=null,r=this;r.constructor.superclass;){var i=r.constructor.superclass.prototype[t];if(r[t]!==i){n=i;break}r=r.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,e.call(arguments,1)):n.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}b.util.createClass=function(){var n=null,o=e.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"==typeof o[0]&&(n=o.shift()),s.superclass=n,s.subclasses=[],n&&(i.prototype=n.prototype,s.prototype=new i,n.subclasses.push(s));for(var l=0,c=o.length;l<c;l++)r(s,o[l],n);return s.prototype.initialize||(s.prototype.initialize=t),s.prototype.constructor=s,s.prototype.callSuper=a,s}}(),r=!!b.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"],b.util.addListener=function(e,t,n,i){e&&e.addEventListener(t,n,!r&&i)},b.util.removeListener=function(e,t,n,i){e&&e.removeEventListener(t,n,!r&&i)},b.util.getPointer=function(e){var t=e.target,n=b.util.getScrollLeftTop(t),r=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return{x:r.clientX+n.left,y:r.clientY+n.top}},b.util.isTouchEvent=function(e){return i.indexOf(e.type)>-1||"touch"===e.pointerType},a=b.document.createElement("div"),o="string"==typeof a.style.opacity,s="string"==typeof a.style.filter,l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(e){return e},o?c=function(e,t){return e.style.opacity=t,e}:s&&(c=function(e,t){var n=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(n.zoom=1),l.test(n.filter)?(t=t>=.9999?"":"alpha(opacity="+100*t+")",n.filter=n.filter.replace(l,t)):n.filter+=" alpha(opacity="+100*t+")",e}),b.util.setStyle=function(e,t){var n=e.style;if(!n)return e;if("string"==typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?c(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var r in t)"opacity"===r?c(e,t[r]):n["float"===r||"cssFloat"===r?void 0===n.styleFloat?"cssFloat":"styleFloat":r]=t[r];return e},function(){var e=Array.prototype.slice;var t,n,r,i,a=function(t){return e.call(t,0)};try{t=a(b.document.childNodes)instanceof Array}catch(e){}function o(e,t){var n=b.document.createElement(e);for(var r in t)"class"===r?n.className=t[r]:"for"===r?n.htmlFor=t[r]:n.setAttribute(r,t[r]);return n}function s(e){for(var t=0,n=0,r=b.document.documentElement,i=b.document.body||{scrollLeft:0,scrollTop:0};e&&(e.parentNode||e.host)&&((e=e.parentNode||e.host)===b.document?(t=i.scrollLeft||r.scrollLeft||0,n=i.scrollTop||r.scrollTop||0):(t+=e.scrollLeft||0,n+=e.scrollTop||0),1!==e.nodeType||"fixed"!==e.style.position););return{left:t,top:n}}t||(a=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}),n=b.document.defaultView&&b.document.defaultView.getComputedStyle?function(e,t){var n=b.document.defaultView.getComputedStyle(e,null);return n?n[t]:void 0}:function(e,t){var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),n},r=b.document.documentElement.style,i="userSelect"in r?"userSelect":"MozUserSelect"in r?"MozUserSelect":"WebkitUserSelect"in r?"WebkitUserSelect":"KhtmlUserSelect"in r?"KhtmlUserSelect":"",b.util.makeElementUnselectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=b.util.falseFunction),i?e.style[i]="none":"string"==typeof e.unselectable&&(e.unselectable="on"),e},b.util.makeElementSelectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=null),i?e.style[i]="":"string"==typeof e.unselectable&&(e.unselectable=""),e},b.util.setImageSmoothing=function(e,t){e.imageSmoothingEnabled=e.imageSmoothingEnabled||e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled||e.oImageSmoothingEnabled,e.imageSmoothingEnabled=t},b.util.getById=function(e){return"string"==typeof e?b.document.getElementById(e):e},b.util.toArray=a,b.util.addClass=function(e,t){e&&-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)},b.util.makeElement=o,b.util.wrapElement=function(e,t,n){return"string"==typeof t&&(t=o(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},b.util.getScrollLeftTop=s,b.util.getElementOffset=function(e){var t,r,i=e&&e.ownerDocument,a={left:0,top:0},o={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return o;for(var c in l)o[l[c]]+=parseInt(n(e,c),10)||0;return t=i.documentElement,void 0!==e.getBoundingClientRect&&(a=e.getBoundingClientRect()),r=s(e),{left:a.left+r.left-(t.clientLeft||0)+o.left,top:a.top+r.top-(t.clientTop||0)+o.top}},b.util.getNodeCanvas=function(e){var t=b.jsdomImplForWrapper(e);return t._canvas||t._image},b.util.cleanUpJsdomNode=function(e){if(b.isLikelyNode){var t=b.jsdomImplForWrapper(e);t&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)}}}(),function(){function e(){}b.util.request=function(t,n){n||(n={});var r=n.method?n.method.toUpperCase():"GET",i=n.onComplete||function(){},a=new b.window.XMLHttpRequest,o=n.body||n.parameters;return a.onreadystatechange=function(){4===a.readyState&&(i(a),a.onreadystatechange=e)},"GET"===r&&(o=null,"string"==typeof n.parameters&&(t=function(e,t){return e+(/\?/.test(e)?"&":"?")+t}(t,n.parameters))),a.open(r,t,!0),"POST"!==r&&"PUT"!==r||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(o),a}}(),b.log=console.log,b.warn=console.warn,function(){function e(){return!1}function t(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t}var n=b.window.requestAnimationFrame||b.window.webkitRequestAnimationFrame||b.window.mozRequestAnimationFrame||b.window.oRequestAnimationFrame||b.window.msRequestAnimationFrame||function(e){return b.window.setTimeout(e,1e3/60)},r=b.window.cancelAnimationFrame||b.window.clearTimeout;function i(){return n.apply(b.window,arguments)}b.util.animate=function(n){i((function(r){n||(n={});var a,o=r||+new Date,s=n.duration||500,l=o+s,c=n.onChange||e,u=n.abort||e,h=n.onComplete||e,f=n.easing||t,d="startValue"in n?n.startValue:0,p="endValue"in n?n.endValue:100,g=n.byValue||p-d;n.onStart&&n.onStart(),function e(t){var n=(a=t||+new Date)>l?s:a-o,r=n/s,m=f(n,d,g,s),v=Math.abs((m-d)/g);if(!u())return a>l?(c(p,1,1),void h(p,1,1)):(c(m,v,r),void i(e));h(p,1,1)}(o)}))},b.util.requestAnimFrame=i,b.util.cancelAnimFrame=function(){return r.apply(b.window,arguments)}}(),function(){function e(e,t,n){var r="rgba("+parseInt(e[0]+n*(t[0]-e[0]),10)+","+parseInt(e[1]+n*(t[1]-e[1]),10)+","+parseInt(e[2]+n*(t[2]-e[2]),10);return r+=","+(e&&t?parseFloat(e[3]+n*(t[3]-e[3])):1),r+=")"}b.util.animateColor=function(t,n,r,i){var a=new b.Color(t).getSource(),o=new b.Color(n).getSource(),s=i.onComplete,l=i.onChange;i=i||{},b.util.animate(b.util.object.extend(i,{duration:r||500,startValue:a,endValue:o,byValue:o,easing:function(t,n,r,a){return e(n,r,i.colorEasing?i.colorEasing(t,a):1-Math.cos(t/a*(Math.PI/2)))},onComplete:function(t,n,r){if(s)return s(e(o,o,0),n,r)},onChange:function(t,n,r){if(l){if(Array.isArray(t))return l(e(t,t,0),n,r);l(t,n,r)}}}))}}(),function(){function e(e,t,n,r){return e<Math.abs(t)?(e=t,r=n/4):r=0===t&&0===e?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(t/e),{a:e,c:t,p:n,s:r}}function t(e,t,n){return e.a*Math.pow(2,10*(t-=1))*Math.sin((t*n-e.s)*(2*Math.PI)/e.p)}function n(e,t,n,i){return n-r(i-e,0,n,i)+t}function r(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}b.util.ease={easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,r,i,a){var o=0;return 0===n?r:1===(n/=a)?r+i:(o||(o=.3*a),-t(e(i,i,o,1.70158),n,a)+r)},easeOutElastic:function(t,n,r,i){var a=0;if(0===t)return n;if(1===(t/=i))return n+r;a||(a=.3*i);var o=e(r,r,a,1.70158);return o.a*Math.pow(2,-10*t)*Math.sin((t*i-o.s)*(2*Math.PI)/o.p)+o.c+n},easeInOutElastic:function(n,r,i,a){var o=0;if(0===n)return r;if(2===(n/=a/2))return r+i;o||(o=a*(.3*1.5));var s=e(i,i,o,1.70158);return n<1?-.5*t(s,n,a)+r:s.a*Math.pow(2,-10*(n-=1))*Math.sin((n*a-s.s)*(2*Math.PI)/s.p)*.5+s.c+r},easeInBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),n*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:n,easeOutBounce:r,easeInOutBounce:function(e,t,i,a){return e<a/2?.5*n(2*e,0,i,a)+t:.5*r(2*e-a,0,i,a)+.5*i+t}}}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i=t.util.toFixed,a=t.util.parseUnit,o=t.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},l={stroke:"strokeOpacity",fill:"fillOpacity"};function c(e){return e in s?s[e]:e}function u(e,n,r,i){var s,l="[object Array]"===Object.prototype.toString.call(n);if("fill"!==e&&"stroke"!==e||"none"!==n){if("strokeUniform"===e)return"non-scaling-stroke"===n;if("strokeDashArray"===e)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)n=r&&r.transformMatrix?o(r.transformMatrix,t.parseTransformAttribute(n)):t.parseTransformAttribute(n);else if("visible"===e)n="none"!==n&&"hidden"!==n,r&&!1===r.visible&&(n=!1);else if("opacity"===e)n=parseFloat(n),r&&void 0!==r.opacity&&(n*=r.opacity);else if("textAnchor"===e)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===e)s=a(n,i)/i*1e3;else if("paintFirst"===e){var c=n.indexOf("fill"),u=n.indexOf("stroke");n="fill";(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(n="stroke")}else{if("href"===e||"xlink:href"===e||"font"===e)return n;if("imageSmoothing"===e)return"optimizeQuality"===n;s=l?n.map(a):a(n,i)}}else n="";return!l&&isNaN(s)?n:s}function h(e){return new RegExp("^("+e.join("|")+")\\b","i")}function f(e,t){var n,r,i,a,o=[];for(i=0,a=t.length;i<a;i++)n=t[i],r=e.getElementsByTagName(n),o=o.concat(Array.prototype.slice.call(r));return o}function d(e,t){var n,r=!0;return(n=p(e,t.pop()))&&t.length&&(r=function(e,t){var n,r=!0;for(;e.parentNode&&1===e.parentNode.nodeType&&t.length;)r&&(n=t.pop()),e=e.parentNode,r=p(e,n);return 0===t.length}(e,t)),n&&r&&0===t.length}function p(e,t){var n,r,i=e.nodeName,a=e.getAttribute("class"),o=e.getAttribute("id");if(n=new RegExp("^"+i,"i"),t=t.replace(n,""),o&&t.length&&(n=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"")),a&&t.length)for(r=(a=a.split(" ")).length;r--;)n=new RegExp("\\."+a[r]+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"");return 0===t.length}function g(e,t){var n;if(e.getElementById&&(n=e.getElementById(t)),n)return n;var r,i,a,o=e.getElementsByTagName("*");for(i=0,a=o.length;i<a;i++)if(t===(r=o[i]).getAttribute("id"))return r}t.svgValidTagNamesRegEx=h(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),t.svgViewBoxElementsRegEx=h(["symbol","image","marker","pattern","view","svg"]),t.svgInvalidAncestorsRegEx=h(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),t.svgValidParentsRegEx=h(["symbol","g","a","svg","clipPath","defs"]),t.cssRules={},t.gradientDefs={},t.clipPaths={},t.parseTransformAttribute=function(){function e(e,n,r){e[r]=Math.tan(t.util.degreesToRadians(n[0]))}var n=t.iMatrix,r=t.reNum,i=t.commaWsp,a="(?:"+("(?:(matrix)\\s*\\(\\s*("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+")"+i+"("+r+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\))")+")",o=new RegExp("^\\s*(?:"+("(?:"+a+"(?:"+i+"*"+a+")*)")+"?)\\s*$"),s=new RegExp(a,"g");return function(r){var i=n.concat(),l=[];if(!r||r&&!o.test(r))return i;r.replace(s,(function(r){var o=new RegExp(a).exec(r).filter((function(e){return!!e})),s=o[1],c=o.slice(2).map(parseFloat);switch(s){case"translate":!function(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}(i,c);break;case"rotate":c[0]=t.util.degreesToRadians(c[0]),function(e,n){var r=t.util.cos(n[0]),i=t.util.sin(n[0]),a=0,o=0;3===n.length&&(a=n[1],o=n[2]),e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=a-(r*a-i*o),e[5]=o-(i*a+r*o)}(i,c);break;case"scale":!function(e,t){var n=t[0],r=2===t.length?t[1]:t[0];e[0]=n,e[3]=r}(i,c);break;case"skewX":e(i,c,2);break;case"skewY":e(i,c,1);break;case"matrix":i=c}l.push(i.concat()),i=n.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=t.util.multiplyTransformMatrices(c,l[0]);return c}}();var m=new RegExp("^\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*$");function v(e){if(t.svgViewBoxElementsRegEx.test(e.nodeName)){var n,r,i,o,s,l,c=e.getAttribute("viewBox"),u=1,h=1,f=e.getAttribute("width"),d=e.getAttribute("height"),p=e.getAttribute("x")||0,g=e.getAttribute("y")||0,v=e.getAttribute("preserveAspectRatio")||"",y=!c||!(c=c.match(m)),b=!f||!d||"100%"===f||"100%"===d,w=y&&b,C={},x="",E=0,k=0;if(C.width=0,C.height=0,C.toBeParsed=w,y&&(p||g)&&e.parentNode&&"#document"!==e.parentNode.nodeName&&(x=" translate("+a(p)+" "+a(g)+") ",s=(e.getAttribute("transform")||"")+x,e.setAttribute("transform",s),e.removeAttribute("x"),e.removeAttribute("y")),w)return C;if(y)return C.width=a(f),C.height=a(d),C;if(n=-parseFloat(c[1]),r=-parseFloat(c[2]),i=parseFloat(c[3]),o=parseFloat(c[4]),C.minX=n,C.minY=r,C.viewBoxWidth=i,C.viewBoxHeight=o,b?(C.width=i,C.height=o):(C.width=a(f),C.height=a(d),u=C.width/i,h=C.height/o),"none"!==(v=t.util.parsePreserveAspectRatioAttribute(v)).alignX&&("meet"===v.meetOrSlice&&(h=u=u>h?h:u),"slice"===v.meetOrSlice&&(h=u=u>h?u:h),E=C.width-i*u,k=C.height-o*u,"Mid"===v.alignX&&(E/=2),"Mid"===v.alignY&&(k/=2),"Min"===v.alignX&&(E=0),"Min"===v.alignY&&(k=0)),1===u&&1===h&&0===n&&0===r&&0===p&&0===g)return C;if((p||g)&&"#document"!==e.parentNode.nodeName&&(x=" translate("+a(p)+" "+a(g)+") "),s=x+" matrix("+u+" 0 0 "+h+" "+(n*u+E)+" "+(r*h+k)+") ","svg"===e.nodeName){for(l=e.ownerDocument.createElementNS(t.svgNS,"g");e.firstChild;)l.appendChild(e.firstChild);e.appendChild(l)}else(l=e).removeAttribute("x"),l.removeAttribute("y"),s=l.getAttribute("transform")+s;return l.setAttribute("transform",s),C}}function y(e,t){var n=g(e,t.getAttribute("xlink:href").substr(1));if(n&&n.getAttribute("xlink:href")&&y(e,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(e){n&&!t.hasAttribute(e)&&n.hasAttribute(e)&&t.setAttribute(e,n.getAttribute(e))})),!t.children.length)for(var r=n.cloneNode(!0);r.firstChild;)t.appendChild(r.firstChild);t.removeAttribute("xlink:href")}t.parseSVGDocument=function(e,n,i,a){if(e){!function(e){for(var n=f(e,["use","svg:use"]),r=0;n.length&&r<n.length;){var i=n[r],a=i.getAttribute("xlink:href")||i.getAttribute("href");if(null===a)return;var o,s,l,c,u=a.substr(1),h=i.getAttribute("x")||0,d=i.getAttribute("y")||0,p=g(e,u).cloneNode(!0),m=(p.getAttribute("transform")||"")+" translate("+h+", "+d+")",y=n.length,b=t.svgNS;if(v(p),/^svg$/i.test(p.nodeName)){var w=p.ownerDocument.createElementNS(b,"g");for(s=0,c=(l=p.attributes).length;s<c;s++)o=l.item(s),w.setAttributeNS(b,o.nodeName,o.nodeValue);for(;p.firstChild;)w.appendChild(p.firstChild);p=w}for(s=0,c=(l=i.attributes).length;s<c;s++)"x"!==(o=l.item(s)).nodeName&&"y"!==o.nodeName&&"xlink:href"!==o.nodeName&&"href"!==o.nodeName&&("transform"===o.nodeName?m=o.nodeValue+" "+m:p.setAttribute(o.nodeName,o.nodeValue));p.setAttribute("transform",m),p.setAttribute("instantiated_by_use","1"),p.removeAttribute("id"),i.parentNode.replaceChild(p,i),n.length===y&&r++}}(e);var o,s,l=t.Object.__uid++,c=v(e),u=t.util.toArray(e.getElementsByTagName("*"));if(c.crossOrigin=a&&a.crossOrigin,c.svgUid=l,0===u.length&&t.isLikelyNode){var h=[];for(o=0,s=(u=e.selectNodes('//*[name(.)!="svg"]')).length;o<s;o++)h[o]=u[o];u=h}var d=u.filter((function(e){return v(e),t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))&&!function(e,t){for(;e&&(e=e.parentNode);)if(e.nodeName&&t.test(e.nodeName.replace("svg:",""))&&!e.getAttribute("instantiated_by_use"))return!0;return!1}(e,t.svgInvalidAncestorsRegEx)}));if(!d||d&&!d.length)n&&n([],{});else{var p={};u.filter((function(e){return"clipPath"===e.nodeName.replace("svg:","")})).forEach((function(e){var n=e.getAttribute("id");p[n]=t.util.toArray(e.getElementsByTagName("*")).filter((function(e){return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))}))})),t.gradientDefs[l]=t.getGradientDefs(e),t.cssRules[l]=t.getCSSRules(e),t.clipPaths[l]=p,t.parseElements(d,(function(e,r){n&&(n(e,c,r,u),delete t.gradientDefs[l],delete t.cssRules[l],delete t.clipPaths[l])}),r(c),i,a)}}};var b=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+t.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+t.reNum+"))?\\s+(.*)");n(t,{parseFontDeclaration:function(e,t){var n=e.match(b);if(n){var r=n[1],i=n[3],o=n[4],s=n[5],l=n[6];r&&(t.fontStyle=r),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),o&&(t.fontSize=a(o)),l&&(t.fontFamily=l),s&&(t.lineHeight="normal"===s?1:s)}},getGradientDefs:function(e){var t,n=f(e,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),r=0,i={};for(r=n.length;r--;)(t=n[r]).getAttribute("xlink:href")&&y(e,t),i[t.getAttribute("id")]=t;return i},parseAttributes:function(e,r,o){if(e){var s,h,f,p={};void 0===o&&(o=e.getAttribute("svgUid")),e.parentNode&&t.svgValidParentsRegEx.test(e.parentNode.nodeName)&&(p=t.parseAttributes(e.parentNode,r,o));var g=r.reduce((function(t,n){return(s=e.getAttribute(n))&&(t[n]=s),t}),{}),m=n(function(e,n){var r={};for(var i in t.cssRules[n])if(d(e,i.split(" ")))for(var a in t.cssRules[n][i])r[a]=t.cssRules[n][i][a];return r}(e,o),t.parseStyleAttribute(e));g=n(g,m),m["clip-path"]&&e.setAttribute("clip-path",m["clip-path"]),h=f=p.fontSize||t.Text.DEFAULT_SVG_FONT_SIZE,g["font-size"]&&(g["font-size"]=h=a(g["font-size"],f));var v,y,b={};for(var w in g)y=u(v=c(w),g[w],p,h),b[v]=y;b&&b.font&&t.parseFontDeclaration(b.font,b);var C=n(p,b);return t.svgValidParentsRegEx.test(e.nodeName)?C:function(e){for(var n in l)if(void 0!==e[l[n]]&&""!==e[n]){if(void 0===e[n]){if(!t.Object.prototype[n])continue;e[n]=t.Object.prototype[n]}if(0!==e[n].indexOf("url(")){var r=new t.Color(e[n]);e[n]=r.setAlpha(i(r.getAlpha()*e[l[n]],2)).toRgba()}}return e}(C)}},parseElements:function(e,n,r,i,a){new t.ElementsParser(e,n,r,i,a).parse()},parseStyleAttribute:function(e){var t={},n=e.getAttribute("style");return n?("string"==typeof n?function(e,t){var n,r;e.replace(/;\s*$/,"").split(";").forEach((function(e){var i=e.split(":");n=i[0].trim().toLowerCase(),r=i[1].trim(),t[n]=r}))}(n,t):function(e,t){var n,r;for(var i in e)void 0!==e[i]&&(n=i.toLowerCase(),r=e[i],t[n]=r)}(n,t),t):t},parsePointsAttribute:function(e){if(!e)return null;var t,n,r=[];for(t=0,n=(e=(e=e.replace(/,/g," ").trim()).split(/\s+/)).length;t<n;t+=2)r.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return r},getCSSRules:function(e){var n,r,i=e.getElementsByTagName("style"),a={};for(n=0,r=i.length;n<r;n++){var o=i[n].textContent;""!==(o=o.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&o.match(/[^{]*\{[\s\S]*?\}/g).map((function(e){return e.trim()})).forEach((function(e){var i=e.match(/([\s\S]*?)\s*\{([^}]*)\}/),o={},s=i[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,r=s.length;n<r;n++){var l=s[n].split(/\s*:\s*/),c=l[0],u=l[1];o[c]=u}(e=i[1]).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(a[e]?t.util.object.extend(a[e],o):a[e]=t.util.object.clone(o))}))}))}return a},loadSVGFromURL:function(e,n,r,i){e=e.replace(/^\n\s*/,"").trim(),new t.util.request(e,{method:"get",onComplete:function(e){var a=e.responseXML;if(!a||!a.documentElement)return n&&n(null),!1;t.parseSVGDocument(a.documentElement,(function(e,t,r,i){n&&n(e,t,r,i)}),r,i)}})},loadSVGFromString:function(e,n,r,i){var a=(new t.window.DOMParser).parseFromString(e.trim(),"text/xml");t.parseSVGDocument(a.documentElement,(function(e,t,r,i){n(e,t,r,i)}),r,i)}})}(t),b.ElementsParser=function(e,t,n,r,i,a){this.elements=e,this.callback=t,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},(u=b.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},u.createObjects=function(){var e=this;this.elements.forEach((function(t,n){t.setAttribute("svgUid",e.svgUid),e.createObject(t,n)}))},u.findTag=function(e){return b[b.util.string.capitalize(e.tagName.replace("svg:",""))]},u.createObject=function(e,t){var n=this.findTag(e);if(n&&n.fromElement)try{n.fromElement(e,this.createCallback(t,e),this.options)}catch(e){b.log(e)}else this.checkIfDone()},u.createCallback=function(e,t){var n=this;return function(r){var i;n.resolveGradient(r,t,"fill"),n.resolveGradient(r,t,"stroke"),r instanceof b.Image&&r._originalElement&&(i=r.parsePreserveAspectRatioAttribute(t)),r._removeTransformMatrix(i),n.resolveClipPath(r,t),n.reviver&&n.reviver(t,r),n.instances[e]=r,n.checkIfDone()}},u.extractPropertyDefinition=function(e,t,n){var r=e[t],i=this.regexUrl;if(i.test(r)){i.lastIndex=0;var a=i.exec(r)[1];return i.lastIndex=0,b[n][this.svgUid][a]}},u.resolveGradient=function(e,t,n){var r=this.extractPropertyDefinition(e,n,"gradientDefs");if(r){var i=t.getAttribute(n+"-opacity"),a=b.Gradient.fromElement(r,e,i,this.options);e.set(n,a)}},u.createClipPathCallback=function(e,t){return function(e){e._removeTransformMatrix(),e.fillRule=e.clipRule,t.push(e)}},u.resolveClipPath=function(e,t){var n,r,i,a,o=this.extractPropertyDefinition(e,"clipPath","clipPaths");if(o){i=[],r=b.util.invertTransform(e.calcTransformMatrix());for(var s=o[0].parentNode,l=t;l.parentNode&&l.getAttribute("clip-path")!==e.clipPath;)l=l.parentNode;l.parentNode.appendChild(s);for(var c=0;c<o.length;c++)n=o[c],this.findTag(n).fromElement(n,this.createClipPathCallback(e,i),this.options);o=1===i.length?i[0]:new b.Group(i),a=b.util.multiplyTransformMatrices(r,o.calcTransformMatrix()),o.clipPath&&this.resolveClipPath(o,l);var u=b.util.qrDecompose(a);o.flipX=!1,o.flipY=!1,o.set("scaleX",u.scaleX),o.set("scaleY",u.scaleY),o.angle=u.angle,o.skewX=u.skewX,o.skewY=0,o.setPositionByOrigin({x:u.translateX,y:u.translateY},"center","center"),e.clipPath=o}else delete e.clipPath},u.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(e){return null!=e})),this.callback(this.instances,this.elements))},function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e,t){this.x=e,this.y=t}t.Point?t.warn("fabric.Point is already defined"):(t.Point=n,n.prototype={type:"point",constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,t){return void 0===t&&(t=.5),t=Math.max(Math.min(1,t),0),new n(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)},distanceFrom:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},midPointFrom:function(e){return this.lerp(e)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setFromPoint:function(e){return this.x=e.x,this.y=e.y,this},swap:function(e){var t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n},clone:function(){return new n(this.x,this.y)}})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){this.status=e,this.points=[]}t.Intersection?t.warn("fabric.Intersection is already defined"):(t.Intersection=n,t.Intersection.prototype={constructor:n,appendPoint:function(e){return this.points.push(e),this},appendPoints:function(e){return this.points=this.points.concat(e),this}},t.Intersection.intersectLineLine=function(e,r,i,a){var o,s=(a.x-i.x)*(e.y-i.y)-(a.y-i.y)*(e.x-i.x),l=(r.x-e.x)*(e.y-i.y)-(r.y-e.y)*(e.x-i.x),c=(a.y-i.y)*(r.x-e.x)-(a.x-i.x)*(r.y-e.y);if(0!==c){var u=s/c,h=l/c;0<=u&&u<=1&&0<=h&&h<=1?(o=new n("Intersection")).appendPoint(new t.Point(e.x+u*(r.x-e.x),e.y+u*(r.y-e.y))):o=new n}else o=new n(0===s||0===l?"Coincident":"Parallel");return o},t.Intersection.intersectLinePolygon=function(e,t,r){var i,a,o,s,l=new n,c=r.length;for(s=0;s<c;s++)i=r[s],a=r[(s+1)%c],o=n.intersectLineLine(e,t,i,a),l.appendPoints(o.points);return l.points.length>0&&(l.status="Intersection"),l},t.Intersection.intersectPolygonPolygon=function(e,t){var r,i=new n,a=e.length;for(r=0;r<a;r++){var o=e[r],s=e[(r+1)%a],l=n.intersectLinePolygon(o,s,t);i.appendPoints(l.points)}return i.points.length>0&&(i.status="Intersection"),i},t.Intersection.intersectPolygonRectangle=function(e,r,i){var a=r.min(i),o=r.max(i),s=new t.Point(o.x,a.y),l=new t.Point(a.x,o.y),c=n.intersectLinePolygon(a,s,e),u=n.intersectLinePolygon(s,o,e),h=n.intersectLinePolygon(o,l,e),f=n.intersectLinePolygon(l,a,e),d=new n;return d.appendPoints(c.points),d.appendPoints(u.points),d.appendPoints(h.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}t.Color?t.warn("fabric.Color is already defined."):(t.Color=n,t.Color.prototype={_tryParsingColor:function(e){var t;e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e&&(t=[255,255,255,0]),t||(t=n.sourceFromHex(e)),t||(t=n.sourceFromRgb(e)),t||(t=n.sourceFromHsl(e)),t||(t=[0,0,0,1]),t&&this.setSource(t)},_rgbToHsl:function(e,n,r){e/=255,n/=255,r/=255;var i,a,o,s=t.util.array.max([e,n,r]),l=t.util.array.min([e,n,r]);if(o=(s+l)/2,s===l)i=a=0;else{var c=s-l;switch(a=o>.5?c/(2-s-l):c/(s+l),s){case e:i=(n-r)/c+(n<r?6:0);break;case n:i=(r-e)/c+2;break;case r:i=(e-n)/c+4}i/=6}return[Math.round(360*i),Math.round(100*a),Math.round(100*o)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+e[3]+")"},toHex:function(){var e,t,n,r=this.getSource();return e=1===(e=r[0].toString(16)).length?"0"+e:e,t=1===(t=r[1].toString(16)).length?"0"+t:t,n=1===(n=r[2].toString(16)).length?"0"+n:n,e.toUpperCase()+t.toUpperCase()+n.toUpperCase()},toHexa:function(){var e,t=this.getSource();return e=1===(e=(e=Math.round(255*t[3])).toString(16)).length?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),n=e[3];return this.setSource([t,t,t,n]),this},toBlackWhite:function(e){var t=this.getSource(),n=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),r=t[3];return e=e||127,n=Number(n)<Number(e)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(e){e instanceof n||(e=new n(e));var t,r=[],i=this.getAlpha(),a=this.getSource(),o=e.getSource();for(t=0;t<3;t++)r.push(Math.round(.5*a[t]+.5*o[t]));return r[3]=i,this.setSource(r),this}},t.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,t.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,t.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,t.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},t.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},t.Color.sourceFromRgb=function(e){var t=e.match(n.reRGBa);if(t){var r=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),i=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),a=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1);return[parseInt(r,10),parseInt(i,10),parseInt(a,10),t[4]?parseFloat(t[4]):1]}},t.Color.fromRgba=n.fromRgb,t.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},t.Color.sourceFromHsl=function(e){var t=e.match(n.reHSLa);if(t){var i,a,o,s=(parseFloat(t[1])%360+360)%360/360,l=parseFloat(t[2])/(/%$/.test(t[2])?100:1),c=parseFloat(t[3])/(/%$/.test(t[3])?100:1);if(0===l)i=a=o=c;else{var u=c<=.5?c*(l+1):c+l-c*l,h=2*c-u;i=r(h,u,s+1/3),a=r(h,u,s),o=r(h,u,s-1/3)}return[Math.round(255*i),Math.round(255*a),Math.round(255*o),t[4]?parseFloat(t[4]):1]}},t.Color.fromHsla=n.fromHsl,t.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},t.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var t=e.slice(e.indexOf("#")+1),r=3===t.length||4===t.length,i=8===t.length||4===t.length,a=r?t.charAt(0)+t.charAt(0):t.substring(0,2),o=r?t.charAt(1)+t.charAt(1):t.substring(2,4),s=r?t.charAt(2)+t.charAt(2):t.substring(4,6),l=i?r?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF";return[parseInt(a,16),parseInt(o,16),parseInt(s,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},t.Color.fromSource=function(e){var t=new n;return t.setSource(e),t})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=["e","se","s","sw","w","nw","n","ne","e"],r=["ns","nesw","ew","nwse"],i={},a="left",o="top",s={top:"bottom",bottom:o,left:"right",right:a,center:"center"},l=t.util.radiansToDegrees,c=Math.sign||function(e){return(e>0)-(e<0)||+e};function u(e,t){var n=e.angle+l(Math.atan2(t.y,t.x))+360;return Math.round(n%360/45)}function h(e,n){var r=n.transform.target,i=r.canvas,a=t.util.object.clone(n);a.target=r,i&&i.fire("object:"+e,a),r.fire(e,n)}function f(e,t){var n=t.canvas,r=e[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function d(e){return"center"===e.originX&&"center"===e.originY}function p(e,t,n){var r=e.lockScalingX,i=e.lockScalingY;return!(!r||!i)||(!(t||!r&&!i||!n)||(!(!r||"x"!==t)||!(!i||"y"!==t)))}function g(e,t,n,r){return{e:e,transform:t,pointer:{x:n,y:r}}}function m(e){return function(t,n,r,i){var a=n.target,o=a.getCenterPoint(),s=a.translateToOriginPoint(o,n.originX,n.originY),l=e(t,n,r,i);return a.setPositionByOrigin(s,n.originX,n.originY),l}}function v(e,t){return function(n,r,i,a){var o=t(n,r,i,a);return o&&h(e,g(n,r,i,a)),o}}function y(e,n,r,i,a){var o=e.target,s=o.controls[e.corner],l=o.canvas.getZoom(),c=o.padding/l,u=o.toLocalPoint(new t.Point(i,a),n,r);return u.x>=c&&(u.x-=c),u.x<=-c&&(u.x+=c),u.y>=c&&(u.y-=c),u.y<=c&&(u.y+=c),u.x-=s.offsetX,u.y-=s.offsetY,u}function b(e){return e.flipX!==e.flipY}function w(e,t,n,r,i){if(0!==e[t]){var a=i/e._getTransformedDimensions()[r]*e[n];e.set(n,a)}}function C(e,t,n,r){var i,s=t.target,c=s._getTransformedDimensions(0,s.skewY),u=y(t,t.originX,t.originY,n,r),h=Math.abs(2*u.x)-c.x,f=s.skewX;h<2?i=0:(i=l(Math.atan2(h/s.scaleX,c.y/s.scaleY)),t.originX===a&&"bottom"===t.originY&&(i=-i),"right"===t.originX&&t.originY===o&&(i=-i),b(s)&&(i=-i));var d=f!==i;if(d){var p=s._getTransformedDimensions().y;s.set("skewX",i),w(s,"skewY","scaleY","y",p)}return d}function x(e,t,n,r){var i,s=t.target,c=s._getTransformedDimensions(s.skewX,0),u=y(t,t.originX,t.originY,n,r),h=Math.abs(2*u.y)-c.y,f=s.skewY;h<2?i=0:(i=l(Math.atan2(h/s.scaleY,c.x/s.scaleX)),t.originX===a&&"bottom"===t.originY&&(i=-i),"right"===t.originX&&t.originY===o&&(i=-i),b(s)&&(i=-i));var d=f!==i;if(d){var p=s._getTransformedDimensions().x;s.set("skewY",i),w(s,"skewX","scaleX","x",p)}return d}function E(e,t,n,r,i){i=i||{};var a,o,l,u,h,g,m=t.target,v=m.lockScalingX,b=m.lockScalingY,w=i.by,C=f(e,m),x=p(m,w,C),E=t.gestureScale;if(x)return!1;if(E)o=t.scaleX*E,l=t.scaleY*E;else{if(a=y(t,t.originX,t.originY,n,r),h="y"!==w?c(a.x):1,g="x"!==w?c(a.y):1,t.signX||(t.signX=h),t.signY||(t.signY=g),m.lockScalingFlip&&(t.signX!==h||t.signY!==g))return!1;if(u=m._getTransformedDimensions(),C&&!w){var k=Math.abs(a.x)+Math.abs(a.y),S=t.original,_=k/(Math.abs(u.x*S.scaleX/m.scaleX)+Math.abs(u.y*S.scaleY/m.scaleY));o=S.scaleX*_,l=S.scaleY*_}else o=Math.abs(a.x*m.scaleX/u.x),l=Math.abs(a.y*m.scaleY/u.y);d(t)&&(o*=2,l*=2),t.signX!==h&&"y"!==w&&(t.originX=s[t.originX],o*=-1,t.signX=h),t.signY!==g&&"x"!==w&&(t.originY=s[t.originY],l*=-1,t.signY=g)}var T=m.scaleX,O=m.scaleY;return w?("x"===w&&m.set("scaleX",o),"y"===w&&m.set("scaleY",l)):(!v&&m.set("scaleX",o),!b&&m.set("scaleY",l)),T!==m.scaleX||O!==m.scaleY}i.scaleCursorStyleHandler=function(e,t,r){var i=f(e,r),a="";if(0!==t.x&&0===t.y?a="x":0===t.x&&0!==t.y&&(a="y"),p(r,a,i))return"not-allowed";var o=u(r,t);return n[o]+"-resize"},i.skewCursorStyleHandler=function(e,t,n){if(0!==t.x&&n.lockSkewingY)return"not-allowed";if(0!==t.y&&n.lockSkewingX)return"not-allowed";var i=u(n,t)%4;return r[i]+"-resize"},i.scaleSkewCursorStyleHandler=function(e,t,n){return e[n.canvas.altActionKey]?i.skewCursorStyleHandler(e,t,n):i.scaleCursorStyleHandler(e,t,n)},i.rotationWithSnapping=v("rotating",m((function(e,t,n,r){var i=t,a=i.target,o=a.translateToOriginPoint(a.getCenterPoint(),i.originX,i.originY);if(a.lockRotation)return!1;var s,c=Math.atan2(i.ey-o.y,i.ex-o.x),u=Math.atan2(r-o.y,n-o.x),h=l(u-c+i.theta);if(a.snapAngle>0){var f=a.snapAngle,d=a.snapThreshold||f,p=Math.ceil(h/f)*f,g=Math.floor(h/f)*f;Math.abs(h-g)<d?h=g:Math.abs(h-p)<d&&(h=p)}return h<0&&(h=360+h),h%=360,s=a.angle!==h,a.angle=h,s}))),i.scalingEqually=v("scaling",m((function(e,t,n,r){return E(e,t,n,r)}))),i.scalingX=v("scaling",m((function(e,t,n,r){return E(e,t,n,r,{by:"x"})}))),i.scalingY=v("scaling",m((function(e,t,n,r){return E(e,t,n,r,{by:"y"})}))),i.scalingYOrSkewingX=function(e,t,n,r){return e[t.target.canvas.altActionKey]?i.skewHandlerX(e,t,n,r):i.scalingY(e,t,n,r)},i.scalingXOrSkewingY=function(e,t,n,r){return e[t.target.canvas.altActionKey]?i.skewHandlerY(e,t,n,r):i.scalingX(e,t,n,r)},i.changeWidth=v("resizing",m((function(e,t,n,r){var i=t.target,a=y(t,t.originX,t.originY,n,r),o=i.strokeWidth/(i.strokeUniform?i.scaleX:1),s=d(t)?2:1,l=i.width,c=Math.abs(a.x*s/i.scaleX)-o;return i.set("width",Math.max(c,0)),l!==c}))),i.skewHandlerX=function(e,t,n,r){var i,s=t.target,l=s.skewX,c=t.originY;return!s.lockSkewingX&&(0===l?i=y(t,"center","center",n,r).x>0?a:"right":(l>0&&(i=c===o?a:"right"),l<0&&(i=c===o?"right":a),b(s)&&(i=i===a?"right":a)),t.originX=i,v("skewing",m(C))(e,t,n,r))},i.skewHandlerY=function(e,t,n,r){var i,s=t.target,l=s.skewY,c=t.originX;return!s.lockSkewingY&&(0===l?i=y(t,"center","center",n,r).y>0?o:"bottom":(l>0&&(i=c===a?o:"bottom"),l<0&&(i=c===a?"bottom":o),b(s)&&(i=i===o?"bottom":o)),t.originY=i,v("skewing",m(x))(e,t,n,r))},i.dragHandler=function(e,t,n,r){var i=t.target,a=n-t.offsetX,o=r-t.offsetY,s=!i.get("lockMovementX")&&i.left!==a,l=!i.get("lockMovementY")&&i.top!==o;return s&&i.set("left",a),l&&i.set("top",o),(s||l)&&h("moving",g(e,t,n,r)),s||l},i.scaleOrSkewActionName=function(e,t,n){var r=e[n.canvas.altActionKey];return 0===t.x?r?"skewX":"scaleY":0===t.y?r?"skewY":"scaleX":void 0},i.rotationStyleHandler=function(e,t,n){return n.lockRotation?"not-allowed":t.cursorStyle},i.fireEvent=h,i.wrapWithFixedAnchor=m,i.wrapWithFireEvent=v,i.getLocalPoint=y,t.controlsUtils=i}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.degreesToRadians,r=t.controlsUtils;r.renderCircleControl=function(e,t,n,r,i){r=r||{};var a,o=this.sizeX||r.cornerSize||i.cornerSize,s=this.sizeY||r.cornerSize||i.cornerSize,l=void 0!==r.transparentCorners?r.transparentCorners:i.transparentCorners,c=l?"stroke":"fill",u=!l&&(r.cornerStrokeColor||i.cornerStrokeColor),h=t,f=n;e.save(),e.fillStyle=r.cornerColor||i.cornerColor,e.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor,o>s?(a=o,e.scale(1,s/o),f=n*o/s):s>o?(a=s,e.scale(o/s,1),h=t*s/o):a=o,e.lineWidth=1,e.beginPath(),e.arc(h,f,a/2,0,2*Math.PI,!1),e[c](),u&&e.stroke(),e.restore()},r.renderSquareControl=function(e,t,r,i,a){i=i||{};var o=this.sizeX||i.cornerSize||a.cornerSize,s=this.sizeY||i.cornerSize||a.cornerSize,l=void 0!==i.transparentCorners?i.transparentCorners:a.transparentCorners,c=l?"stroke":"fill",u=!l&&(i.cornerStrokeColor||a.cornerStrokeColor),h=o/2,f=s/2;e.save(),e.fillStyle=i.cornerColor||a.cornerColor,e.strokeStyle=i.cornerStrokeColor||a.cornerStrokeColor,e.lineWidth=1,e.translate(t,r),e.rotate(n(a.angle)),e[c+"Rect"](-h,-f,o,s),u&&e.strokeRect(-h,-f,o,s),e.restore()}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Control=function(e){for(var t in e)this[t]=e[t]},t.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(e,t){return t.cursorStyle},getActionName:function(e,t){return t.actionName},getVisibility:function(e,t){var n=e._controlsVisibility;return n&&void 0!==n[t]?n[t]:this.visible},setVisibility:function(e){this.visible=e},positionHandler:function(e,n){return t.util.transformPoint({x:this.x*e.x+this.offsetX,y:this.y*e.y+this.offsetY},n)},calcCornerCoords:function(e,n,r,i,a){var o,s,l,c,u=a?this.touchSizeX:this.sizeX,h=a?this.touchSizeY:this.sizeY;if(u&&h&&u!==h){var f=Math.atan2(h,u),d=Math.sqrt(u*u+h*h)/2,p=f-t.util.degreesToRadians(e),g=Math.PI/2-f-t.util.degreesToRadians(e);o=d*t.util.cos(p),s=d*t.util.sin(p),l=d*t.util.cos(g),c=d*t.util.sin(g)}else{d=.7071067812*(u&&h?u:n);p=t.util.degreesToRadians(45-e);o=l=d*t.util.cos(p),s=c=d*t.util.sin(p)}return{tl:{x:r-c,y:i-l},tr:{x:r+o,y:i-s},bl:{x:r-o,y:i+s},br:{x:r+c,y:i+l}}},render:function(e,n,r,i,a){switch((i=i||{}).cornerStyle||a.cornerStyle){case"circle":t.controlsUtils.renderCircleControl.call(this,e,n,r,i,a);break;default:t.controlsUtils.renderSquareControl.call(this,e,n,r,i,a)}}}}(t),function(){function e(e,t){var n,r,i,a,o=e.getAttribute("style"),s=e.getAttribute("offset")||0;if(s=(s=parseFloat(s)/(/%$/.test(s)?100:1))<0?0:s>1?1:s,o){var l=o.split(/\s*;\s*/);for(""===l[l.length-1]&&l.pop(),a=l.length;a--;){var c=l[a].split(/\s*:\s*/),u=c[0].trim(),h=c[1].trim();"stop-color"===u?n=h:"stop-opacity"===u&&(i=h)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),i||(i=e.getAttribute("stop-opacity")),r=(n=new b.Color(n)).getAlpha(),i=isNaN(parseFloat(i))?1:parseFloat(i),i*=r*t,{offset:s,color:n.toRgb(),opacity:i}}var t=b.util.object.clone;b.Gradient=b.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,n=this;Object.keys(e).forEach((function(t){n[t]=e[t]})),this.id?this.id+="_"+b.Object.__uid++:this.id=b.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var n=new b.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return b.util.populateWithProperties(this,t,e),t},toSVG:function(e,n){var r,i,a,o,s=t(this.coords,!0),l=(n=n||{},t(this.colorStops,!0)),c=s.r1>s.r2,u=this.gradientTransform?this.gradientTransform.concat():b.iMatrix.concat(),h=-this.offsetX,f=-this.offsetY,d=!!n.additionalTransform,p="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(l.sort((function(e,t){return e.offset-t.offset})),"objectBoundingBox"===p?(h/=e.width,f/=e.height):(h+=e.width/2,f+=e.height/2),"path"===e.type&&"percentage"!==this.gradientUnits&&(h-=e.pathOffset.x,f-=e.pathOffset.y),u[4]-=h,u[5]-=f,o='id="SVGID_'+this.id+'" gradientUnits="'+p+'"',o+=' gradientTransform="'+(d?n.additionalTransform+" ":"")+b.util.matrixToSVG(u)+'" ',"linear"===this.type?a=["<linearGradient ",o,' x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,'">\n']:"radial"===this.type&&(a=["<radialGradient ",o,' cx="',c?s.x1:s.x2,'" cy="',c?s.y1:s.y2,'" r="',c?s.r1:s.r2,'" fx="',c?s.x2:s.x1,'" fy="',c?s.y2:s.y1,'">\n']),"radial"===this.type){if(c)for((l=l.concat()).reverse(),r=0,i=l.length;r<i;r++)l[r].offset=1-l[r].offset;var g=Math.min(s.r1,s.r2);if(g>0){var m=g/Math.max(s.r1,s.r2);for(r=0,i=l.length;r<i;r++)l[r].offset+=m*(1-l[r].offset)}}for(r=0,i=l.length;r<i;r++){var v=l[r];a.push("<stop ",'offset="',100*v.offset+"%",'" style="stop-color:',v.color,void 0!==v.opacity?";stop-opacity: "+v.opacity:";",'"/>\n')}return a.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),a.join("")},toLive:function(e){var t,n,r,i=b.util.object.clone(this.coords);if(this.type){for("linear"===this.type?t=e.createLinearGradient(i.x1,i.y1,i.x2,i.y2):"radial"===this.type&&(t=e.createRadialGradient(i.x1,i.y1,i.r1,i.x2,i.y2,i.r2)),n=0,r=this.colorStops.length;n<r;n++){var a=this.colorStops[n].color,o=this.colorStops[n].opacity,s=this.colorStops[n].offset;void 0!==o&&(a=new b.Color(a).setAlpha(o).toRgba()),t.addColorStop(s,a)}return t}}}),b.util.object.extend(b.Gradient,{fromElement:function(t,n,r,i){var a=parseFloat(r)/(/%$/.test(r)?100:1);a=a<0?0:a>1?1:a,isNaN(a)&&(a=1);var o,s,l,c,u=t.getElementsByTagName("stop"),h="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",f=t.getAttribute("gradientTransform")||"",d=[],p=0,g=0;for("linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(o="linear",s=function(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}(t)):(o="radial",s=function(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}(t)),l=u.length;l--;)d.push(e(u[l],a));return c=b.parseTransformAttribute(f),function(e,t,n,r){var i,a;Object.keys(t).forEach((function(e){"Infinity"===(i=t[e])?a=1:"-Infinity"===i?a=0:(a=parseFloat(t[e],10),"string"==typeof i&&/^(\d+\.\d+)%|(\d+)%$/.test(i)&&(a*=.01,"pixels"===r&&("x1"!==e&&"x2"!==e&&"r2"!==e||(a*=n.viewBoxWidth||n.width),"y1"!==e&&"y2"!==e||(a*=n.viewBoxHeight||n.height)))),t[e]=a}))}(0,s,i,h),"pixels"===h&&(p=-n.left,g=-n.top),new b.Gradient({id:t.getAttribute("id"),type:o,coords:s,colorStops:d,gradientUnits:h,gradientTransform:c,offsetX:p,offsetY:g})}})}(),function(){"use strict";var e=b.util.toFixed;b.Pattern=b.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(e,t){if(e||(e={}),this.id=b.Object.__uid++,this.setOptions(e),!e.source||e.source&&"string"!=typeof e.source)t&&t(this);else{var n=this;this.source=b.util.createImage(),b.util.loadImage(e.source,(function(e,r){n.source=e,t&&t(n,r)}),null,this.crossOrigin)}},toObject:function(t){var n,r,i=b.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?n=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:e(this.offsetX,i),offsetY:e(this.offsetY,i),patternTransform:this.patternTransform?this.patternTransform.concat():null},b.util.populateWithProperties(this,r,t),r},toSVG:function(e){var t="function"==typeof this.source?this.source():this.source,n=t.width/e.width,r=t.height/e.height,i=this.offsetX/e.width,a=this.offsetY/e.height,o="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,a&&(r+=Math.abs(a))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,i&&(n+=Math.abs(i))),t.src?o=t.src:t.toDataURL&&(o=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+a+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+t.width+'" height="'+t.height+'" xlink:href="'+o+'"></image>\n</pattern>\n'},setOptions:function(e){for(var t in e)this[t]=e[t]},toLive:function(e){var t=this.source;if(!t)return"";if(void 0!==t.src){if(!t.complete)return"";if(0===t.naturalWidth||0===t.naturalHeight)return""}return e.createPattern(t,this.repeat)}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.toFixed;t.Shadow?t.warn("fabric.Shadow is already defined."):(t.Shadow=t.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(e){for(var n in"string"==typeof e&&(e=this._parseShadow(e)),e)this[n]=e[n];this.id=t.Object.__uid++},_parseShadow:function(e){var n=e.trim(),r=t.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(t.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(r[1],10)||0,offsetY:parseFloat(r[2],10)||0,blur:parseFloat(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var r=40,i=40,a=t.Object.NUM_FRACTION_DIGITS,o=t.util.rotateVector({x:this.offsetX,y:this.offsetY},t.util.degreesToRadians(-e.angle)),s=new t.Color(this.color);return e.width&&e.height&&(r=100*n((Math.abs(o.x)+this.blur)/e.width,a)+20,i=100*n((Math.abs(o.y)+this.blur)/e.height,a)+20),e.flipX&&(o.x*=-1),e.flipY&&(o.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,a)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(o.x,a)+'" dy="'+n(o.y,a)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var e={},n=t.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(t){this[t]!==n[t]&&(e[t]=this[t])}),this),e}}),t.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(t),function(){"use strict";if(b.StaticCanvas)b.warn("fabric.StaticCanvas is already defined.");else{var e=b.util.object.extend,t=b.util.getElementOffset,n=b.util.removeFromArray,r=b.util.toFixed,i=b.util.transformPoint,a=b.util.invertTransform,o=b.util.getNodeCanvas,s=b.util.createCanvasElement,l=new Error("Could not initialize `canvas` element");b.StaticCanvas=b.util.createClass(b.CommonMethods,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:b.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(e,t){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(e),this._initOptions(t),this.interactive||this._initRetinaScaling(),t.overlayImage&&this.setOverlayImage(t.overlayImage,n),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,n),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor,n),t.overlayColor&&this.setOverlayColor(t.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==b.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?b.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var e=b.devicePixelRatio;this.__initRetinaScaling(e,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(e,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(e,t,n){t.setAttribute("width",this.width*e),t.setAttribute("height",this.height*e),n.scale(e,e)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t,n){return this.__setBgOverlayImage("overlayImage",e,t,n)},setBackgroundImage:function(e,t,n){return this.__setBgOverlayImage("backgroundImage",e,t,n)},setOverlayColor:function(e,t){return this.__setBgOverlayColor("overlayColor",e,t)},setBackgroundColor:function(e,t){return this.__setBgOverlayColor("backgroundColor",e,t)},__setBgOverlayImage:function(e,t,n,r){return"string"==typeof t?b.util.loadImage(t,(function(t,i){if(t){var a=new b.Image(t,r);this[e]=a,a.canvas=this}n&&n(t,i)}),this,r&&r.crossOrigin):(r&&t.setOptions(r),this[e]=t,t&&(t.canvas=this),n&&n(t,!1)),this},__setBgOverlayColor:function(e,t,n){return this[e]=t,this._initGradient(t,e),this._initPattern(t,e,n),this},_createCanvasElement:function(){var e=s();if(!e)throw l;if(e.style||(e.style={}),void 0===e.getContext)throw l;return e},_initOptions:function(e){var t=this.lowerCanvasEl;this._setOptions(e),this.width=this.width||parseInt(t.width,10)||0,this.height=this.height||parseInt(t.height,10)||0,this.lowerCanvasEl.style&&(t.width=this.width,t.height=this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){e&&e.getContext?this.lowerCanvasEl=e:this.lowerCanvasEl=b.util.getById(e)||this._createCanvasElement(),b.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,t){return this.setDimensions({width:e},t)},setHeight:function(e,t){return this.setDimensions({height:e},t)},setDimensions:function(e,t){var n;for(var r in t=t||{},e)n=e[r],t.cssOnly||(this._setBackstoreDimension(r,e[r]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(r,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.upperCanvasEl&&(this.upperCanvasEl[e]=t),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=t),this[e]=t,this},_setCssDimension:function(e,t){return this.lowerCanvasEl.style[e]=t,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=t),this.wrapperEl&&(this.wrapperEl.style[e]=t),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(e){var t,n,r,i=this._activeObject,a=this.backgroundImage,o=this.overlayImage;for(this.viewportTransform=e,n=0,r=this._objects.length;n<r;n++)(t=this._objects[n]).group||t.setCoords(!0);return i&&i.setCoords(),a&&a.setCoords(!0),o&&o.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(e,t){var n=e,r=this.viewportTransform.slice(0);e=i(e,a(this.viewportTransform)),r[0]=t,r[3]=t;var o=i(e,r);return r[4]+=n.x-o.x,r[5]+=n.y-o.y,this.setViewportTransform(r)},setZoom:function(e){return this.zoomToPoint(new b.Point(0,0),e),this},absolutePan:function(e){var t=this.viewportTransform.slice(0);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)},relativePan:function(e){return this.absolutePan(new b.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(e){this.stateful&&e.setupState(),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.fire("object:removed",{target:e}),e.fire("removed"),delete e.canvas},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var e=this.contextContainer;return this.renderCanvas(e,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=b.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var e={},t=this.width,n=this.height,r=a(this.viewportTransform);return e.tl=i({x:0,y:0},r),e.br=i({x:t,y:n},r),e.tr=new b.Point(e.br.x,e.tl.y),e.bl=new b.Point(e.tl.x,e.br.y),this.vptCoords=e,e},cancelRequestedRender:function(){this.isRendering&&(b.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(e,t){var n=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(e),b.util.setImageSmoothing(e,this.imageSmoothingEnabled),this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e)),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render",{ctx:e})},drawClipPathOnCanvas:function(e){var t=this.viewportTransform,n=this.clipPath;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},_renderObjects:function(e,t){var n,r;for(n=0,r=t.length;n<r;++n)t[n]&&t[n].render(e)},_renderBackgroundOrOverlay:function(e,t){var n=this[t+"Color"],r=this[t+"Image"],i=this.viewportTransform,a=this[t+"Vpt"];if(n||r){if(n){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=n.toLive?n.toLive(e,this):n,a&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var o=n.gradientTransform||n.patternTransform;o&&e.transform(o[0],o[1],o[2],o[3],o[4],o[5]),e.fill(),e.restore()}r&&(e.save(),a&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r.render(e),e.restore())}},_renderBackground:function(e){this._renderBackgroundOrOverlay(e,"background")},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(e){return this._centerObject(e,new b.Point(this.getCenter().left,e.getCenterPoint().y))},centerObjectV:function(e){return this._centerObject(e,new b.Point(e.getCenterPoint().x,this.getCenter().top))},centerObject:function(e){var t=this.getCenter();return this._centerObject(e,new b.Point(t.left,t.top))},viewportCenterObject:function(e){var t=this.getVpCenter();return this._centerObject(e,t)},viewportCenterObjectH:function(e){var t=this.getVpCenter();return this._centerObject(e,new b.Point(t.x,e.getCenterPoint().y)),this},viewportCenterObjectV:function(e){var t=this.getVpCenter();return this._centerObject(e,new b.Point(e.getCenterPoint().x,t.y))},getVpCenter:function(){var e=this.getCenter(),t=a(this.viewportTransform);return i({x:e.left,y:e.top},t)},_centerObject:function(e,t){return e.setPositionByOrigin(t,"center","center"),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(t,n){var r=this.clipPath,i={version:b.version,objects:this._toObjects(t,n)};return r&&(i.clipPath=this._toObject(this.clipPath,t,n)),e(i,this.__serializeBgOverlay(t,n)),b.util.populateWithProperties(this,i,n),i},_toObjects:function(e,t){return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return this._toObject(n,e,t)}),this)},_toObject:function(e,t,n){var r;this.includeDefaultValues||(r=e.includeDefaultValues,e.includeDefaultValues=!1);var i=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=r),i},__serializeBgOverlay:function(e,t){var n={},r=this.backgroundImage,i=this.overlayImage;return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(t):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(t):this.overlayColor),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,e,t)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,e,t)),n},svgViewportTransformation:!0,toSVG:function(e,t){e||(e={}),e.reviver=t;var n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")},_setSVGPreamble:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,t){var n,i=t.width||this.width,a=t.height||this.height,o='viewBox="0 0 '+this.width+" "+this.height+'" ',s=b.Object.NUM_FRACTION_DIGITS;t.viewBox?o='viewBox="'+t.viewBox.x+" "+t.viewBox.y+" "+t.viewBox.width+" "+t.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,o='viewBox="'+r(-n[4]/n[0],s)+" "+r(-n[5]/n[3],s)+" "+r(this.width/n[0],s)+" "+r(this.height/n[3],s)+'" '),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',a,'" ',o,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",b.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")},createSVGClipPathMarkup:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_"+b.Object.__uid++,'<clipPath id="'+t.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(e.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var e=this;return["background","overlay"].map((function(t){var n=e[t+"Color"];if(n&&n.toLive){var r=e[t+"Vpt"],i=e.viewportTransform,a={width:e.width/(r?i[0]:1),height:e.height/(r?i[3]:1)};return n.toSVG(a,{additionalTransform:r?b.util.matrixToSVG(i):""})}})).join("")},createSVGFontFacesMarkup:function(){var e,t,n,r,i,a,o,s,l="",c={},u=b.fontPaths,h=[];for(this._objects.forEach((function e(t){h.push(t),t._objects&&t._objects.forEach(e)})),o=0,s=h.length;o<s;o++)if(t=(e=h[o]).fontFamily,-1!==e.type.indexOf("text")&&!c[t]&&u[t]&&(c[t]=!0,e.styles))for(i in n=e.styles)for(a in r=n[i])!c[t=r[a].fontFamily]&&u[t]&&(c[t]=!0);for(var f in c)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",f,"';\n","\t\t\tsrc: url('",u[f],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},_setSVGObjects:function(e,t){var n,r,i,a=this._objects;for(r=0,i=a.length;r<i;r++)(n=a[r]).excludeFromExport||this._setSVGObject(e,n,t)},_setSVGObject:function(e,t,n){e.push(t.toSVG(n))},_setSVGBgOverlayImage:function(e,t,n){this[t]&&!this[t].excludeFromExport&&this[t].toSVG&&e.push(this[t].toSVG(n))},_setSVGBgOverlayColor:function(e,t){var n=this[t+"Color"],r=this.viewportTransform,i=this.width,a=this.height;if(n)if(n.toLive){var o=n.repeat,s=b.util.invertTransform(r),l=this[t+"Vpt"]?b.util.matrixToSVG(s):"";e.push('<rect transform="'+l+" translate(",i/2,",",a/2,')"',' x="',n.offsetX-i/2,'" y="',n.offsetY-a/2,'" ','width="',"repeat-y"===o||"no-repeat"===o?n.source.width:i,'" height="',"repeat-x"===o||"no-repeat"===o?n.source.height:a,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(e){if(!e)return this;var t,r,i,a=this._activeObject;if(e===a&&"activeSelection"===e.type)for(t=(i=a._objects).length;t--;)r=i[t],n(this._objects,r),this._objects.unshift(r);else n(this._objects,e),this._objects.unshift(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(e){if(!e)return this;var t,r,i,a=this._activeObject;if(e===a&&"activeSelection"===e.type)for(i=a._objects,t=0;t<i.length;t++)r=i[t],n(this._objects,r),this._objects.push(r);else n(this._objects,e),this._objects.push(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(e,t){if(!e)return this;var r,i,a,o,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(s=l._objects,r=0;r<s.length;r++)i=s[r],(a=this._objects.indexOf(i))>0+c&&(o=a-1,n(this._objects,i),this._objects.splice(o,0,i)),c++;else 0!==(a=this._objects.indexOf(e))&&(o=this._findNewLowerIndex(e,a,t),n(this._objects,e),this._objects.splice(o,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(e,t,n){var r,i;if(n)for(r=t,i=t-1;i>=0;--i){if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){r=i;break}}else r=t-1;return r},bringForward:function(e,t){if(!e)return this;var r,i,a,o,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(r=(s=l._objects).length;r--;)i=s[r],(a=this._objects.indexOf(i))<this._objects.length-1-c&&(o=a+1,n(this._objects,i),this._objects.splice(o,0,i)),c++;else(a=this._objects.indexOf(e))!==this._objects.length-1&&(o=this._findNewUpperIndex(e,a,t),n(this._objects,e),this._objects.splice(o,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(e,t,n){var r,i,a;if(n)for(r=t,i=t+1,a=this._objects.length;i<a;++i){if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){r=i;break}}else r=t+1;return r},moveTo:function(e,t){return n(this._objects,e),this._objects.splice(t,0,e),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(b.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,b.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),e(b.StaticCanvas.prototype,b.Observable),e(b.StaticCanvas.prototype,b.Collection),e(b.StaticCanvas.prototype,b.DataURLExporter),e(b.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var t=s();if(!t||!t.getContext)return null;var n=t.getContext("2d");if(!n)return null;switch(e){case"setLineDash":return void 0!==n.setLineDash;default:return null}}}),b.StaticCanvas.prototype.toJSON=b.StaticCanvas.prototype.toObject,b.isLikelyNode&&(b.StaticCanvas.prototype.createPNGStream=function(){var e=o(this.lowerCanvasEl);return e&&e.createPNGStream()},b.StaticCanvas.prototype.createJPEGStream=function(e){var t=o(this.lowerCanvasEl);return t&&t.createJPEGStream(e)})}}(),b.BaseBrush=b.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var e=this.canvas.contextTop;e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,b.StaticCanvas.supports("setLineDash")&&e.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},_setShadow:function(){if(this.shadow){var e=this.canvas,t=this.shadow,n=e.contextTop,r=e.getZoom();e&&e._isRetinaScaling()&&(r*=b.devicePixelRatio),n.shadowColor=t.color,n.shadowBlur=t.blur*r,n.shadowOffsetX=t.offsetX*r,n.shadowOffsetY=t.offsetY*r}},needsFullRender:function(){return new b.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0},_isOutSideCanvas:function(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}),b.PencilBrush=b.util.createClass(b.BaseBrush,{decimate:.4,initialize:function(e){this.canvas=e,this._points=[]},_drawSegment:function(e,t,n){var r=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,r.x,r.y),r},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this._prepareForDrawing(e),this._captureDrawingPath(e),this._render())},onMouseMove:function(e,t){if(this.canvas._isMainEvent(t.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(e))&&this._captureDrawingPath(e)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,r=n.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,n[r-2],n[r-1],!0),i.stroke(),i.restore()}},onMouseUp:function(e){return!this.canvas._isMainEvent(e.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(e){var t=new b.Point(e.x,e.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1])||(this._points.push(e),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(e){var t=new b.Point(e.x,e.y);return this._addPoint(t)},_render:function(){var e,t,n=this.canvas.contextTop,r=this._points[0],i=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&r.x===i.x&&r.y===i.y){var a=this.width/1e3;r=new b.Point(r.x,r.y),i=new b.Point(i.x,i.y),r.x-=a,i.x+=a}for(n.moveTo(r.x,r.y),e=1,t=this._points.length;e<t;e++)this._drawSegment(n,r,i),r=this._points[e],i=this._points[e+1];n.lineTo(r.x,r.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(e){var t,n=[],r=this.width/1e3,i=new b.Point(e[0].x,e[0].y),a=new b.Point(e[1].x,e[1].y),o=e.length,s=1,l=0,c=o>2;for(c&&(s=e[2].x<a.x?-1:e[2].x===a.x?0:1,l=e[2].y<a.y?-1:e[2].y===a.y?0:1),n.push("M ",i.x-s*r," ",i.y-l*r," "),t=1;t<o;t++){if(!i.eq(a)){var u=i.midPointFrom(a);n.push("Q ",i.x," ",i.y," ",u.x," ",u.y," ")}i=e[t],t+1<e.length&&(a=e[t+1])}return c&&(s=i.x>e[t-2].x?1:i.x===e[t-2].x?0:-1,l=i.y>e[t-2].y?1:i.y===e[t-2].y?0:-1),n.push("L ",i.x+s*r," ",i.y+l*r),n},createPath:function(e){var t=new b.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new b.Shadow(this.shadow)),t},decimatePoints:function(e,t){if(e.length<=2)return e;var n,r=this.canvas.getZoom(),i=Math.pow(t/r,2),a=e.length-1,o=e[0],s=[o];for(n=1;n<a-1;n++)Math.pow(o.x-e[n].x,2)+Math.pow(o.y-e[n].y,2)>=i&&(o=e[n],s.push(o));return s.push(e[a]),s},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==e){var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}else this.canvas.requestRenderAll()}}),b.CircleBrush=b.util.createClass(b.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var t=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,t),n.restore()},dot:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},_render:function(){var e,t,n=this.canvas.contextTop,r=this.points;for(this._saveAndTransform(n),e=0,t=r.length;e<t;e++)this.dot(n,r[e]);n.restore()},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e))},onMouseUp:function(){var e,t,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(e=0,t=this.points.length;e<t;e++){var i=this.points[e],a=new b.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&(a.shadow=new b.Shadow(this.shadow)),r.push(a)}var o=new b.Group(r);o.canvas=this.canvas,this.canvas.fire("before:path:created",{path:o}),this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(e){var t=new b.Point(e.x,e.y),n=b.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new b.Color(this.color).setAlpha(b.util.getRandomInt(0,100)/100).toRgba();return t.radius=n,t.fill=r,this.points.push(t),t}}),b.SprayBrush=b.util.createClass(b.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.addSprayChunk(e),this.render(this.sprayChunkPoints))},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var i=this.sprayChunks[n],a=0,o=i.length;a<o;a++){var s=new b.Rect({width:i[a].width,height:i[a].width,left:i[a].x+1,top:i[a].y+1,originX:"center",originY:"center",fill:this.color});t.push(s)}this.optimizeOverlapping&&(t=this._getOptimizedRects(t));var l=new b.Group(t);this.shadow&&l.set("shadow",new b.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:l}),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()},_getOptimizedRects:function(e){var t,n,r,i={};for(n=0,r=e.length;n<r;n++)i[t=e[n].left+""+e[n].top]||(i[t]=e[n]);var a=[];for(t in i)a.push(i[t]);return a},render:function(e){var t,n,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),t=0,n=e.length;t<n;t++){var i=e[t];void 0!==i.opacity&&(r.globalAlpha=i.opacity),r.fillRect(i.x,i.y,i.width,i.width)}r.restore()},_render:function(){var e,t,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,t=this.sprayChunks.length;e<t;e++)this.render(this.sprayChunks[e]);n.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];var t,n,r,i,a=this.width/2;for(i=0;i<this.density;i++){t=b.util.getRandomInt(e.x-a,e.x+a),n=b.util.getRandomInt(e.y-a,e.y+a),r=this.dotWidthVariance?b.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var o=new b.Point(t,n);o.width=r,this.randomOpacity&&(o.opacity=b.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),b.PatternBrush=b.util.createClass(b.PencilBrush,{getPatternSrc:function(){var e=b.util.createCanvasElement(),t=e.getContext("2d");return e.width=e.height=25,t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill(),e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(e){var t=this.callSuper("createPath",e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new b.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),t}}),function(){var e=b.util.getPointer,t=b.util.degreesToRadians,n=Math.abs,r=b.StaticCanvas.supports("setLineDash"),i=b.util.isTouchEvent;for(var a in b.Canvas=b.util.createClass(b.StaticCanvas,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=b.PencilBrush&&new b.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e,t,n,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){t=[],n=[];for(var i=0,a=this._objects.length;i<a;i++)e=this._objects[i],-1===r.indexOf(e)?t.push(e):n.push(e);r.length>1&&(this._activeObject._objects=n),t.push.apply(t,n)}else t=this._objects;return t},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_normalizePointer:function(e,t){var n=e.calcTransformMatrix(),r=b.util.invertTransform(n),i=this.restorePointerVpt(t);return b.util.transformPoint(i,r)},isTargetTransparent:function(e,t,n){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var r=this._normalizePointer(e,{x:t,y:n}),i=Math.max(e.cacheTranslationX+r.x*e.zoomX,0),a=Math.max(e.cacheTranslationY+r.y*e.zoomY,0);return b.util.isTransparent(e._cacheContext,Math.round(i),Math.round(a),this.targetFindTolerance)}var o=this.contextCache,s=e.selectionBackgroundColor,l=this.viewportTransform;return e.selectionBackgroundColor="",this.clearContext(o),o.save(),o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),e.render(o),o.restore(),e.selectionBackgroundColor=s,b.util.isTransparent(o,t,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(e){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(t){return!0===e[t]})):e[this.selectionKey]},_shouldClearSelection:function(e,t){var n=this.getActiveObjects(),r=this._activeObject;return!t||t&&r&&n.length>1&&-1===n.indexOf(t)&&r!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&r&&r!==t},_shouldCenterTransform:function(e,t,n){var r;if(e)return"scale"===t||"scaleX"===t||"scaleY"===t||"resizing"===t?r=this.centeredScaling||e.centeredScaling:"rotate"===t&&(r=this.centeredRotation||e.centeredRotation),r?!n:n},_getOriginFromCorner:function(e,t){var n={x:e.originX,y:e.originY};return"ml"===t||"tl"===t||"bl"===t?n.x="right":"mr"!==t&&"tr"!==t&&"br"!==t||(n.x="left"),"tl"===t||"mt"===t||"tr"===t?n.y="bottom":"bl"!==t&&"mb"!==t&&"br"!==t||(n.y="top"),n},_getActionFromCorner:function(e,t,n,r){if(!t||!e)return"drag";var i=r.controls[t];return i.getActionName(n,i,r)},_setupCurrentTransform:function(e,n,r){if(n){var i=this.getPointer(e),a=n.__corner,o=n.controls[a],s=r&&a?o.getActionHandler(e,n,o):b.controlsUtils.dragHandler,l=this._getActionFromCorner(r,a,e,n),c=this._getOriginFromCorner(n,a),u=e[this.centeredKey],h={target:n,action:l,actionHandler:s,corner:a,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:i.x-n.left,offsetY:i.y-n.top,originX:c.x,originY:c.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:t(n.angle),width:n.width*n.scaleX,shiftKey:e.shiftKey,altKey:u,original:b.util.saveObjectTransform(n)};this._shouldCenterTransform(n,l,u)&&(h.originX="center",h.originY="center"),h.original.originX=c.x,h.original.originY=c.y,this._currentTransform=h,this._beforeTransform(e)}},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var t=this._groupSelector,i=t.left,a=t.top,o=n(i),s=n(a);if(this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(t.ex-(i>0?0:-i),t.ey-(a>0?0:-a),o,s)),this.selectionLineWidth&&this.selectionBorderColor)if(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!r){var l=t.ex+.5-(i>0?0:o),c=t.ey+.5-(a>0?0:s);e.beginPath(),b.util.drawDashedLine(e,l,c,l+o,c,this.selectionDashArray),b.util.drawDashedLine(e,l,c+s-1,l+o,c+s-1,this.selectionDashArray),b.util.drawDashedLine(e,l,c,l,c+s,this.selectionDashArray),b.util.drawDashedLine(e,l+o-1,c,l+o-1,c+s,this.selectionDashArray),e.closePath(),e.stroke()}else b.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(t.ex+.5-(i>0?0:o),t.ey+.5-(a>0?0:s),o,s)},findTarget:function(e,t){if(!this.skipTargetFind){var n,r,a=this.getPointer(e,!0),o=this._activeObject,s=this.getActiveObjects(),l=i(e),c=s.length>1&&!t||1===s.length;if(this.targets=[],c&&o._findTargetCorner(a,l))return o;if(s.length>1&&!t&&o===this._searchPossibleTargets([o],a))return o;if(1===s.length&&o===this._searchPossibleTargets([o],a)){if(!this.preserveObjectStacking)return o;n=o,r=this.targets,this.targets=[]}var u=this._searchPossibleTargets(this._objects,a);return e[this.altSelectionKey]&&u&&n&&u!==n&&(u=n,this.targets=r),u}},_checkTarget:function(e,t,n){if(t&&t.visible&&t.evented&&t.containsPoint(e)){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,n.x,n.y))return!0}},_searchPossibleTargets:function(e,t){for(var n,r,i=e.length;i--;){var a=e[i],o=a.group?this._normalizePointer(a.group,t):t;if(this._checkTarget(o,a,t)){(n=e[i]).subTargetCheck&&n instanceof b.Group&&(r=this._searchPossibleTargets(n._objects,t))&&this.targets.push(r);break}}return n},restorePointerVpt:function(e){return b.util.transformPoint(e,b.util.invertTransform(this.viewportTransform))},getPointer:function(t,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var r,i=e(t),a=this.upperCanvasEl,o=a.getBoundingClientRect(),s=o.width||0,l=o.height||0;s&&l||("top"in o&&"bottom"in o&&(l=Math.abs(o.top-o.bottom)),"right"in o&&"left"in o&&(s=Math.abs(o.right-o.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,n||(i=this.restorePointerVpt(i));var c=this.getRetinaScaling();return 1!==c&&(i.x/=c,i.y/=c),r=0===s||0===l?{width:1,height:1}:{width:a.width/s,height:a.height/l},{x:i.x*r.width,y:i.y*r.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),t=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),b.util.addClass(n,"upper-canvas "+e),this.wrapperEl.appendChild(n),this._copyCanvasStyle(t,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=b.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),b.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),b.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.width||e.width,n=this.height||e.height;b.util.setStyle(e,{position:"absolute",width:t+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=t,e.height=n,b.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,t){t.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?"activeSelection"===e.type&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,t){var n=!1,r=this.getActiveObjects(),i=[],a=[];e.forEach((function(e){-1===r.indexOf(e)&&(n=!0,e.fire("deselected",{e:t,target:e}),a.push(e))})),r.forEach((function(r){-1===e.indexOf(r)&&(n=!0,r.fire("selected",{e:t,target:r}),i.push(r))})),e.length>0&&r.length>0?n&&this.fire("selection:updated",{e:t,selected:i,deselected:a,updated:i[0]||a[0],target:this._activeObject}):r.length>0?this.fire("selection:created",{e:t,selected:i,target:this._activeObject}):e.length>0&&this.fire("selection:cleared",{e:t,deselected:a})},setActiveObject:function(e,t){var n=this.getActiveObjects();return this._setActiveObject(e,t),this._fireSelectionEvents(n,t),this},_setActiveObject:function(e,t){return this._activeObject!==e&&(!!this._discardActiveObject(t,e)&&(!e.onSelect({e:t})&&(this._activeObject=e,!0)))},_discardActiveObject:function(e,t){var n=this._activeObject;if(n){if(n.onDeselect({e:e,object:t}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var t=this.getActiveObjects(),n=this.getActiveObject();return t.length&&this.fire("before:selection:cleared",{target:n,e:e}),this._discardActiveObject(e),this._fireSelectionEvents(t,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){b.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,b.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var t=this._activeObject;t&&t._renderControls(e)},_toObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(e),i=this.callSuper("_toObject",e,t,n);return this._unwindGroupTransformOnObject(e,r),i},_realizeGroupTransformOnObject:function(e){if(e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group){var t={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){t[n]=e[n]})),b.util.addTransformToObject(e,this._activeObject.calcOwnMatrix()),t}return null},_unwindGroupTransformOnObject:function(e,t){t&&e.set(t)},_setSVGObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(t);this.callSuper("_setSVGObject",e,t,n),this._unwindGroupTransformOnObject(t,r)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),b.StaticCanvas.prototype.setViewportTransform.call(this,e)}}),b.StaticCanvas)"prototype"!==a&&(b.Canvas[a]=b.StaticCanvas[a])}(),function(){var e=b.util.addListener,t=b.util.removeListener,n={passive:!1};function r(e,t){return e.button&&e.button===t-1}b.util.object.extend(b.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(e,t){var r=this.upperCanvasEl,i=this._getEventPrefix();e(b.window,"resize",this._onResize),e(r,i+"down",this._onMouseDown),e(r,i+"move",this._onMouseMove,n),e(r,i+"out",this._onMouseOut),e(r,i+"enter",this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"dblclick",this._onDoubleClick),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,n),"undefined"!=typeof eventjs&&t in eventjs&&(eventjs[t](r,"gesture",this._onGesture),eventjs[t](r,"drag",this._onDrag),eventjs[t](r,"orientation",this._onOrientationChange),eventjs[t](r,"shake",this._onShake),eventjs[t](r,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(t,"remove");var e=this._getEventPrefix();t(b.document,e+"up",this._onMouseUp),t(b.document,"touchend",this._onTouchEnd,n),t(b.document,e+"move",this._onMouseMove,n),t(b.document,"touchmove",this._onMouseMove,n)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(e,t){this.__onTransformGesture&&this.__onTransformGesture(e,t)},_onDrag:function(e,t){this.__onDrag&&this.__onDrag(e,t)},_onMouseWheel:function(e){this.__onMouseWheel(e)},_onMouseOut:function(e){var t=this._hoveredTarget;this.fire("mouse:out",{target:t,e:e}),this._hoveredTarget=null,t&&t.fire("mouseout",{e:e});var n=this;this._hoveredTargets.forEach((function(r){n.fire("mouse:out",{target:t,e:e}),r&&t.fire("mouseout",{e:e})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(e){e.isEditing&&e.hiddenTextarea.focus()}))},_onMouseEnter:function(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",{target:null,e:e}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(e,t){this.__onOrientationChange&&this.__onOrientationChange(e,t)},_onShake:function(e,t){this.__onShake&&this.__onShake(e,t)},_onLongPress:function(e,t){this.__onLongPress&&this.__onLongPress(e,t)},_onDragOver:function(e){e.preventDefault();var t=this._simpleEventHandler("dragover",e);this._fireEnterLeaveEvents(t,e)},_onContextMenu:function(e){return this.stopContextMenu&&(e.stopPropagation(),e.preventDefault()),!1},_onDoubleClick:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData(e)},getPointerId:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1},_isMainEvent:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||(!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(r){r.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(r)),this.__onMouseDown(r),this._resetTransformEventData();var i=this.upperCanvasEl,a=this._getEventPrefix();e(b.document,"touchend",this._onTouchEnd,n),e(b.document,"touchmove",this._onMouseMove,n),t(i,a+"down",this._onMouseDown)},_onMouseDown:function(r){this.__onMouseDown(r),this._resetTransformEventData();var i=this.upperCanvasEl,a=this._getEventPrefix();t(i,a+"move",this._onMouseMove,n),e(b.document,a+"up",this._onMouseUp),e(b.document,a+"move",this._onMouseMove,n)},_onTouchEnd:function(r){if(!(r.touches.length>0)){this.__onMouseUp(r),this._resetTransformEventData(),this.mainTouchId=null;var i=this._getEventPrefix();t(b.document,"touchend",this._onTouchEnd,n),t(b.document,"touchmove",this._onMouseMove,n);var a=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){e(a.upperCanvasEl,i+"down",a._onMouseDown),a._willAddMouseDown=0}),400)}},_onMouseUp:function(r){this.__onMouseUp(r),this._resetTransformEventData();var i=this.upperCanvasEl,a=this._getEventPrefix();this._isMainEvent(r)&&(t(b.document,a+"up",this._onMouseUp),t(b.document,a+"move",this._onMouseMove,n),e(i,a+"move",this._onMouseMove,n))},_onMouseMove:function(e){!this.allowTouchScrolling&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)},_onResize:function(){this.calcOffset()},_shouldRender:function(e){var t=this._activeObject;return!!(!!t!=!!e||t&&e&&t!==e)||(t&&t.isEditing,!1)},__onMouseUp:function(e){var t,n=this._currentTransform,i=this._groupSelector,a=!1,o=!i||0===i.left&&0===i.top;if(this._cacheTransformEventData(e),t=this._target,this._handleEvent(e,"up:before"),r(e,3))this.fireRightClick&&this._handleEvent(e,"up",3,o);else{if(r(e,2))return this.fireMiddleClick&&this._handleEvent(e,"up",2,o),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(e);else if(this._isMainEvent(e)){if(n&&(this._finalizeCurrentTransform(e),a=n.actionPerformed),!o){var s=t===this._activeObject;this._maybeGroupObjects(e),a||(a=this._shouldRender(t)||!s&&t===this._activeObject)}if(t){if(t.selectable&&t!==this._activeObject&&"up"===t.activeOn)this.setActiveObject(t,e),a=!0;else{var l=t._findTargetCorner(this.getPointer(e,!0),b.util.isTouchEvent(e)),c=t.controls[l],u=c&&c.getMouseUpHandler(e,t,c);if(u){var h=this.getPointer(e);u(e,n,h.x,h.y)}}t.isMoving=!1}this._setCursorFromEvent(e,t),this._handleEvent(e,"up",1,o),this._groupSelector=null,this._currentTransform=null,t&&(t.__corner=0),a?this.requestRenderAll():o||this.renderTop()}}},_simpleEventHandler:function(e,t){var n=this.findTarget(t),r=this.targets,i={e:t,target:n,subTargets:r};if(this.fire(e,i),n&&n.fire(e,i),!r)return n;for(var a=0;a<r.length;a++)r[a].fire(e,i);return n},_handleEvent:function(e,t,n,r){var i=this._target,a=this.targets||[],o={e:e,target:i,subTargets:a,button:n||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===t&&(o.currentTarget=this.findTarget(e),o.currentSubTargets=this.targets),this.fire("mouse:"+t,o),i&&i.fire("mouse"+t,o);for(var s=0;s<a.length;s++)a[s].fire("mouse"+t,o)},_finalizeCurrentTransform:function(e){var t,n=this._currentTransform,r=n.target,i={e:e,target:r,transform:n,action:n.action};r._scaling&&(r._scaling=!1),r.setCoords(),(n.actionPerformed||this.stateful&&r.hasStateChanged())&&(n.actionPerformed&&(t=this._addEventOptions(i,n),this._fire(t,i)),this._fire("modified",i))},_addEventOptions:function(e,t){var n,r;switch(t.action){case"scaleX":n="scaled",r="x";break;case"scaleY":n="scaled",r="y";break;case"skewX":n="skewed",r="x";break;case"skewY":n="skewed",r="y";break;case"scale":n="scaled",r="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return e.by=r,n},_onMouseDownInDrawingMode:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(e).requestRenderAll();var t=this.getPointer(e);this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down")},_onMouseMoveInDrawingMode:function(e){if(this._isCurrentlyDrawing){var t=this.getPointer(e);this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")},_onMouseUpInDrawingMode:function(e){var t=this.getPointer(e);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:e,pointer:t}),this._handleEvent(e,"up")},__onMouseDown:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target;if(r(e,3))this.fireRightClick&&this._handleEvent(e,"down",3);else if(r(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var i=this._shouldRender(t),a=this._shouldGroup(e,t);if(this._shouldClearSelection(e,t)?this.discardActiveObject(e):a&&(this._handleGrouping(e,t),t=this._activeObject),!this.selection||t&&(t.selectable||t.isEditing||t===this._activeObject)||(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0}),t){var o=t===this._activeObject;t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);var s=t._findTargetCorner(this.getPointer(e,!0),b.util.isTouchEvent(e));if(t.__corner=s,t===this._activeObject&&(s||!a)){this._setupCurrentTransform(e,t,o);var l=t.controls[s],c=(n=this.getPointer(e),l&&l.getMouseDownHandler(e,t,l));c&&c(e,this._currentTransform,n.x,n.y)}}this._handleEvent(e,"down"),(i||a)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(e){this._resetTransformEventData(),this._pointer=this.getPointer(e,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)||null},_beforeTransform:function(e){var t=this._currentTransform;this.stateful&&t.target.saveState(),this.fire("before:transform",{e:e,transform:t})},__onMouseMove:function(e){var t,n;if(this._handleEvent(e,"move:before"),this._cacheTransformEventData(e),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var r=this._groupSelector;r?(n=this._pointer,r.left=n.x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(e):(t=this.findTarget(e)||null,this._setCursorFromEvent(e,t),this._fireOverOutEvents(t,e)),this._handleEvent(e,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(e,t){var n=this._hoveredTarget,r=this._hoveredTargets,i=this.targets,a=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var o=0;o<a;o++)this.fireSyntheticInOutEvents(i[o],t,{oldTarget:r[o],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(e,t){var n=this._draggedoverTarget,r=this._hoveredTargets,i=this.targets,a=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var o=0;o<a;o++)this.fireSyntheticInOutEvents(i[o],t,{oldTarget:r[o],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=e},fireSyntheticInOutEvents:function(e,t,n){var r,i,a,o=n.oldTarget,s=o!==e,l=n.canvasEvtIn,c=n.canvasEvtOut;s&&(r={e:t,target:e,previousTarget:o},i={e:t,target:o,nextTarget:e}),a=e&&s,o&&s&&(c&&this.fire(c,i),o.fire(n.evtOut,i)),a&&(l&&this.fire(l,r),e.fire(n.evtIn,r))},__onMouseWheel:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()},_transformObject:function(e){var t=this.getPointer(e),n=this._currentTransform;n.reset=!1,n.shiftKey=e.shiftKey,n.altKey=e[this.centeredKey],this._performTransformAction(e,n,t),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(e,t,n){var r=n.x,i=n.y,a=t.action,o=!1,s=t.actionHandler;s&&(o=s(e,t,r,i)),"drag"===a&&o&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||o},_fire:b.controlsUtils.fireEvent,_setCursorFromEvent:function(e,t){if(!t)return this.setCursor(this.defaultCursor),!1;var n=t.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,i=(!r||!r.contains(t))&&t._findTargetCorner(this.getPointer(e,!0));i?this.setCursor(this.getCornerCursor(i,t,e)):(t.subTargetCheck&&this.targets.concat().reverse().map((function(e){n=e.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(e,t,n){var r=t.controls[e];return r.cursorStyleHandler(n,r,t)}})}(),h=Math.min,f=Math.max,b.util.object.extend(b.Canvas.prototype,{_shouldGroup:function(e,t){var n=this._activeObject;return n&&this._isSelectionKeyPressed(e)&&t&&t.selectable&&this.selection&&(n!==t||"activeSelection"===n.type)&&!t.onSelect({e:e})},_handleGrouping:function(e,t){var n=this._activeObject;n.__corner||(t!==n||(t=this.findTarget(e,!0))&&t.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(t,e):this._createActiveSelection(t,e))},_updateActiveSelection:function(e,t){var n=this._activeObject,r=n._objects.slice(0);n.contains(e)?(n.removeWithUpdate(e),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),t)):(n.addWithUpdate(e),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(r,t)},_createActiveSelection:function(e,t){var n=this.getActiveObjects(),r=this._createGroup(e);this._hoveredTarget=r,this._setActiveObject(r,t),this._fireSelectionEvents(n,t)},_createGroup:function(e){var t=this._objects,n=t.indexOf(this._activeObject)<t.indexOf(e)?[this._activeObject,e]:[e,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new b.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(e){var t,n=this._collectObjects(e);1===n.length?this.setActiveObject(n[0],e):n.length>1&&(t=new b.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(t,e))},_collectObjects:function(e){for(var t,n=[],r=this._groupSelector.ex,i=this._groupSelector.ey,a=r+this._groupSelector.left,o=i+this._groupSelector.top,s=new b.Point(h(r,a),h(i,o)),l=new b.Point(f(r,a),f(i,o)),c=!this.selectionFullyContained,u=r===a&&i===o,d=this._objects.length;d--&&!((t=this._objects[d])&&t.selectable&&t.visible&&(c&&t.intersectsWithRect(s,l)||t.isContainedWithinRect(s,l)||c&&t.containsPoint(s)||c&&t.containsPoint(l))&&(n.push(t),u)););return n.length>1&&(n=n.filter((function(t){return!t.onSelect({e:e})}))),n},_maybeGroupObjects:function(e){this.selection&&this._groupSelector&&this._groupSelectedObjects(e),this.setCursor(this.defaultCursor),this._groupSelector=null}}),b.util.object.extend(b.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",n=e.quality||1,r=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),i=this.toCanvasElement(r,e);return b.util.toDataURL(i,t,n)},toCanvasElement:function(e,t){e=e||1;var n=((t=t||{}).width||this.width)*e,r=(t.height||this.height)*e,i=this.getZoom(),a=this.width,o=this.height,s=i*e,l=this.viewportTransform,c=(l[4]-(t.left||0))*e,u=(l[5]-(t.top||0))*e,h=this.interactive,f=[s,0,0,s,c,u],d=this.enableRetinaScaling,p=b.util.createCanvasElement(),g=this.contextTop;return p.width=n,p.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=f,this.width=n,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(p.getContext("2d"),this._objects),this.viewportTransform=l,this.width=a,this.height=o,this.calcViewportBoundaries(),this.interactive=h,this.enableRetinaScaling=d,this.contextTop=g,p}}),b.util.object.extend(b.StaticCanvas.prototype,{loadFromJSON:function(e,t,n){if(e){var r="string"==typeof e?JSON.parse(e):b.util.object.clone(e),i=this,a=r.clipPath,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(e){i.clear(),i._setBgOverlay(r,(function(){a?i._enlivenObjects([a],(function(n){i.clipPath=n[0],i.__setupCanvas.call(i,r,e,o,t)})):i.__setupCanvas.call(i,r,e,o,t)}))}),n),this}},__setupCanvas:function(e,t,n,r){var i=this;t.forEach((function(e,t){i.insertAt(e,t)})),this.renderOnAddRemove=n,delete e.objects,delete e.backgroundImage,delete e.overlayImage,delete e.background,delete e.overlay,this._setOptions(e),this.renderAll(),r&&r()},_setBgOverlay:function(e,t){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&t&&t()};this.__setBgOverlay("backgroundImage",e.backgroundImage,n,r),this.__setBgOverlay("overlayImage",e.overlayImage,n,r),this.__setBgOverlay("backgroundColor",e.background,n,r),this.__setBgOverlay("overlayColor",e.overlay,n,r)}else t&&t()},__setBgOverlay:function(e,t,n,r){var i=this;if(!t)return n[e]=!0,void(r&&r());"backgroundImage"===e||"overlayImage"===e?b.util.enlivenObjects([t],(function(t){i[e]=t[0],n[e]=!0,r&&r()})):this["set"+b.util.string.capitalize(e,!0)](t,(function(){n[e]=!0,r&&r()}))},_enlivenObjects:function(e,t,n){e&&0!==e.length?b.util.enlivenObjects(e,(function(e){t&&t(e)}),null,n):t&&t([])},_toDataURL:function(e,t){this.clone((function(n){t(n.toDataURL(e))}))},_toDataURLWithMultiplier:function(e,t,n){this.clone((function(r){n(r.toDataURLWithMultiplier(e,t))}))},clone:function(e,t){var n=JSON.stringify(this.toJSON(t));this.cloneWithoutData((function(t){t.loadFromJSON(n,(function(){e&&e(t)}))}))},cloneWithoutData:function(e){var t=b.util.createCanvasElement();t.width=this.width,t.height=this.height;var n=new b.Canvas(t);this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),e&&e(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):e&&e(n)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i=t.util.toFixed,a=t.util.string.capitalize,o=t.util.degreesToRadians,s=t.StaticCanvas.supports("setLineDash"),l=!t.isLikelyNode;t.Object||(t.Object=t.util.createClass(t.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:l,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(e){e&&this.setOptions(e)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=t.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(e){var n=t.perfLimitSizeTotal,r=e.width,i=e.height,a=t.maxCacheSideLimit,o=t.minCacheSideLimit;if(r<=a&&i<=a&&r*i<=n)return r<o&&(e.width=o),i<o&&(e.height=o),e;var s=r/i,l=t.util.limitDimsByArea(s,n),c=t.util.capValue,u=c(o,l.x,a),h=c(o,l.y,a);return r>u&&(e.zoomX/=r/u,e.width=u,e.capped=!0),i>h&&(e.zoomY/=i/h,e.height=h,e.capped=!0),e},_getCacheCanvasDimensions:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions(0,0),n=t.x*e.scaleX/this.scaleX,r=t.y*e.scaleY/this.scaleY;return{width:n+2,height:r+2,zoomX:e.scaleX,zoomY:e.scaleY,x:n,y:r}},_updateCacheCanvas:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var n=e._currentTransform.target,r=e._currentTransform.action;if(this===n&&r.slice&&"scale"===r.slice(0,5))return!1}var i,a,o=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),l=t.minCacheSideLimit,c=s.width,u=s.height,h=s.zoomX,f=s.zoomY,d=c!==this.cacheWidth||u!==this.cacheHeight,p=this.zoomX!==h||this.zoomY!==f,g=d||p,m=0,v=0,y=!1;if(d){var b=this._cacheCanvas.width,w=this._cacheCanvas.height,C=c>b||u>w;y=C||(c<.9*b||u<.9*w)&&b>l&&w>l,C&&!s.capped&&(c>l||u>l)&&(m=.1*c,v=.1*u)}return!!g&&(y?(o.width=Math.ceil(c+m),o.height=Math.ceil(u+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,o.width,o.height)),i=s.x/2,a=s.y/2,this.cacheTranslationX=Math.round(o.width/2-i)+i,this.cacheTranslationY=Math.round(o.height/2-a)+a,this.cacheWidth=c,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(h,f),this.zoomX=h,this.zoomY=f,!0)},setOptions:function(e){this._setOptions(e),this._initGradient(e.fill,"fill"),this._initGradient(e.stroke,"stroke"),this._initPattern(e.fill,"fill"),this._initPattern(e.stroke,"stroke")},transform:function(e){var t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!t);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])},toObject:function(e){var n=t.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:t.version,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,n),skewY:i(this.skewY,n)};return this.clipPath&&(r.clipPath=this.clipPath.toObject(e),r.clipPath.inverted=this.clipPath.inverted,r.clipPath.absolutePositioned=this.clipPath.absolutePositioned),t.util.populateWithProperties(this,r,e),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var n=t.util.getKlass(e.type).prototype;return n.stateProperties.forEach((function(t){"left"!==t&&"top"!==t&&(e[t]===n[t]&&delete e[t],"[object Array]"===Object.prototype.toString.call(e[t])&&"[object Array]"===Object.prototype.toString.call(n[t])&&0===e[t].length&&0===n[t].length&&delete e[t])})),e},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){var e=t.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(e.scaleX),scaleY:Math.abs(e.scaleY)}},getTotalObjectScaling:function(){var e=this.getObjectScaling(),t=e.scaleX,n=e.scaleY;if(this.canvas){var r=this.canvas.getZoom(),i=this.canvas.getRetinaScaling();t*=r*i,n*=r*i}return{scaleX:t,scaleY:n}},getObjectOpacity:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e},_set:function(e,n){var r="scaleX"===e||"scaleY"===e,i=this[e]!==n,a=!1;return r&&(n=this._constrainScale(n)),"scaleX"===e&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===e&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==e||!n||n instanceof t.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",n):n=new t.Shadow(n),this[e]=n,i&&(a=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,a&&this.group.set("dirty",!0)):a&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:t.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(e),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),e.restore())},renderCache:function(e){e=e||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(e){var n=this.clipPath;if(e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",n.absolutePositioned){var r=t.util.invertTransform(this.calcTransformMatrix());e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},drawObject:function(e,t){var n=this.fill,r=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e),this.fill=n,this.stroke=r},_drawClipPath:function(e){var t=this.clipPath;t&&(t.canvas=this.canvas,t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e))},drawCacheOnCanvas:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(e){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!e&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!e){var t=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-t/2,-n/2,t,n)}return!0}return!1},_renderBackground:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}},_setOpacity:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity},_setStrokeStyles:function(e,t){var n=t.stroke;n&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,n.toLive?"percentage"===n.gradientUnits||n.gradientTrasnform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):e.strokeStyle=t.stroke)},_setFillStyles:function(e,t){var n=t.fill;n&&(n.toLive?(e.fillStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,t.fill)):e.fillStyle=n)},_setClippingProperties:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"},_setLineDash:function(e,t,n){t&&0!==t.length&&(1&t.length&&t.push.apply(t,t),s?e.setLineDash(t):n&&n(e))},_renderControls:function(e,n){var r,i,a,s=this.getViewportTransform(),l=this.calcTransformMatrix();i=void 0!==(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,a=void 0!==n.hasControls?n.hasControls:this.hasControls,l=t.util.multiplyTransformMatrices(s,l),r=t.util.qrDecompose(l),e.save(),e.translate(r.translateX,r.translateY),e.lineWidth=1*this.borderScaleFactor,this.group||(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),n.forActiveSelection?(e.rotate(o(r.angle)),i&&this.drawBordersInGroup(e,r,n)):(e.rotate(o(this.angle)),i&&this.drawBorders(e,n)),a&&this.drawControls(e,n),e.restore()},_setShadow:function(e){if(this.shadow){var n,r=this.shadow,i=this.canvas,a=i&&i.viewportTransform[0]||1,o=i&&i.viewportTransform[3]||1;n=r.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),i&&i._isRetinaScaling()&&(a*=t.devicePixelRatio,o*=t.devicePixelRatio),e.shadowColor=r.color,e.shadowBlur=r.blur*t.browserShadowBlurConstant*(a+o)*(n.scaleX+n.scaleY)/4,e.shadowOffsetX=r.offsetX*a*n.scaleX,e.shadowOffsetY=r.offsetY*o*n.scaleY}},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=t.gradientTransform||t.patternTransform,r=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,r,i):e.transform(1,0,0,1,r,i),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:i}},_renderPaintInOrder:function(e){"stroke"===this.paintFirst?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))},_render:function(){},_renderFill:function(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())},_renderStroke:function(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform&&this.group){var t=this.getObjectScaling();e.scale(1/t.scaleX,1/t.scaleY)}else this.strokeUniform&&e.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(e,this.strokeDashArray,this._renderDashedStroke),this._setStrokeStyles(e,this),e.stroke(),e.restore()}},_applyPatternForTransformedGradient:function(e,n){var r,i=this._limitCacheSize(this._getCacheCanvasDimensions()),a=t.util.createCanvasElement(),o=this.canvas.getRetinaScaling(),s=i.x/this.scaleX/o,l=i.y/this.scaleY/o;a.width=s,a.height=l,(r=a.getContext("2d")).beginPath(),r.moveTo(0,0),r.lineTo(s,0),r.lineTo(s,l),r.lineTo(0,l),r.closePath(),r.translate(s/2,l/2),r.scale(i.zoomX/this.scaleX/o,i.zoomY/this.scaleY/o),this._applyPatternGradientTransform(r,n),r.fillStyle=n.toLive(e),r.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(o*this.scaleX/i.zoomX,o*this.scaleY/i.zoomY),e.strokeStyle=r.createPattern(a,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var e=t.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",e.scaleX),this.set("scaleY",e.scaleY),this.angle=e.angle,this.skewX=e.skewX,this.skewY=0}},_removeTransformMatrix:function(e){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=t.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,e&&(this.scaleX*=e.scaleX,this.scaleY*=e.scaleY,this.cropX=e.cropX,this.cropY=e.cropY,n.x+=e.offsetLeft,n.y+=e.offsetTop,this.width=e.width,this.height=e.height),this.setPositionByOrigin(n,"center","center")},clone:function(e,n){var r=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(r,e):t.Object._fromObject("Object",r,e)},cloneAsImage:function(e,n){var r=this.toCanvasElement(n);return e&&e(new t.Image(r)),this},toCanvasElement:function(e){e||(e={});var n=t.util,r=n.saveObjectTransform(this),i=this.group,a=this.shadow,o=Math.abs,s=(e.multiplier||1)*(e.enableRetinaScaling?t.devicePixelRatio:1);delete this.group,e.withoutTransform&&n.resetObjectTransform(this),e.withoutShadow&&(this.shadow=null);var l,c,u,h,f=t.util.createCanvasElement(),d=this.getBoundingRect(!0,!0),p=this.shadow,g={x:0,y:0};p&&(c=p.blur,l=p.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),g.x=2*Math.round(o(p.offsetX)+c)*o(l.scaleX),g.y=2*Math.round(o(p.offsetY)+c)*o(l.scaleY)),u=d.width+g.x,h=d.height+g.y,f.width=Math.ceil(u),f.height=Math.ceil(h);var m=new t.StaticCanvas(f,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===e.format&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new t.Point(m.width/2,m.height/2),"center","center");var v=this.canvas;m.add(this);var y=m.toCanvasElement(s||1,e);return this.shadow=a,this.set("canvas",v),i&&(this.group=i),this.set(r).setCoords(),m._objects=[],m.dispose(),m=null,y},toDataURL:function(e){return e||(e={}),t.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1)},isType:function(e){return this.type===e},complexity:function(){return 1},toJSON:function(e){return this.toObject(e)},rotate:function(e){var t=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return t&&this._setOriginToCenter(),this.set("angle",e),t&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var r=new t.Point(n.x,n.y),i=this._getLeftTopCoords();return this.angle&&(r=t.util.rotatePoint(r,i,o(-this.angle))),{x:r.x-i.x,y:r.y-i.y}},_setupCompositeOperation:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}}),t.util.createAccessors&&t.util.createAccessors(t.Object),n(t.Object.prototype,t.Observable),t.Object.NUM_FRACTION_DIGITS=2,t.Object._fromObject=function(e,n,i,a){var o=t[e];n=r(n,!0),t.util.enlivenPatterns([n.fill,n.stroke],(function(e){void 0!==e[0]&&(n.fill=e[0]),void 0!==e[1]&&(n.stroke=e[1]),t.util.enlivenObjects([n.clipPath],(function(e){n.clipPath=e[0];var t=a?new o(n[a],n):new o(n);i&&i(t)}))}))},t.Object.__uid=0)}(t),d=b.util.degreesToRadians,p={left:-.5,center:0,right:.5},g={top:-.5,center:0,bottom:.5},b.util.object.extend(b.Object.prototype,{translateToGivenOrigin:function(e,t,n,r,i){var a,o,s,l=e.x,c=e.y;return"string"==typeof t?t=p[t]:t-=.5,"string"==typeof r?r=p[r]:r-=.5,"string"==typeof n?n=g[n]:n-=.5,"string"==typeof i?i=g[i]:i-=.5,o=i-n,((a=r-t)||o)&&(s=this._getTransformedDimensions(),l=e.x+a*s.x,c=e.y+o*s.y),new b.Point(l,c)},translateToCenterPoint:function(e,t,n){var r=this.translateToGivenOrigin(e,t,n,"center","center");return this.angle?b.util.rotatePoint(r,e,d(this.angle)):r},translateToOriginPoint:function(e,t,n){var r=this.translateToGivenOrigin(e,"center","center",t,n);return this.angle?b.util.rotatePoint(r,e,d(this.angle)):r},getCenterPoint:function(){var e=new b.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,t){var n=this.getCenterPoint();return this.translateToOriginPoint(n,e,t)},toLocalPoint:function(e,t,n){var r,i,a=this.getCenterPoint();return r=void 0!==t&&void 0!==n?this.translateToGivenOrigin(a,"center","center",t,n):new b.Point(this.left,this.top),i=new b.Point(e.x,e.y),this.angle&&(i=b.util.rotatePoint(i,a,-d(this.angle))),i.subtractEquals(r)},setPositionByOrigin:function(e,t,n){var r=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(e){var t,n,r=d(this.angle),i=this.getScaledWidth(),a=b.util.cos(r)*i,o=b.util.sin(r)*i;t="string"==typeof this.originX?p[this.originX]:this.originX-.5,n="string"==typeof e?p[e]:e-.5,this.left+=a*(n-t),this.top+=o*(n-t),this.setCoords(),this.originX=e},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var e=b.util,t=e.degreesToRadians,n=e.multiplyTransformMatrices,r=e.transformPoint;e.object.extend(b.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(e,t){return t?e?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),e?this.aCoords:this.lineCoords)},getCoords:function(e,t){return n=this._getCoords(e,t),[new b.Point(n.tl.x,n.tl.y),new b.Point(n.tr.x,n.tr.y),new b.Point(n.br.x,n.br.y),new b.Point(n.bl.x,n.bl.y)];var n},intersectsWithRect:function(e,t,n,r){var i=this.getCoords(n,r);return"Intersection"===b.Intersection.intersectPolygonRectangle(i,e,t).status},intersectsWithObject:function(e,t,n){return"Intersection"===b.Intersection.intersectPolygonPolygon(this.getCoords(t,n),e.getCoords(t,n)).status||e.isContainedWithinObject(this,t,n)||this.isContainedWithinObject(e,t,n)},isContainedWithinObject:function(e,t,n){for(var r=this.getCoords(t,n),i=t?e.aCoords:e.lineCoords,a=0,o=e._getImageLines(i);a<4;a++)if(!e.containsPoint(r[a],o))return!1;return!0},isContainedWithinRect:function(e,t,n,r){var i=this.getBoundingRect(n,r);return i.left>=e.x&&i.left+i.width<=t.x&&i.top>=e.y&&i.top+i.height<=t.y},containsPoint:function(e,t,n,r){var i=this._getCoords(n,r),a=(t=t||this._getImageLines(i),this._findCrossPoints(e,t));return 0!==a&&a%2==1},isOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.getCoords(!0,e).some((function(e){return e.x<=n.x&&e.x>=t.x&&e.y<=n.y&&e.y>=t.y}))||(!!this.intersectsWithRect(t,n,!0,e)||this._containsCenterOfCanvas(t,n,e))},_containsCenterOfCanvas:function(e,t,n){var r={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(r,null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(t,n,!0,e)||this.getCoords(!0,e).every((function(e){return(e.x>=n.x||e.x<=t.x)&&(e.y>=n.y||e.y<=t.y)}))&&this._containsCenterOfCanvas(t,n,e)},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,t){var n,r,i,a=0;for(var o in t)if(!((i=t[o]).o.y<e.y&&i.d.y<e.y||i.o.y>=e.y&&i.d.y>=e.y||(i.o.x===i.d.x&&i.o.x>=e.x?r=i.o.x:(0,n=(i.d.y-i.o.y)/(i.d.x-i.o.x),r=-(e.y-0*e.x-(i.o.y-n*i.o.x))/(0-n)),r>=e.x&&(a+=1),2!==a)))break;return a},getBoundingRect:function(t,n){var r=this.getCoords(t,n);return e.makeBoundingBoxFromPoints(r)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var n=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,t){var n=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcCoords:function(e){return e?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var n=this.getViewportTransform(),i=this.padding,a=t(this.angle),o=e.cos(a)*i,s=e.sin(a)*i,l=o+s,c=o-s,u=this.calcACoords(),h={tl:r(u.tl,n),tr:r(u.tr,n),bl:r(u.bl,n),br:r(u.br,n)};return i&&(h.tl.x-=c,h.tl.y-=l,h.tr.x+=l,h.tr.y-=c,h.bl.x-=l,h.bl.y+=c,h.br.x+=c,h.br.y+=l),h},calcOCoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),r=this.getViewportTransform(),i=n(r,t),a=n(i,e),o=(a=n(a,[1/r[0],0,0,1/r[3],0,0]),this._calculateCurrentDimensions()),s={};return this.forEachControl((function(e,t,n){s[t]=e.positionHandler(o,a,n)})),s},calcACoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),i=n(t,e),a=this._getTransformedDimensions(),o=a.x/2,s=a.y/2;return{tl:r({x:-o,y:-s},i),tr:r({x:o,y:-s},i),bl:r({x:-o,y:s},i),br:r({x:o,y:s},i)}},setCoords:function(e){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),e||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return e.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="";return!e&&this.group&&(t=this.group.transformMatrixKey(e)+"_"),t+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){var t=this.calcOwnMatrix();if(e||!this.group)return t;var r=this.transformMatrixKey(e),i=this.matrixCache||(this.matrixCache={});return i.key===r?i.value:(this.group&&(t=n(this.group.calcTransformMatrix(!1),t)),i.key=r,i.value=t,t)},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===t)return n.value;var r=this._calcTranslateMatrix(),i={angle:this.angle,translateX:r[4],translateY:r[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=t,n.value=e.composeMatrix(i),n.value},_calcDimensionsTransformMatrix:function(t,n,r){return e.calcDimensionsMatrix({skewX:t,skewY:n,scaleX:this.scaleX*(r&&this.flipX?-1:1),scaleY:this.scaleY*(r&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth;return{x:this.width+e,y:this.height+e}},_getTransformedDimensions:function(t,n){void 0===t&&(t=this.skewX),void 0===n&&(n=this.skewY);var r,i,a=this._getNonTransformedDimensions(),o=0===t&&0===n;if(this.strokeUniform?(r=this.width,i=this.height):(r=a.x,i=a.y),o)return this._finalizeDimensions(r*this.scaleX,i*this.scaleY);var s=e.sizeAfterTransform(r,i,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:n});return this._finalizeDimensions(s.x,s.y)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions();return r(t,e,!0).scalarAdd(2*this.padding)}})}(),b.util.object.extend(b.Object.prototype,{sendToBack:function(){return this.group?b.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?b.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?b.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas&&this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?b.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas&&this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group&&"activeSelection"!==this.group.type?b.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas&&this.canvas.moveTo(this,e),this}}),function(){function e(e,t){if(t){if(t.toLive)return e+": url(#SVGID_"+t.id+"); ";var n=new b.Color(t),r=e+": "+n.toRgb()+"; ",i=n.getAlpha();return 1!==i&&(r+=e+"-opacity: "+i.toString()+"; "),r}return e+": none; "}var t=b.util.toFixed;b.util.object.extend(b.Object.prototype,{getSvgStyles:function(t){var n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=void 0!==this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",h=t?"":this.getSvgFilter(),f=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",l,"; ",f,"fill-rule: ",n,"; ","opacity: ",c,";",h,u].join("")},getSvgSpanStyles:function(t,n){var r=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+"; ":"",i=t.strokeWidth?"stroke-width: "+t.strokeWidth+"; ":"",a=(r=r,t.fontSize?"font-size: "+t.fontSize+"px; ":""),o=t.fontStyle?"font-style: "+t.fontStyle+"; ":"",s=t.fontWeight?"font-weight: "+t.fontWeight+"; ":"",l=t.fill?e("fill",t.fill):"",c=t.stroke?e("stroke",t.stroke):"",u=this.getSvgTextDecoration(t);return u&&(u="text-decoration: "+u+"; "),[c,i,r,a,o,s,u,l,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return["overline","underline","line-through"].filter((function(t){return e[t.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(e,t){var n=e?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+b.util.matrixToSVG(n)+(t||"")+'" '},_setSVGBg:function(e){if(this.backgroundColor){var n=b.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',t(-this.width/2,n),'" y="',t(-this.height/2,n),'" width="',t(this.width,n),'" height="',t(this.height,n),'"></rect>\n')}},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})},toClipPathSVG:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})},_createBaseClipPathSVGMarkup:function(e,t){var n=(t=t||{}).reviver,r=t.additionalTransform||"",i=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),a=e.indexOf("COMMON_PARTS");return e[a]=i,n?n(e.join("")):e.join("")},_createBaseSVGMarkup:function(e,t){var n,r,i=(t=t||{}).noStyle,a=t.reviver,o=i?"":'style="'+this.getSvgStyles()+'" ',s=t.withShadow?'style="'+this.getSvgFilter()+'" ':"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,h=this.stroke,f=this.fill,d=this.shadow,p=[],g=e.indexOf("COMMON_PARTS"),m=t.additionalTransform;return l&&(l.clipPathId="CLIPPATH_"+b.Object.__uid++,r='<clipPath id="'+l.clipPathId+'" >\n'+l.toClipPathSVG(a)+"</clipPath>\n"),u&&p.push("<g ",s,this.getSvgCommons()," >\n"),p.push("<g ",this.getSvgTransform(!1),u?"":s+this.getSvgCommons()," >\n"),n=[o,c,i?"":this.addPaintOrder()," ",m?'transform="'+m+'" ':""].join(""),e[g]=n,f&&f.toLive&&p.push(f.toSVG(this)),h&&h.toLive&&p.push(h.toSVG(this)),d&&p.push(d.toSVG(this)),l&&p.push(r),p.push(e.join("")),p.push("</g>\n"),u&&p.push("</g>\n"),a?a(p.join("")):p.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var e=b.util.object.extend;function t(t,n,r){var i={};r.forEach((function(e){i[e]=t[e]})),e(t[n],i,!0)}b.util.object.extend(b.Object.prototype,{hasStateChanged:function(e){var t="_"+(e=e||"stateProperties");return Object.keys(this[t]).length<this[e].length||!function e(t,n,r){if(t===n)return!0;if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var i=0,a=t.length;i<a;i++)if(!e(t[i],n[i]))return!1;return!0}if(t&&"object"==typeof t){var o,s=Object.keys(t);if(!n||"object"!=typeof n||!r&&s.length!==Object.keys(n).length)return!1;for(i=0,a=s.length;i<a;i++)if("canvas"!==(o=s[i])&&"group"!==o&&!e(t[o],n[o]))return!1;return!0}}(this[t],this,!0)},saveState:function(e){var n=e&&e.propertySet||"stateProperties",r="_"+n;return this[r]?(t(this,r,this[n]),e&&e.stateProperties&&t(this,r,e.stateProperties),this):this.setupState(e)},setupState:function(e){var t=(e=e||{}).propertySet||"stateProperties";return e.propertySet=t,this["_"+t]={},this.saveState(e),this}})}(),function(){var e=b.util.degreesToRadians;b.util.object.extend(b.Object.prototype,{_findTargetCorner:function(e,t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var n,r,i,a=e.x,o=e.y,s=Object.keys(this.oCoords),l=s.length-1;for(this.__corner=0;l>=0;l--)if(i=s[l],this.isControlVisible(i)&&(r=this._getImageLines(t?this.oCoords[i].touchCorner:this.oCoords[i].corner),0!==(n=this._findCrossPoints({x:a,y:o},r))&&n%2==1))return this.__corner=i,i;return!1},forEachControl:function(e){for(var t in this.controls)e(this.controls[t],t,this)},_setCornerCoords:function(){var e=this.oCoords;for(var t in e){var n=this.controls[t];e[t].corner=n.calcCornerCoords(this.angle,this.cornerSize,e[t].x,e[t].y,!1),e[t].touchCorner=n.calcCornerCoords(this.angle,this.touchCornerSize,e[t].x,e[t].y,!0)}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return t.translate(n.x,n.y),t.scale(1/i[0],1/i[3]),t.rotate(e(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-r.x/2,-r.y/2,r.x,r.y),t.restore(),this},drawBorders:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),r=this.borderScaleFactor,i=n.x+r,a=n.y+r,o=void 0!==t.hasControls?t.hasControls:this.hasControls,s=!1;return e.save(),e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(e,t.borderDashArray||this.borderDashArray,null),e.strokeRect(-i/2,-a/2,i,a),o&&(e.beginPath(),this.forEachControl((function(t,n,r){t.withConnection&&t.getVisibility(r,n)&&(s=!0,e.moveTo(t.x*i,t.y*a),e.lineTo(t.x*i+t.offsetX,t.y*a+t.offsetY))})),s&&e.stroke()),e.restore(),this},drawBordersInGroup:function(e,t,n){n=n||{};var r=b.util.sizeAfterTransform(this.width,this.height,t),i=this.strokeWidth,a=this.strokeUniform,o=this.borderScaleFactor,s=r.x+i*(a?this.canvas.getZoom():t.scaleX)+o,l=r.y+i*(a?this.canvas.getZoom():t.scaleY)+o;return e.save(),this._setLineDash(e,n.borderDashArray||this.borderDashArray,null),e.strokeStyle=n.borderColor||this.borderColor,e.strokeRect(-s/2,-l/2,s,l),e.restore(),this},drawControls:function(e,t){return t=t||{},e.save(),e.setTransform(this.canvas.getRetinaScaling(),0,0,this.canvas.getRetinaScaling(),0,0),e.strokeStyle=e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(e,t.cornerDashArray||this.cornerDashArray,null),this.setCoords(),this.forEachControl((function(n,r,i){n.getVisibility(i,r)&&n.render(e,i.oCoords[r].x,i.oCoords[r].y,t,i)})),e.restore(),this},isControlVisible:function(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)},setControlVisible:function(e,t){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t,this},setControlsVisibility:function(e){for(var t in e||(e={}),e)this.setControlVisible(t,e[t]);return this},onDeselect:function(){},onSelect:function(){}})}(),b.util.object.extend(b.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,i=t.onChange||n,a=this;return b.util.animate({startValue:e.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),a.requestRenderAll(),i()},onComplete:function(){e.setCoords(),r()}}),this},fxCenterObjectV:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,i=t.onChange||n,a=this;return b.util.animate({startValue:e.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),a.requestRenderAll(),i()},onComplete:function(){e.setCoords(),r()}}),this},fxRemove:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,i=t.onChange||n,a=this;return b.util.animate({startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),a.requestRenderAll(),i()},onComplete:function(){a.remove(e),r()}}),this}}),b.util.object.extend(b.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var e,t,n=[];for(e in arguments[0])n.push(e);for(var r=0,i=n.length;r<i;r++)e=n[r],t=r!==i-1,this._animate(e,arguments[0][e],arguments[1],t)}else this._animate.apply(this,arguments);return this},_animate:function(e,t,n,r){var i,a=this;t=t.toString(),n=n?b.util.object.clone(n):{},~e.indexOf(".")&&(i=e.split("."));var o=a.colorProperties.indexOf(e)>-1||i&&a.colorProperties.indexOf(i[1])>-1,s=i?this.get(i[0])[i[1]]:this.get(e);"from"in n||(n.from=s),o||(t=~t.indexOf("=")?s+parseFloat(t.replace("=","")):parseFloat(t));var l={startValue:n.from,endValue:t,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(a)},onChange:function(t,o,s){i?a[i[0]][i[1]]=t:a.set(e,t),r||n.onChange&&n.onChange(t,o,s)},onComplete:function(e,t,i){r||(a.setCoords(),n.onComplete&&n.onComplete(e,t,i))}};o?b.util.animateColor(l.startValue,l.endValue,l.duration,l):b.util.animate(l)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i={x1:1,x2:1,y1:1,y2:1},a=t.StaticCanvas.supports("setLineDash");function o(e,t){var n=e.origin,r=e.axis1,i=e.axis2,a=e.dimension,o=t.nearest,s=t.center,l=t.farthest;return function(){switch(this.get(n)){case o:return Math.min(this.get(r),this.get(i));case s:return Math.min(this.get(r),this.get(i))+.5*this.get(a);case l:return Math.max(this.get(r),this.get(i))}}}t.Line?t.warn("fabric.Line is already defined"):(t.Line=t.util.createClass(t.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:t.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,t){return this.callSuper("_set",e,t),void 0!==i[e]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){if(e.beginPath(),!this.strokeDashArray||this.strokeDashArray&&a){var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2)}e.lineWidth=this.strokeWidth;var n=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n},_renderDashedStroke:function(e){var n=this.calcLinePoints();e.beginPath(),t.util.drawDashedLine(e,n.x1,n.y1,n.x2,n.y2,this.strokeDashArray),e.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return n(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,t=this.y1<=this.y2?-1:1,n=e*this.width*.5,r=t*this.height*.5;return{x1:n,x2:e*this.width*-.5,y1:r,y2:t*this.height*-.5}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,'" />\n']}}),t.Line.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),t.Line.fromElement=function(e,r,i){i=i||{};var a=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES),o=[a.x1||0,a.y1||0,a.x2||0,a.y2||0];r(new t.Line(o,n(a,i)))},t.Line.fromObject=function(e,n){var i=r(e,!0);i.points=[e.x1,e.y1,e.x2,e.y2],t.Object._fromObject("Line",i,(function(e){delete e.points,n&&n(e)}),"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.PI;t.Circle?t.warn("fabric.Circle is already defined."):(t.Circle=t.util.createClass(t.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:t.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,t){return this.callSuper("_set",e,t),"radius"===e&&this.setRadius(t),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,r=(this.endAngle-this.startAngle)%(2*n);if(0===r)e=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var i=t.util.cos(this.startAngle)*this.radius,a=t.util.sin(this.startAngle)*this.radius,o=t.util.cos(this.endAngle)*this.radius,s=t.util.sin(this.endAngle)*this.radius,l=r>n?"1":"0";e=['<path d="M '+i+" "+a," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+o+" "+s,'" ',"COMMON_PARTS"," />\n"]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",2*e).set("height",2*e)}}),t.Circle.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),t.Circle.fromElement=function(e,n){var r,i=t.parseAttributes(e,t.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=i)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,n(new t.Circle(i))},t.Circle.fromObject=function(e,n){return t.Object._fromObject("Circle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Triangle?t.warn("fabric.Triangle is already defined"):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",width:100,height:100,_render:function(e){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=this.width/2,r=this.height/2;e.beginPath(),t.util.drawDashedLine(e,-n,r,0,-r,this.strokeDashArray),t.util.drawDashedLine(e,0,-r,n,r,this.strokeDashArray),t.util.drawDashedLine(e,n,r,-n,r,this.strokeDashArray),e.closePath()},_toSVG:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-e+" "+t,"0 "+-t,e+" "+t].join(","),'" />']}}),t.Triangle.fromObject=function(e,n){return t.Object._fromObject("Triangle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=2*Math.PI;t.Ellipse?t.warn("fabric.Ellipse is already defined."):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this.set("rx",e&&e.rx||0),this.set("ry",e&&e.ry||0)},_set:function(e,t){switch(this.callSuper("_set",e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,n,!1),e.restore(),this._renderPaintInOrder(e)}}),t.Ellipse.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),t.Ellipse.fromElement=function(e,n){var r=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,n(new t.Ellipse(r))},t.Ellipse.fromObject=function(e,n){return t.Object._fromObject("Ellipse",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend;t.Rect?t.warn("fabric.Rect is already defined"):(t.Rect=t.util.createClass(t.Object,{stateProperties:t.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,i=this.height,a=-this.width/2,o=-this.height/2,s=0!==t||0!==n,l=.4477152502;e.beginPath(),e.moveTo(a+t,o),e.lineTo(a+r-t,o),s&&e.bezierCurveTo(a+r-l*t,o,a+r,o+l*n,a+r,o+n),e.lineTo(a+r,o+i-n),s&&e.bezierCurveTo(a+r,o+i-l*n,a+r-l*t,o+i,a+r-t,o+i),e.lineTo(a+t,o+i),s&&e.bezierCurveTo(a+l*t,o+i,a,o+i-l*n,a,o+i-n),e.lineTo(a,o+n),s&&e.bezierCurveTo(a,o+l*n,a+l*t,o,a+t,o),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=-this.width/2,r=-this.height/2,i=this.width,a=this.height;e.beginPath(),t.util.drawDashedLine(e,n,r,n+i,r,this.strokeDashArray),t.util.drawDashedLine(e,n+i,r,n+i,r+a,this.strokeDashArray),t.util.drawDashedLine(e,n+i,r+a,n,r+a,this.strokeDashArray),t.util.drawDashedLine(e,n,r+a,n,r,this.strokeDashArray),e.closePath()},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),t.Rect.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),t.Rect.fromElement=function(e,r,i){if(!e)return r(null);i=i||{};var a=t.parseAttributes(e,t.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var o=new t.Rect(n(i?t.util.object.clone(i):{},a));o.visible=o.visible&&o.width>0&&o.height>0,r(o)},t.Rect.fromObject=function(e,n){return t.Object._fromObject("Rect",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.array.min,i=t.util.array.max,a=t.util.toFixed;t.Polyline?t.warn("fabric.Polyline is already defined"):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",points:null,cacheProperties:t.Object.prototype.cacheProperties.concat("points"),initialize:function(e,t){t=t||{},this.points=e||[],this.callSuper("initialize",t),this._setPositionDimensions(t)},_setPositionDimensions:function(e){var t,n=this._calcDimensions(e);this.width=n.width,this.height=n.height,e.fromSVG||(t=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),void 0===e.left&&(this.left=e.fromSVG?n.left:t.x),void 0===e.top&&(this.top=e.fromSVG?n.top:t.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var e=this.points,t=r(e,"x")||0,n=r(e,"y")||0;return{left:t,top:n,width:(i(e,"x")||0)-t,height:(i(e,"y")||0)-n}},toObject:function(e){return n(this.callSuper("toObject",e),{points:this.points.concat()})},_toSVG:function(){for(var e=[],n=this.pathOffset.x,r=this.pathOffset.y,i=t.Object.NUM_FRACTION_DIGITS,o=0,s=this.points.length;o<s;o++)e.push(a(this.points[o].x-n,i),",",a(this.points[o].y-r,i)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',e.join(""),'" />\n']},commonRender:function(e){var t,n=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-i);for(var a=0;a<n;a++)t=this.points[a],e.lineTo(t.x-r,t.y-i);return!0},_render:function(e){this.commonRender(e)&&this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n,r;e.beginPath();for(var i=0,a=this.points.length;i<a;i++)n=this.points[i],r=this.points[i+1]||n,t.util.drawDashedLine(e,n.x,n.y,r.x,r.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polyline.fromElementGenerator=function(e){return function(r,i,a){if(!r)return i(null);a||(a={});var o=t.parsePointsAttribute(r.getAttribute("points")),s=t.parseAttributes(r,t[e].ATTRIBUTE_NAMES);s.fromSVG=!0,i(new t[e](o,n(s,a)))}},t.Polyline.fromElement=t.Polyline.fromElementGenerator("Polyline"),t.Polyline.fromObject=function(e,n){return t.Object._fromObject("Polyline",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Polygon?t.warn("fabric.Polygon is already defined"):(t.Polygon=t.util.createClass(t.Polyline,{type:"polygon",_render:function(e){this.commonRender(e)&&(e.closePath(),this._renderPaintInOrder(e))},_renderDashedStroke:function(e){this.callSuper("_renderDashedStroke",e),e.closePath()}}),t.Polygon.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polygon.fromElement=t.Polyline.fromElementGenerator("Polygon"),t.Polygon.fromObject=function(e,n){return t.Object._fromObject("Polygon",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max,i=t.util.object.extend,a=Object.prototype.toString,o=t.util.toFixed;t.Path?t.warn("fabric.Path is already defined"):(t.Path=t.util.createClass(t.Object,{type:"path",path:null,cacheProperties:t.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:t.Object.prototype.stateProperties.concat("path"),initialize:function(e,n){n=n||{},this.callSuper("initialize",n),e||(e=[]);var r="[object Array]"===a.call(e);this.path=r?t.util.makePathSimpler(e):t.util.makePathSimpler(t.util.parsePath(e)),this.path&&t.Polyline.prototype._setPositionDimensions.call(this,n)},_renderPathCommands:function(e){var t,n=0,r=0,i=0,a=0,o=0,s=0,l=-this.pathOffset.x,c=-this.pathOffset.y;e.beginPath();for(var u=0,h=this.path.length;u<h;++u)switch((t=this.path[u])[0]){case"L":i=t[1],a=t[2],e.lineTo(i+l,a+c);break;case"M":n=i=t[1],r=a=t[2],e.moveTo(i+l,a+c);break;case"C":i=t[5],a=t[6],o=t[3],s=t[4],e.bezierCurveTo(t[1]+l,t[2]+c,o+l,s+c,i+l,a+c);break;case"Q":e.quadraticCurveTo(t[1]+l,t[2]+c,t[3]+l,t[4]+c),i=t[3],a=t[4],o=t[1],s=t[2];break;case"z":case"Z":i=n,a=r,e.closePath()}},_render:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){return i(this.callSuper("toObject",e),{path:this.path.map((function(e){return e.slice()}))})},toDatalessObject:function(e){var t=this.toObject(["sourcePath"].concat(e));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map((function(e){return e.join(" ")})).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var e=t.Object.NUM_FRACTION_DIGITS;return" translate("+o(-this.pathOffset.x,e)+", "+o(-this.pathOffset.y,e)+")"},toClipPathSVG:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},toSVG:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var e,i,a=[],o=[],s=0,l=0,c=0,u=0,h=0,f=this.path.length;h<f;++h){switch((e=this.path[h])[0]){case"L":c=e[1],u=e[2],i=[];break;case"M":s=c=e[1],l=u=e[2],i=[];break;case"C":i=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[3],e[4],e[5],e[6]),c=e[5],u=e[6];break;case"Q":i=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[1],e[2],e[3],e[4]),c=e[3],u=e[4];break;case"z":case"Z":c=s,u=l}i.forEach((function(e){a.push(e.x),o.push(e.y)})),a.push(c),o.push(u)}var d=n(a)||0,p=n(o)||0;return{left:d,top:p,width:(r(a)||0)-d,height:(r(o)||0)-p}}}),t.Path.fromObject=function(e,n){if("string"==typeof e.sourcePath){var r=e.sourcePath;t.loadSVGFromURL(r,(function(t){var r=t[0];r.setOptions(e),n&&n(r)}))}else t.Object._fromObject("Path",e,n,"path")},t.Path.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(["d"]),t.Path.fromElement=function(e,n,r){var a=t.parseAttributes(e,t.Path.ATTRIBUTE_NAMES);a.fromSVG=!0,n(new t.Path(a.d,i(a,r)))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max;t.Group||(t.Group=t.util.createClass(t.Object,t.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,t,n){t=t||{},this._objects=[],n&&this.callSuper("initialize",t),this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(n)this._updateObjectsACoords();else{var i=t&&t.centerPoint;void 0!==t.originX&&(this.originX=t.originX),void 0!==t.originY&&(this.originY=t.originY),i||this._calcBounds(),this._updateObjectsCoords(i),delete t.centerPoint,this.callSuper("initialize",t)}this.setCoords()},_updateObjectsACoords:function(){for(var e=this._objects.length;e--;)this._objects[e].setCoords(!0)},_updateObjectsCoords:function(e){e=e||this.getCenterPoint();for(var t=this._objects.length;t--;)this._updateObjectCoords(this._objects[t],e)},_updateObjectCoords:function(e,t){var n=e.left,r=e.top;e.set({left:n-t.x,top:r-t.y}),e.group=this,e.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){var n=!!this.group;return this._restoreObjectsState(),t.util.resetObjectTransform(this),e&&(n&&t.util.removeTransformFromObject(e,this.group.calcTransformMatrix()),this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,n?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(e,n);if("canvas"===e)for(;r--;)this._objects[r]._set(e,n);t.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,r=this._objects.map((function(t){var r=t.includeDefaultValues;t.includeDefaultValues=n;var i=t.toObject(e);return t.includeDefaultValues=r,i})),i=t.Object.prototype.toObject.call(this,e);return i.objects=r,i},toDatalessObject:function(e){var n,r=this.sourcePath;if(r)n=r;else{var i=this.includeDefaultValues;n=this._objects.map((function(t){var n=t.includeDefaultValues;t.includeDefaultValues=i;var r=t.toDatalessObject(e);return t.includeDefaultValues=n,r}))}var a=t.Object.prototype.toDatalessObject.call(this,e);return a.objects=n,a},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=t.Object.prototype.shouldCache.call(this);if(e)for(var n=0,r=this._objects.length;n<r;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return e},willDrawShadow:function(){if(t.Object.prototype.willDrawShadow.call(this))return!0;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var t=0,n=this._objects.length;t<n;t++)this._objects[t].render(e);this._drawClipPath(e)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-i/2,r,i)}return!0}return!1},_restoreObjectsState:function(){var e=this.calcOwnMatrix();return this._objects.forEach((function(n){t.util.addTransformToObject(n,e),delete n.group,n.setCoords()})),this},realizeTransform:function(e,n){return t.util.addTransformToObject(e,n),e},destroy:function(){return this._objects.forEach((function(e){e.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var i=new t.ActiveSelection([]);return i.set(r),i.type="activeSelection",n.remove(this),e.forEach((function(e){e.group=i,e.dirty=!0,n.add(e)})),i.canvas=n,i._objects=e,n._activeObject=i,i.setCoords(),i}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(e){e.setCoords(!0)})),this},_calcBounds:function(e){for(var t,n,r,i,a=[],o=[],s=["tr","br","bl","tl"],l=0,c=this._objects.length,u=s.length;l<c;++l){for(r=(t=this._objects[l]).calcACoords(),i=0;i<u;i++)n=s[i],a.push(r[n].x),o.push(r[n].y);t.aCoords=r}this._getBounds(a,o,e)},_getBounds:function(e,i,a){var o=new t.Point(n(e),n(i)),s=new t.Point(r(e),r(i)),l=o.y||0,c=o.x||0,u=s.x-o.x||0,h=s.y-o.y||0;this.width=u,this.height=h,a||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(e){for(var t=["<g ","COMMON_PARTS"," >\n"],n=0,r=this._objects.length;n<r;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t},getSvgStyles:function(){var e=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")},toClipPathSVG:function(e){for(var t=[],n=0,r=this._objects.length;n<r;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}),t.Group.fromObject=function(e,n){var r=e.objects,i=t.util.object.clone(e,!0);delete i.objects,"string"!=typeof r?t.util.enlivenObjects(r,(function(r){t.util.enlivenObjects([e.clipPath],(function(i){var a=t.util.object.clone(e,!0);a.clipPath=i[0],delete a.objects,n&&n(new t.Group(r,a,!0))}))})):t.loadSVGFromURL(r,(function(a){var o=t.util.groupSVGElements(a,e,r);o.set(i),n&&n(o)}))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.ActiveSelection||(t.ActiveSelection=t.util.createClass(t.Group,{type:"activeSelection",initialize:function(e,n){n=n||{},this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),t.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var e=this._objects.concat();this._objects=[];var n=t.Object.prototype.toObject.call(this),r=new t.Group([]);if(delete n.type,r.set(n),e.forEach((function(e){e.canvas.remove(e),e.group=r})),r._objects=e,!this.canvas)return r;var i=this.canvas;return i.add(r),i._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",e,t),void 0===(n=n||{}).hasControls&&(n.hasControls=!1),n.forActiveSelection=!0;for(var r=0,i=this._objects.length;r<i;r++)this._objects[r]._renderControls(e,n);e.restore()}}),t.ActiveSelection.fromObject=function(e,n){t.util.enlivenObjects(e.objects,(function(r){delete e.objects,n&&n(new t.ActiveSelection(r,e,!0))}))})}(t),function(e){"use strict";var t=b.util.object.extend;e.fabric||(e.fabric={}),e.fabric.Image?b.warn("fabric.Image is already defined."):(b.Image=b.util.createClass(b.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:b.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:b.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(e,t){t||(t={}),this.filters=[],this.cacheKey="texture"+b.Object.__uid++,this.callSuper("initialize",t),this._initElement(e,t)},getElement:function(){return this._element||{}},setElement:function(e,t){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=e,this._originalElement=e,this._initConfig(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(e){var t=b.filterBackend;t&&t.evictCachesForKey&&t.evictCachesForKey(e)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(e){b.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var e=this.getElement();return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},_stroke:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}},_renderDashedStroke:function(e){var t=-this.width/2,n=-this.height/2,r=this.width,i=this.height;e.save(),this._setStrokeStyles(e,this),e.beginPath(),b.util.drawDashedLine(e,t,n,t+r,n,this.strokeDashArray),b.util.drawDashedLine(e,t+r,n,t+r,n+i,this.strokeDashArray),b.util.drawDashedLine(e,t+r,n+i,t,n+i,this.strokeDashArray),b.util.drawDashedLine(e,t,n+i,t,n,this.strokeDashArray),e.closePath(),e.restore()},toObject:function(e){var n=[];this.filters.forEach((function(e){e&&n.push(e.toObject())}));var r=t(this.callSuper("toObject",["cropX","cropY"].concat(e)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var e,t=[],n=[],r=this._element,i=-this.width/2,a=-this.height/2,o="",s="";if(!r)return[];if(this.hasCrop()){var l=b.Object.__uid++;t.push('<clipPath id="imageCrop_'+l+'">\n','\t<rect x="'+i+'" y="'+a+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),o=' clip-path="url(#imageCrop_'+l+')" '}if(this.imageSmoothing||(s='" image-rendering="optimizeSpeed'),n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',i-this.cropX,'" y="',a-this.cropY,'" width="',r.width||r.naturalWidth,'" height="',r.height||r.height,s,'"',o,"></image>\n"),this.stroke||this.strokeDashArray){var c=this.fill;this.fill=null,e=["\t<rect ",'x="',i,'" y="',a,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=c}return t="fill"!==this.paintFirst?t.concat(e,n):t.concat(n,e)},getSrc:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(e,t,n){return b.util.loadImage(e,(function(e,r){this.setElement(e,n),this._setWidthHeight(),t&&t(this,r)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.scaleX,i=n.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||r>t&&i>t)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=i);b.filterBackend||(b.filterBackend=b.initFilterBackend());var o=b.util.createCanvasElement(),s=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,l=a.width,c=a.height;o.width=l,o.height=c,this._element=o,this._lastScaleX=e.scaleX=r,this._lastScaleY=e.scaleY=i,b.filterBackend.applyFilters([e],a,l,c,this._element,s),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height},applyFilters:function(e){if(e=(e=e||this.filters||[]).filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===e.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var t=this._originalElement,n=t.naturalWidth||t.width,r=t.naturalHeight||t.height;if(this._element===this._originalElement){var i=b.util.createCanvasElement();i.width=n,i.height=r,this._element=i,this._filteredEl=i}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1;return b.filterBackend||(b.filterBackend=b.initFilterBackend()),b.filterBackend.applyFilters(e,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(e){b.util.setImageSmoothing(e,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)},drawCacheOnCanvas:function(e){b.util.setImageSmoothing(e,this.imageSmoothing),b.Object.prototype.drawCacheOnCanvas.call(this,e)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(e){var t=this._element;if(t){var n=this._filterScalingX,r=this._filterScalingY,i=this.width,a=this.height,o=Math.min,s=Math.max,l=s(this.cropX,0),c=s(this.cropY,0),u=t.naturalWidth||t.width,h=t.naturalHeight||t.height,f=l*n,d=c*r,p=o(i*n,u-f),g=o(a*r,h-d),m=-i/2,v=-a/2,y=o(i,u/n-l),b=o(a,h/r-c);t&&e.drawImage(t,f,d,p,g,m,v,y,b)}},_needsResize:function(){var e=this.getTotalObjectScaling();return e.scaleX!==this._lastScaleX||e.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(e,t){this.setElement(b.util.getById(e),t),b.util.addClass(this.getElement(),b.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e)},_initFilters:function(e,t){e&&e.length?b.util.enlivenObjects(e,(function(e){t&&t(e)}),"fabric.Image.filters"):t&&t()},_setWidthHeight:function(e){e||(e={});var t=this.getElement();this.width=e.width||t.naturalWidth||t.width||0,this.height=e.height||t.naturalHeight||t.height||0},parsePreserveAspectRatioAttribute:function(){var e,t=b.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,r=this._element.height,i=1,a=1,o=0,s=0,l=0,c=0,u=this.width,h=this.height,f={width:u,height:h};return!t||"none"===t.alignX&&"none"===t.alignY?(i=u/n,a=h/r):("meet"===t.meetOrSlice&&(e=(u-n*(i=a=b.util.findScaleToFit(this._element,f)))/2,"Min"===t.alignX&&(o=-e),"Max"===t.alignX&&(o=e),e=(h-r*a)/2,"Min"===t.alignY&&(s=-e),"Max"===t.alignY&&(s=e)),"slice"===t.meetOrSlice&&(e=n-u/(i=a=b.util.findScaleToCover(this._element,f)),"Mid"===t.alignX&&(l=e/2),"Max"===t.alignX&&(l=e),e=r-h/a,"Mid"===t.alignY&&(c=e/2),"Max"===t.alignY&&(c=e),n=u/i,r=h/a)),{width:n,height:r,scaleX:i,scaleY:a,offsetLeft:o,offsetTop:s,cropX:l,cropY:c}}}),b.Image.CSS_CANVAS="canvas-img",b.Image.prototype.getSvgSrc=b.Image.prototype.getSrc,b.Image.fromObject=function(e,t){var n=b.util.object.clone(e);b.util.loadImage(n.src,(function(e,r){r?t&&t(null,!0):b.Image.prototype._initFilters.call(n,n.filters,(function(r){n.filters=r||[],b.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(r){n.resizeFilter=r[0],b.util.enlivenObjects([n.clipPath],(function(r){n.clipPath=r[0];var i=new b.Image(e,n);t(i,!1)}))}))}))}),null,n.crossOrigin)},b.Image.fromURL=function(e,t,n){b.util.loadImage(e,(function(e,r){t&&t(new b.Image(e,n),r)}),null,n&&n.crossOrigin)},b.Image.ATTRIBUTE_NAMES=b.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),b.Image.fromElement=function(e,n,r){var i=b.parseAttributes(e,b.Image.ATTRIBUTE_NAMES);b.Image.fromURL(i["xlink:href"],n,t(r?b.util.object.clone(r):{},i))})}(t),b.util.object.extend(b.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.angle%360;return e>0?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(e){var t=function(){},n=(e=e||{}).onComplete||t,r=e.onChange||t,i=this;return b.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){i.rotate(e),r()},onComplete:function(){i.setCoords(),n()}}),this}}),b.util.object.extend(b.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function e(e,t){var n="precision "+t+" float;\nvoid main(){}",r=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(r,n),e.compileShader(r),!!e.getShaderParameter(r,e.COMPILE_STATUS)}function t(e){e&&e.tileSize&&(this.tileSize=e.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}b.isWebglSupported=function(t){if(b.isLikelyNode)return!1;t=t||b.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),i=!1;if(r){b.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),i=b.maxTextureSize>=t;for(var a=["highp","mediump","lowp"],o=0;o<3;o++)if(e(r,a[o])){b.webGlPrecision=a[o];break}}return this.isSupported=i,i},b.WebglFilterBackend=t,t.prototype={tileSize:2048,resources:{},setupGLContext:function(e,t){this.dispose(),this.createWebGLCanvas(e,t),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(e,t)},chooseFastestCopyGLTo2DMethod:function(e,t){var n,r=void 0!==window.performance;try{new ImageData(1,1),n=!0}catch(e){n=!1}var i="undefined"!=typeof ArrayBuffer,a="undefined"!=typeof Uint8ClampedArray;if(r&&n&&i&&a){var o=b.util.createCanvasElement(),s=new ArrayBuffer(e*t*4);if(b.forceGLPutImageData)return this.imageBuffer=s,void(this.copyGLTo2D=x);var l,c,u={imageBuffer:s,destinationWidth:e,destinationHeight:t,targetCanvas:o};o.width=e,o.height=t,l=window.performance.now(),C.call(u,this.gl,u),c=window.performance.now()-l,l=window.performance.now(),x.call(u,this.gl,u),c>window.performance.now()-l?(this.imageBuffer=s,this.copyGLTo2D=x):this.copyGLTo2D=C}},createWebGLCanvas:function(e,t){var n=b.util.createCanvasElement();n.width=e,n.height=t;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},i=n.getContext("webgl",r);i||(i=n.getContext("experimental-webgl",r)),i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)},applyFilters:function(e,t,n,r,i,a){var o,s=this.gl;a&&(o=this.getCachedTexture(a,t));var l={originalWidth:t.width||t.originalWidth,originalHeight:t.height||t.originalHeight,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:s,sourceTexture:this.createTexture(s,n,r,!o&&t),targetTexture:this.createTexture(s,n,r),originalTexture:o||this.createTexture(s,n,r,!o&&t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},c=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,c),e.forEach((function(e){e&&e.applyTo(l)})),function(e){var t=e.targetCanvas,n=t.width,r=t.height,i=e.destinationWidth,a=e.destinationHeight;n===i&&r===a||(t.width=i,t.height=a)}(l),this.copyGLTo2D(s,l),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(l.sourceTexture),s.deleteTexture(l.targetTexture),s.deleteFramebuffer(c),i.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(e,t,n,r){var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),i},getCachedTexture:function(e,t){if(this.textureCache[e])return this.textureCache[e];var n=this.createTexture(this.gl,t.width,t.height,t);return this.textureCache[e]=n,n},evictCachesForKey:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])},copyGLTo2D:C,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var n=e.getExtension("WEBGL_debug_renderer_info");if(n){var r=e.getParameter(n.UNMASKED_RENDERER_WEBGL),i=e.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(t.renderer=r.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}}(),function(){"use strict";var e=function(){};function t(){}b.Canvas2dFilterBackend=t,t.prototype={evictCachesForKey:e,dispose:e,clearWebGLCaches:e,resources:{},applyFilters:function(e,t,n,r,i){var a=i.getContext("2d");a.drawImage(t,0,0,n,r);var o={sourceWidth:n,sourceHeight:r,imageData:a.getImageData(0,0,n,r),originalEl:t,originalImageData:a.getImageData(0,0,n,r),canvasEl:i,ctx:a,filterBackend:this};return e.forEach((function(e){e.applyTo(o)})),o.imageData.width===n&&o.imageData.height===r||(i.width=o.imageData.width,i.height=o.imageData.height),a.putImageData(o.imageData,0,0),o}}}(),b.Image=b.Image||{},b.Image.filters=b.Image.filters||{},b.Image.filters.BaseFilter=b.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t in e)this[t]=e[t]},createProgram:function(e,t,n){t=t||this.fragmentSource,n=n||this.vertexSource,"highp"!==b.webGlPrecision&&(t=t.replace(/precision highp float/g,"precision "+b.webGlPrecision+" float"));var r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+e.getShaderInfoLog(r));var i=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+e.getShaderInfoLog(i));var a=e.createProgram();if(e.attachShader(a,r),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+e.getProgramInfoLog(a));var o=this.getAttributeLocations(e,a),s=this.getUniformLocations(e,a)||{};return s.uStepW=e.getUniformLocation(a,"uStepW"),s.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:o,uniformLocations:s}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(e,t,n){var r=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},_setupFrameBuffer:function(e){var t,n,r=e.context;e.passes>1?(t=e.destinationWidth,n=e.destinationHeight,e.sourceWidth===t&&e.sourceHeight===n||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,t,n)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},isNeutralState:function(){var e=this.mainParameter,t=b.Image.filters[this.type].prototype;if(e){if(Array.isArray(t[e])){for(var n=t[e].length;n--;)if(this[e][n]!==t[e][n])return!1;return!0}return t[e]===this[e]}return!1},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},retrieveShader:function(e){return e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context)),e.programCache[this.type]},applyToWebGL:function(e){var t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},sendUniformData:function(){},createHelpLayer:function(e){if(!e.helpLayer){var t=document.createElement("canvas");t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}},toObject:function(){var e={type:this.type},t=this.mainParameter;return t&&(e[t]=this[t]),e},toJSON:function(){return this.toObject()}}),b.Image.filters.BaseFilter.fromObject=function(e,t){var n=new b.Image.filters[e.type](e);return t&&t(n),n},function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.ColorMatrix=r(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var t,n,r,i,a,o=e.imageData.data,s=o.length,l=this.matrix,c=this.colorsOnly;for(a=0;a<s;a+=4)t=o[a],n=o[a+1],r=o[a+2],c?(o[a]=t*l[0]+n*l[1]+r*l[2]+255*l[4],o[a+1]=t*l[5]+n*l[6]+r*l[7]+255*l[9],o[a+2]=t*l[10]+n*l[11]+r*l[12]+255*l[14]):(i=o[a+3],o[a]=t*l[0]+n*l[1]+r*l[2]+i*l[3]+255*l[4],o[a+1]=t*l[5]+n*l[6]+r*l[7]+i*l[8]+255*l[9],o[a+2]=t*l[10]+n*l[11]+r*l[12]+i*l[13]+255*l[14],o[a+3]=t*l[15]+n*l[16]+r*l[17]+i*l[18]+255*l[19])},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){var n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],i=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,r),e.uniform4fv(t.uConstants,i)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Brightness=r(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness){var t,n=e.imageData.data,r=n.length,i=Math.round(255*this.brightness);for(t=0;t<r;t+=4)n[t]=n[t]+i,n[t+1]=n[t+1]+i,n[t+2]=n[t+2]+i}},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.Convolute=i(r.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),n=this.type+"_"+t+"_"+(this.opaque?1:0),r=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,r)),e.programCache[n]},applyTo2d:function(e){var t,n,r,i,a,o,s,l,c,u,h,f,d,p=e.imageData,g=p.data,m=this.matrix,v=Math.round(Math.sqrt(m.length)),y=Math.floor(v/2),b=p.width,w=p.height,C=e.ctx.createImageData(b,w),x=C.data,E=this.opaque?1:0;for(h=0;h<w;h++)for(u=0;u<b;u++){for(a=4*(h*b+u),t=0,n=0,r=0,i=0,d=0;d<v;d++)for(f=0;f<v;f++)o=u+f-y,(s=h+d-y)<0||s>=w||o<0||o>=b||(l=4*(s*b+o),c=m[d*v+f],t+=g[l]*c,n+=g[l+1]*c,r+=g[l+2]*c,E||(i+=g[l+3]*c));x[a]=t,x[a+1]=n,x[a+2]=r,x[a+3]=E?g[a+3]:i}e.imageData=C},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Grayscale=r(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(e){var t,n,r=e.imageData.data,i=r.length,a=this.mode;for(t=0;t<i;t+=4)"average"===a?n=(r[t]+r[t+1]+r[t+2])/3:"lightness"===a?n=(Math.min(r[t],r[t+1],r[t+2])+Math.max(r[t],r[t+1],r[t+2]))/2:"luminosity"===a&&(n=.21*r[t]+.72*r[t+1]+.07*r[t+2]),r[t]=n,r[t+1]=n,r[t+2]=n},retrieveShader:function(e){var t=this.type+"_"+this.mode;if(!e.programCache.hasOwnProperty(t)){var n=this.fragmentSource[this.mode];e.programCache[t]=this.createProgram(e.context,n)}return e.programCache[t]},getUniformLocations:function(e,t){return{uMode:e.getUniformLocation(t,"uMode")}},sendUniformData:function(e,t){e.uniform1i(t.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Invert=r(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(e){var t,n=e.imageData.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){e.uniform1i(t.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.Noise=i(r.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(e){if(0!==this.noise){var t,n,r=e.imageData.data,i=r.length,a=this.noise;for(t=0,i=r.length;t<i;t+=4)n=(.5-Math.random())*a,r[t]+=n,r[t+1]+=n,r[t+2]+=n}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Pixelate=r(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(e){var t,n,r,i,a,o,s,l,c,u,h,f=e.imageData,d=f.data,p=f.height,g=f.width;for(n=0;n<p;n+=this.blocksize)for(r=0;r<g;r+=this.blocksize)for(i=d[t=4*n*g+4*r],a=d[t+1],o=d[t+2],s=d[t+3],u=Math.min(n+this.blocksize,p),h=Math.min(r+this.blocksize,g),l=n;l<u;l++)for(c=r;c<h;c++)d[t=4*l*g+4*c]=i,d[t+1]=a,d[t+2]=o,d[t+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(e,t){return{uBlocksize:e.getUniformLocation(t,"uBlocksize"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH")}},sendUniformData:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.RemoveColor=i(r.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(e){var n,r,i,a,o=e.imageData.data,s=255*this.distance,l=new t.Color(this.color).getSource(),c=[l[0]-s,l[1]-s,l[2]-s],u=[l[0]+s,l[1]+s,l[2]+s];for(n=0;n<o.length;n+=4)r=o[n],i=o[n+1],a=o[n+2],r>c[0]&&i>c[1]&&a>c[2]&&r<u[0]&&i<u[1]&&a<u[2]&&(o[n+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource(),i=parseFloat(this.distance),a=[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1],o=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];e.uniform4fv(n.uLow,a),e.uniform4fv(n.uHigh,o)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),t.Image.filters.RemoveColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in i)n[a]=r(n.ColorMatrix,{type:a,matrix:i[a],mainParameter:!1,colorsOnly:!0}),t.Image.filters[a].fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,r=t.util.createClass;n.BlendColor=r(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(e){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[e]+"}\n}"},retrieveShader:function(e){var t,n=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n,r,i,a,o,s,l,c=e.imageData.data,u=c.length,h=1-this.alpha;n=(l=new t.Color(this.color).getSource())[0]*this.alpha,r=l[1]*this.alpha,i=l[2]*this.alpha;for(var f=0;f<u;f+=4)switch(a=c[f],o=c[f+1],s=c[f+2],this.mode){case"multiply":c[f]=a*n/255,c[f+1]=o*r/255,c[f+2]=s*i/255;break;case"screen":c[f]=255-(255-a)*(255-n)/255,c[f+1]=255-(255-o)*(255-r)/255,c[f+2]=255-(255-s)*(255-i)/255;break;case"add":c[f]=a+n,c[f+1]=o+r,c[f+2]=s+i;break;case"diff":case"difference":c[f]=Math.abs(a-n),c[f+1]=Math.abs(o-r),c[f+2]=Math.abs(s-i);break;case"subtract":c[f]=a-n,c[f+1]=o-r,c[f+2]=s-i;break;case"darken":c[f]=Math.min(a,n),c[f+1]=Math.min(o,r),c[f+2]=Math.min(s,i);break;case"lighten":c[f]=Math.max(a,n),c[f+1]=Math.max(o,r),c[f+2]=Math.max(s,i);break;case"overlay":c[f]=n<128?2*a*n/255:255-2*(255-a)*(255-n)/255,c[f+1]=r<128?2*o*r/255:255-2*(255-o)*(255-r)/255,c[f+2]=i<128?2*s*i/255:255-2*(255-s)*(255-i)/255;break;case"exclusion":c[f]=n+a-2*n*a/255,c[f+1]=r+o-2*r*o/255,c[f+2]=i+s-2*i*s/255;break;case"tint":c[f]=n+a*h,c[f+1]=r+o*h,c[f+2]=i+s*h}},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(n.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,r=t.util.createClass;n.BlendImage=r(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(e){var t=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,n)),e.programCache[t]},applyToWebGL:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},createTexture:function(e,t){return e.getCachedTexture(t.cacheKey,t._element)},calculateMatrix:function(){var e=this.image,t=e._element.width,n=e._element.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]},applyTo2d:function(e){var n,r,i,a,o,s,l,c,u,h,f,d=e.imageData,p=e.filterBackend.resources,g=d.data,m=g.length,v=d.width,y=d.height,b=this.image;p.blendImage||(p.blendImage=t.util.createCanvasElement()),h=(u=p.blendImage).getContext("2d"),u.width!==v||u.height!==y?(u.width=v,u.height=y):h.clearRect(0,0,v,y),h.setTransform(b.scaleX,0,0,b.scaleY,b.left,b.top),h.drawImage(b._element,0,0,v,y),f=h.getImageData(0,0,v,y).data;for(var w=0;w<m;w+=4)switch(o=g[w],s=g[w+1],l=g[w+2],c=g[w+3],n=f[w],r=f[w+1],i=f[w+2],a=f[w+3],this.mode){case"multiply":g[w]=o*n/255,g[w+1]=s*r/255,g[w+2]=l*i/255,g[w+3]=c*a/255;break;case"mask":g[w+3]=a}},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix"),uImage:e.getUniformLocation(t,"uImage")}},sendUniformData:function(e,t){var n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,n){t.Image.fromObject(e.image,(function(r){var i=t.util.object.clone(e);i.image=r,n(new t.Image.filters.BlendImage(i))}))}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.pow,r=Math.floor,i=Math.sqrt,a=Math.abs,o=Math.round,s=Math.sin,l=Math.ceil,c=t.Image.filters,u=t.util.createClass;c.Resize=u(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(e,t){return{uDelta:e.getUniformLocation(t,"uDelta"),uTaps:e.getUniformLocation(t,"uTaps")}},sendUniformData:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)},retrieveShader:function(e){var t=this.getFilterWindow(),n=this.type+"_"+t;if(!e.programCache.hasOwnProperty(n)){var r=this.generateShader(t);e.programCache[n]=this.createProgram(e.context,r)}return e.programCache[n]},getFilterWindow:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)},getTaps:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),r=new Array(n),i=1;i<=n;i++)r[i-1]=e(i*t);return r},generateShader:function(e){for(var t=new Array(e),n=this.fragmentSourceTOP,r=1;r<=e;r++)t[r-1]=r+".0 * uDelta";return n+="uniform float uTaps["+e+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",t.forEach((function(e,t){n+="  color += texture2D(uTexture, vTexCoord + "+e+") * uTaps["+t+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+e+") * uTaps["+t+"];\n",n+="  sum += 2.0 * uTaps["+t+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(e){e.webgl?(e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceHeight=e.destinationHeight):this.applyTo2d(e)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var n=(t*=Math.PI)/e;return s(t)/t*s(n)/n}},applyTo2d:function(e){var t=e.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;var i,a=t.width,s=t.height,l=o(a*n),c=o(s*r);"sliceHack"===this.resizeType?i=this.sliceByTwo(e,a,s,l,c):"hermite"===this.resizeType?i=this.hermiteFastResize(e,a,s,l,c):"bilinear"===this.resizeType?i=this.bilinearFiltering(e,a,s,l,c):"lanczos"===this.resizeType&&(i=this.lanczosResize(e,a,s,l,c)),e.imageData=i},sliceByTwo:function(e,n,i,a,o){var s,l,c=e.imageData,u=!1,h=!1,f=.5*n,d=.5*i,p=t.filterBackend.resources,g=0,m=0,v=n,y=0;for(p.sliceByTwo||(p.sliceByTwo=document.createElement("canvas")),((s=p.sliceByTwo).width<1.5*n||s.height<i)&&(s.width=1.5*n,s.height=i),(l=s.getContext("2d")).clearRect(0,0,1.5*n,i),l.putImageData(c,0,0),a=r(a),o=r(o);!u||!h;)n=f,i=d,a<r(.5*f)?f=r(.5*f):(f=a,u=!0),o<r(.5*d)?d=r(.5*d):(d=o,h=!0),l.drawImage(s,g,m,n,i,v,y,f,d),g=v,m=y,y+=d;return l.getImageData(g,m,a,o)},lanczosResize:function(e,t,o,s,c){var u=e.imageData.data,h=e.ctx.createImageData(s,c),f=h.data,d=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,g=this.rcpScaleY,m=2/this.rcpScaleX,v=2/this.rcpScaleY,y=l(p*this.lanczosLobes/2),b=l(g*this.lanczosLobes/2),w={},C={},x={};return function e(l){var E,k,S,_,T,O,A,P,j,M,I;for(C.x=(l+.5)*p,x.x=r(C.x),E=0;E<c;E++){for(C.y=(E+.5)*g,x.y=r(C.y),T=0,O=0,A=0,P=0,j=0,k=x.x-y;k<=x.x+y;k++)if(!(k<0||k>=t)){M=r(1e3*a(k-C.x)),w[M]||(w[M]={});for(var R=x.y-b;R<=x.y+b;R++)R<0||R>=o||(I=r(1e3*a(R-C.y)),w[M][I]||(w[M][I]=d(i(n(M*m,2)+n(I*v,2))/1e3)),(S=w[M][I])>0&&(T+=S,O+=S*u[_=4*(R*t+k)],A+=S*u[_+1],P+=S*u[_+2],j+=S*u[_+3]))}f[_=4*(E*s+l)]=O/T,f[_+1]=A/T,f[_+2]=P/T,f[_+3]=j/T}return++l<s?e(l):h}(0)},bilinearFiltering:function(e,t,n,i,a){var o,s,l,c,u,h,f,d,p,g=0,m=this.rcpScaleX,v=this.rcpScaleY,y=4*(t-1),b=e.imageData.data,w=e.ctx.createImageData(i,a),C=w.data;for(l=0;l<a;l++)for(c=0;c<i;c++)for(u=m*c-(o=r(m*c)),h=v*l-(s=r(v*l)),p=4*(s*t+o),f=0;f<4;f++)d=b[p+f]*(1-u)*(1-h)+b[p+4+f]*u*(1-h)+b[p+y+f]*h*(1-u)+b[p+y+4+f]*u*h,C[g++]=d;return w},hermiteFastResize:function(e,t,n,o,s){for(var c=this.rcpScaleX,u=this.rcpScaleY,h=l(c/2),f=l(u/2),d=e.imageData.data,p=e.ctx.createImageData(o,s),g=p.data,m=0;m<s;m++)for(var v=0;v<o;v++){for(var y=4*(v+m*o),b=0,w=0,C=0,x=0,E=0,k=0,S=0,_=(m+.5)*u,T=r(m*u);T<(m+1)*u;T++)for(var O=a(_-(T+.5))/f,A=(v+.5)*c,P=O*O,j=r(v*c);j<(v+1)*c;j++){var M=a(A-(j+.5))/h,I=i(P+M*M);I>1&&I<-1||(b=2*I*I*I-3*I*I+1)>0&&(S+=b*d[(M=4*(j+T*t))+3],C+=b,d[M+3]<255&&(b=b*d[M+3]/250),x+=b*d[M],E+=b*d[M+1],k+=b*d[M+2],w+=b)}g[y]=x/w,g[y+1]=E/w,g[y+2]=k/w,g[y+3]=S/C}return p},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),t.Image.filters.Resize.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Contrast=r(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast){var t,n=e.imageData.data,r=n.length,i=Math.floor(255*this.contrast),a=259*(i+255)/(255*(259-i));for(t=0;t<r;t+=4)n[t]=a*(n[t]-128)+128,n[t+1]=a*(n[t+1]-128)+128,n[t+2]=a*(n[t+2]-128)+128}},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Saturation=r(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation){var t,n,r=e.imageData.data,i=r.length,a=-this.saturation;for(t=0;t<i;t+=4)n=Math.max(r[t],r[t+1],r[t+2]),r[t]+=n!==r[t]?(n-r[t])*a:0,r[t+1]+=n!==r[t+1]?(n-r[t+1])*a:0,r[t+2]+=n!==r[t+2]?(n-r[t+2])*a:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Blur=r(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n,r,i=e.filterBackend.resources,a=e.imageData.width,o=e.imageData.height;i.blurLayer1||(i.blurLayer1=t.util.createCanvasElement(),i.blurLayer2=t.util.createCanvasElement()),n=i.blurLayer1,r=i.blurLayer2,n.width===a&&n.height===o||(r.width=n.width=a,r.height=n.height=o);var s,l,c,u,h=n.getContext("2d"),f=r.getContext("2d"),d=.06*this.blur*.5;for(h.putImageData(e.imageData,0,0),f.clearRect(0,0,a,o),u=-15;u<=15;u++)c=d*(l=u/15)*a+(s=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(l),f.drawImage(n,c,s),h.drawImage(r,0,0),f.globalAlpha=1,f.clearRect(0,0,r.width,r.height);for(u=-15;u<=15;u++)c=d*(l=u/15)*o+(s=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(l),f.drawImage(n,s,c),h.drawImage(r,0,0),f.globalAlpha=1,f.clearRect(0,0,r.width,r.height);e.ctx.drawImage(n,0,0);var p=e.ctx.getImageData(0,0,n.width,n.height);return h.globalAlpha=1,h.clearRect(0,0,n.width,n.height),p},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e,t=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),e=t*this.blur*.12,this.horizontal?n[0]=e:n[1]=e,n}}),n.Blur.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Gamma=r(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var t,n=e.imageData.data,r=this.gamma,i=n.length,a=1/r[0],o=1/r[1],s=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),t=0,i=256;t<i;t++)this.rVals[t]=255*Math.pow(t/255,a),this.gVals[t]=255*Math.pow(t/255,o),this.bVals[t]=255*Math.pow(t/255,s);for(t=0,i=n.length;t<i;t+=4)n[t]=this.rVals[n[t]],n[t+1]=this.gVals[n[t+1]],n[t+2]=this.bVals[n[t+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Composed=r(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach((function(t){t.applyTo(e)}))},toObject:function(){return t.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(e){return e.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}),t.Image.filters.Composed.fromObject=function(e,n){var r=(e.subFilters||[]).map((function(e){return new t.Image.filters[e.type](e)})),i=new t.Image.filters.Composed({subFilters:r});return n&&n(i),i}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.HueRotation=r(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=t.util.cos(e),r=t.util.sin(e),i=Math.sqrt(1/3)*r,a=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+a/3,this.matrix[1]=1/3*a-i,this.matrix[2]=1/3*a+i,this.matrix[5]=1/3*a+i,this.matrix[6]=n+1/3*a,this.matrix[7]=1/3*a-i,this.matrix[10]=1/3*a-i,this.matrix[11]=1/3*a+i,this.matrix[12]=n+1/3*a},isNeutralState:function(e){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,e)}}),t.Image.filters.HueRotation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.clone;if(t.Text)t.warn("fabric.Text is already defined");else{var r="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles path".split(" ");t.Text=t.util.createClass(t.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:t.Object.prototype.stateProperties.concat(r),cacheProperties:t.Object.prototype.cacheProperties.concat(r),stroke:null,shadow:null,path:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,t){this.styles=t&&t.styles||{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",t),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var e=this.path;e&&(e.segmentsInfo=t.util.getPathSegmentsInfo(e.path))},getMeasuringContext:function(){return t._measuringContext||(t._measuringContext=this.canvas&&this.canvas.contextCache||t.util.createCanvasElement().getContext("2d")),t._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,t,n,r,i,a,o,s=0,l=this._textLines.length;s<l;s++)if(("justify"===this.textAlign||s!==l-1&&!this.isEndOfWrapping(s))&&(r=0,i=this._textLines[s],(t=this.getLineWidth(s))<this.width&&(o=this.textLines[s].match(this._reSpacesAndTabs)))){n=o.length,e=(this.width-t)/n;for(var c=0,u=i.length;c<=u;c++)a=this.__charBounds[s][c],this._reSpaceAndTab.test(i[c])?(a.width+=e,a.kernedWidth+=e,a.left+=r,r+=e):a.left+=r}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e},_render:function(e){this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){"stroke"===this.paintFirst?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,t,n){e.textBaseline="alphabetic",e.font=this._getFontDeclaration(t,n)},calcTextWidth:function(){for(var e=this.getLineWidth(0),t=1,n=this._textLines.length;t<n;t++){var r=this.getLineWidth(t);r>e&&(e=r)}return e},_renderTextLine:function(e,t,n,r,i,a){this._renderChars(e,t,n,r,i,a)},_renderTextLinesBackground:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t,n,r,i,a,o,s,l=e.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),h=0,f=0,d=this.path,p=0,g=this._textLines.length;p<g;p++)if(t=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){r=this._textLines[p],n=this._getLineLeftOffset(p),f=0,h=0,i=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var m=0,v=r.length;m<v;m++)a=this.__charBounds[p][m],o=this.getValueOfPropertyAt(p,m,"textBackgroundColor"),d?(e.save(),e.translate(a.renderLeft,a.renderTop),e.rotate(a.angle),e.fillStyle=o,o&&e.fillRect(-a.width/2,-t/this.lineHeight*(1-this._fontSizeFraction),a.width,t/this.lineHeight),e.restore()):o!==i?(s=c+n+h,"rtl"===this.direction&&(s=this.width-s-f),e.fillStyle=i,i&&e.fillRect(s,u,f,t/this.lineHeight),h=a.left,f=a.width,i=o):f+=a.kernedWidth;o&&!d&&(s=c+n+h,"rtl"===this.direction&&(s=this.width-s-f),e.fillStyle=o,e.fillRect(s,u,f,t/this.lineHeight)),u+=t}else u+=t;e.fillStyle=l,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();t.charWidthsCache[n]||(t.charWidthsCache[n]={});var r=t.charWidthsCache[n],i=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return r[i]||(r[i]={}),r[i]},_measureChar:function(e,t,n,r){var i,a,o,s,l=this.getFontCache(t),c=n+e,u=this._getFontDeclaration(t)===this._getFontDeclaration(r),h=t.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(o=l[n]),void 0!==l[e]&&(s=i=l[e]),u&&void 0!==l[c]&&(s=(a=l[c])-o),void 0===i||void 0===o||void 0===a){var f=this.getMeasuringContext();this._setTextStyles(f,t,!0)}return void 0===i&&(s=i=f.measureText(e).width,l[e]=i),void 0===o&&u&&n&&(o=f.measureText(n).width,l[n]=o),u&&void 0===a&&(a=f.measureText(c).width,l[c]=a,s=a-o),{width:i*h,kernedWidth:s*h}},getHeightOfChar:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")},measureLine:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(e){var n,r,i,a,o,s,l=0,c=this._textLines[e],u=new Array(c.length),h=0,f=this.path;for(this.__charBounds[e]=u,f&&(o=t.util.getPointOnPath(f.path,0,f.segmentsInfo),s=f.segmentsInfo[f.segmentsInfo.length-1].length,o.x+=f.pathOffset.x,o.y+=f.pathOffset.y),n=0;n<c.length;n++)r=c[n],a=this._getGraphemeBox(r,e,n,i),f&&(h>s&&(h%=s),this._setGraphemeOnPath(h,a,o)),u[n]=a,l+=a.kernedWidth,h+=a.kernedWidth,i=r;return u[n]={left:a?a.left+a.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:l,numOfSpaces:0}},_setGraphemeOnPath:function(e,n,r){var i=e+n.kernedWidth/2,a=this.path,o=t.util.getPointOnPath(a.path,i,a.segmentsInfo);n.renderLeft=o.x-r.x,n.renderTop=o.y-r.y,n.angle=o.angle},_getGraphemeBox:function(e,t,n,r,i){var a,o=this.getCompleteStyleDeclaration(t,n),s=r?this.getCompleteStyleDeclaration(t,n-1):{},l=this._measureChar(e,o,r,s),c=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=a=this._getWidthOfCharSpacing(),c+=a);var h={width:u,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(n>0&&!i){var f=this.__charBounds[t][n-1];h.left=f.left+f.width+l.kernedWidth-l.width}return h},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this._textLines[e],n=this.getHeightOfChar(e,0),r=1,i=t.length;r<i;r++)n=Math.max(this.getHeightOfChar(e,r),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,t=0,n=0,r=this._textLines.length;n<r;n++)e=this.getHeightOfLine(n),t+=n===r-1?e/this.lineHeight:e;return t},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(e,t){e.save();for(var n=0,r=this._getLeftOffset(),i=this._getTopOffset(),a=0,o=this._textLines.length;a<o;a++){var s=this.getHeightOfLine(a),l=s/this.lineHeight,c=this._getLineLeftOffset(a);this._renderTextLine(t,e,this._textLines[a],r+c,i+n+l,a),n+=s}e.restore()},_renderTextFill:function(e){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,t,n,r,i,a){var o,s,l,c,u,h=this.getHeightOfLine(a),f=-1!==this.textAlign.indexOf("justify"),d="",p=0,g=this.path,m=!f&&0===this.charSpacing&&this.isEmptyStyles(a)&&!g,v="ltr"===this.direction,y="ltr"===this.direction?1:-1;if(t.save(),i-=h*this._fontSizeFraction/this.lineHeight,m)return t.canvas.setAttribute("dir",v?"ltr":"rtl"),t.direction=v?"ltr":"rtl",this._renderChar(e,t,a,0,n.join(""),r,i,h),void t.restore();for(var b=0,w=n.length-1;b<=w;b++)c=b===w||this.charSpacing||g,d+=n[b],l=this.__charBounds[a][b],0===p?(r+=y*(l.kernedWidth-l.width),p+=l.width):p+=l.kernedWidth,f&&!c&&this._reSpaceAndTab.test(n[b])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(a,b),s=this.getCompleteStyleDeclaration(a,b+1),c=this._hasStyleChanged(o,s)),c&&(g?(t.save(),t.translate(l.renderLeft,l.renderTop),t.rotate(l.angle),this._renderChar(e,t,a,b,d,-p/2,0,h),t.restore()):(u=r,t.canvas.setAttribute("dir",v?"ltr":"rtl"),t.direction=v?"ltr":"rtl",this._renderChar(e,t,a,b,d,u,i,h)),d="",o=s,r+=y*p,p=0);t.restore()},_applyPatternGradientTransformText:function(e){var n,r=t.util.createCanvasElement(),i=this.width+this.strokeWidth,a=this.height+this.strokeWidth;return r.width=i,r.height=a,(n=r.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(i,0),n.lineTo(i,a),n.lineTo(0,a),n.closePath(),n.translate(i/2,a/2),n.fillStyle=e.toLive(n),this._applyPatternGradientTransform(n,e),n.fill(),n.createPattern(r,"no-repeat")},handleFiller:function(e,t,n){var r,i;return n.toLive?"percentage"===n.gradientUnits||n.gradientTrasnform||n.patternTransform?(r=-this.width/2,i=-this.height/2,e.translate(r,i),e[t]=this._applyPatternGradientTransformText(n),{offsetX:r,offsetY:i}):(e[t]=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):(e[t]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(e,t){return e.lineWidth=t.strokeWidth,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",t.stroke)},_setFillStyles:function(e,t){return this.handleFiller(e,"fillStyle",t.fill)},_renderChar:function(e,t,n,r,i,a,o){var s,l,c=this._getStyleDeclaration(n,r),u=this.getCompleteStyleDeclaration(n,r),h="fillText"===e&&u.fill,f="strokeText"===e&&u.stroke&&u.strokeWidth;(f||h)&&(t.save(),h&&(s=this._setFillStyles(t,u)),f&&(l=this._setStrokeStyles(t,u)),t.font=this._getFontDeclaration(u),c&&c.textBackgroundColor&&this._removeShadow(t),c&&c.deltaY&&(o+=c.deltaY),h&&t.fillText(i,a-s.offsetX,o-s.offsetY),f&&t.strokeText(i,a-l.offsetX,o-l.offsetY),t.restore())},setSuperscript:function(e,t){return this._setScript(e,t,this.superscript)},setSubscript:function(e,t){return this._setScript(e,t,this.subscript)},_setScript:function(e,t,n){var r=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),a=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),o={fontSize:i*n.size,deltaY:a+i*n.baseline};return this.setSelectionStyles(o,e,t),this},_hasStyleChanged:function(e,t){return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.deltaY!==t.deltaY},_hasStyleChangedForSvg:function(e,t){return this._hasStyleChanged(e,t)||e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough},_getLineLeftOffset:function(e){var t=this.getLineWidth(e),n=this.width-t,r=this.textAlign,i=this.direction,a=0,o=this.isEndOfWrapping(e);return"justify"===r||"justify-center"===r&&!o||"justify-right"===r&&!o||"justify-left"===r&&!o?0:("center"===r&&(a=n/2),"right"===r&&(a=n),"justify-center"===r&&(a=n/2),"justify-right"===r&&(a=n),"rtl"===i&&(a-=n),a)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){return this.__lineWidths[e]?this.__lineWidths[e]:(t=""===this._textLines[e]?0:this.measureLine(e).width,this.__lineWidths[e]=t,t);var t},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,t,n){var r=this._getStyleDeclaration(e,t);return r&&void 0!==r[n]?r[n]:this[n]},_renderTextDecoration:function(e,t){if(this[t]||this.styleHas(t)){for(var n,r,i,a,o,s,l,c,u,h,f,d,p,g,m,v,y=this._getLeftOffset(),b=this._getTopOffset(),w=this.path,C=this._getWidthOfCharSpacing(),x=0,E=this._textLines.length;x<E;x++)if(n=this.getHeightOfLine(x),this[t]||this.styleHas(t,x)){l=this._textLines[x],g=n/this.lineHeight,a=this._getLineLeftOffset(x),h=0,f=0,c=this.getValueOfPropertyAt(x,0,t),v=this.getValueOfPropertyAt(x,0,"fill"),u=b+g*(1-this._fontSizeFraction),r=this.getHeightOfChar(x,0),o=this.getValueOfPropertyAt(x,0,"deltaY");for(var k=0,S=l.length;k<S;k++)if(d=this.__charBounds[x][k],p=this.getValueOfPropertyAt(x,k,t),m=this.getValueOfPropertyAt(x,k,"fill"),i=this.getHeightOfChar(x,k),s=this.getValueOfPropertyAt(x,k,"deltaY"),w&&p&&m)e.save(),e.fillStyle=v,e.translate(d.renderLeft,d.renderTop),e.rotate(d.angle),e.fillRect(-d.kernedWidth/2,this.offsets[t]*i+s,d.kernedWidth,this.fontSize/15),e.restore();else if((p!==c||m!==v||i!==r||s!==o)&&f>0){var _=y+a+h;"rtl"===this.direction&&(_=this.width-_-f),c&&v&&(e.fillStyle=v,e.fillRect(_,u+this.offsets[t]*r+o,f,this.fontSize/15)),h=d.left,f=d.width,c=p,v=m,r=i,o=s}else f+=d.kernedWidth;e.fillStyle=m,p&&m&&e.fillRect(y+a+h,u+this.offsets[t]*r+o,f-C,this.fontSize/15),b+=n}else b+=n;this._removeShadow(e)}},_getFontDeclaration:function(e,n){var r=e||this,i=this.fontFamily,a=t.Text.genericFonts.indexOf(i.toLowerCase())>-1,o=void 0===i||i.indexOf("'")>-1||i.indexOf(",")>-1||i.indexOf('"')>-1||a?r.fontFamily:'"'+r.fontFamily+'"';return[t.isLikelyNode?r.fontWeight:r.fontStyle,t.isLikelyNode?r.fontStyle:r.fontWeight,n?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",o].join(" ")},render:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e)))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),r=new Array(n.length),i=["\n"],a=[],o=0;o<n.length;o++)r[o]=t.util.string.graphemeSplit(n[o]),a=a.concat(r[o],i);return a.pop(),{_unwrappedLines:r,lines:n,graphemeText:a,graphemeLines:r}},toObject:function(e){var t=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing","path","direction"].concat(e),r=this.callSuper("toObject",t);return r.styles=n(this.styles,!0),r.path=this.path&&this.path.toObject(),r},set:function(e,t){this.callSuper("set",e,t);var n=!1,r=!1;if("object"==typeof e)for(var i in e)"path"===i&&this.setPathInfo(),n=n||-1!==this._dimensionAffectingProps.indexOf(i),r=r||"path"===i;else n=-1!==this._dimensionAffectingProps.indexOf(e),r="path"===e;return r&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),t.Text.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),t.Text.DEFAULT_SVG_FONT_SIZE=16,t.Text.fromElement=function(e,r,i){if(!e)return r(null);var a=t.parseAttributes(e,t.Text.ATTRIBUTE_NAMES),o=a.textAnchor||"left";if((i=t.util.object.extend(i?n(i):{},a)).top=i.top||0,i.left=i.left||0,a.textDecoration){var s=a.textDecoration;-1!==s.indexOf("underline")&&(i.underline=!0),-1!==s.indexOf("overline")&&(i.overline=!0),-1!==s.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration}"dx"in a&&(i.left+=a.dx),"dy"in a&&(i.top+=a.dy),"fontSize"in i||(i.fontSize=t.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in e?l=e.textContent:"firstChild"in e&&null!==e.firstChild&&"data"in e.firstChild&&null!==e.firstChild.data&&(l=e.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=i.strokeWidth;i.strokeWidth=0;var u=new t.Text(l,i),h=u.getScaledHeight()/u.height,f=((u.height+u.strokeWidth)*u.lineHeight-u.height)*h,d=u.getScaledHeight()+f,p=0;"center"===o&&(p=u.getScaledWidth()/2),"right"===o&&(p=u.getScaledWidth()),u.set({left:u.left-p,top:u.top-(d-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:void 0!==c?c:1}),r(u)},t.Text.fromObject=function(e,r){var i=n(e),a=e.path;return delete i.path,t.Object._fromObject("Text",i,(function(e){a?t.Object._fromObject("Path",a,(function(t){e.set("path",t),r(e)}),"path"):r(e)}),"text")},t.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],t.util.createAccessors&&t.util.createAccessors(t.Text)}}(t),b.util.object.extend(b.Text.prototype,{isEmptyStyles:function(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;var t=void 0===e?this.styles:{line:this.styles[e]};for(var n in t)for(var r in t[n])for(var i in t[n][r])return!1;return!0},styleHas:function(e,t){if(!this.styles||!e||""===e)return!1;if(void 0!==t&&!this.styles[t])return!1;var n=void 0===t?this.styles:{0:this.styles[t]};for(var r in n)for(var i in n[r])if(void 0!==n[r][i][e])return!0;return!1},cleanStyle:function(e){if(!this.styles||!e||""===e)return!1;var t,n,r=this.styles,i=0,a=!0,o=0;for(var s in r){for(var l in t=0,r[s]){var c;i++,(c=r[s][l]).hasOwnProperty(e)?(n?c[e]!==n&&(a=!1):n=c[e],c[e]===this[e]&&delete c[e]):a=!1,0!==Object.keys(c).length?t++:delete r[s][l]}0===t&&delete r[s]}for(var u=0;u<this._textLines.length;u++)o+=this._textLines[u].length;a&&i===o&&(this[e]=n,this.removeStyle(e))},removeStyle:function(e){if(this.styles&&e&&""!==e){var t,n,r,i=this.styles;for(n in i){for(r in t=i[n])delete t[r][e],0===Object.keys(t[r]).length&&delete t[r];0===Object.keys(t).length&&delete i[n]}}},_extendStyles:function(e,t){var n=this.get2DCursorLocation(e);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),b.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),t)},get2DCursorLocation:function(e,t){void 0===e&&(e=this.selectionStart);for(var n=t?this._unwrappedTextLines:this._textLines,r=n.length,i=0;i<r;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}},getSelectionStyles:function(e,t,n){void 0===e&&(e=this.selectionStart||0),void 0===t&&(t=this.selectionEnd||e);for(var r=[],i=e;i<t;i++)r.push(this.getStyleAtPosition(i,n));return r},getStyleAtPosition:function(e,t){var n=this.get2DCursorLocation(e);return(t?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(e,t,n){void 0===t&&(t=this.selectionStart||0),void 0===n&&(n=this.selectionEnd||t);for(var r=t;r<n;r++)this._extendStyles(r,e);return this._forceClearCache=!0,this},_getStyleDeclaration:function(e,t){var n=this.styles&&this.styles[e];return n?n[t]:null},getCompleteStyleDeclaration:function(e,t){for(var n,r=this._getStyleDeclaration(e,t)||{},i={},a=0;a<this._styleProperties.length;a++)i[n=this._styleProperties[a]]=void 0===r[n]?this[n]:r[n];return i},_setStyleDeclaration:function(e,t,n){this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){delete this.styles[e][t]},_getLineStyle:function(e){return!!this.styles[e]},_setLineStyle:function(e){this.styles[e]={}},_deleteLineStyle:function(e){delete this.styles[e]}}),function(){function e(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}b.IText=b.util.createClass(b.Text,b.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(e,t){this.callSuper("initialize",e,t),this.initBehavior()},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(e){this.clearContextTop(),this.callSuper("render",e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e)},clearContextTop:function(e){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop,n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this._clearTextArea(t),e||t.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(e){var t=this.width+4,n=this.height+4;e.clearRect(-t/2,-n/2,t,n)},_getCursorBoundaries:function(e){void 0===e&&(e=this.selectionStart);var t=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(e);return{left:t,top:n,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,n,r,i,a=0,o=0,s=this.get2DCursorLocation(e);r=s.charIndex,n=s.lineIndex;for(var l=0;l<n;l++)a+=this.getHeightOfLine(l);t=this._getLineLeftOffset(n);var c=this.__charBounds[n][r];return c&&(o=c.left),0!==this.charSpacing&&r===this._textLines[n].length&&(o-=this._getWidthOfCharSpacing()),i={top:a,left:t+(o>0?o:0)},"rtl"===this.direction&&(i.left*=-1),this.cursorOffsetCache=i,this.cursorOffsetCache},renderCursor:function(e,t){var n=this.get2DCursorLocation(),r=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,a=this.getValueOfPropertyAt(r,i,"fontSize"),o=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/o,l=e.topOffset,c=this.getValueOfPropertyAt(r,i,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(e,t),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,i,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-s/2,l+e.top+c,s,a)},renderSelection:function(e,t){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,i=-1!==this.textAlign.indexOf("justify"),a=this.get2DCursorLocation(n),o=this.get2DCursorLocation(r),s=a.lineIndex,l=o.lineIndex,c=a.charIndex<0?0:a.charIndex,u=o.charIndex<0?0:o.charIndex,h=s;h<=l;h++){var f,d=this._getLineLeftOffset(h)||0,p=this.getHeightOfLine(h),g=0,m=0;if(h===s&&(g=this.__charBounds[s][c].left),h>=s&&h<l)m=i&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5;else if(h===l)if(0===u)m=this.__charBounds[l][u].left;else{var v=this._getWidthOfCharSpacing();m=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-v}f=p,(this.lineHeight<1||h===l&&this.lineHeight>1)&&(p/=this.lineHeight);var y=e.left+d+g,b=m-g,w=p,C=0;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",w=1,C=p):t.fillStyle=this.selectionColor,"rtl"===this.direction&&(y=this.width-y-b),t.fillRect(y,e.top+e.topOffset+C,b,w),e.topOffset+=f}},getCurrentCharFontSize:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")},getCurrentCharColor:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fill")},_getCurrentCharIndex:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}}),b.IText.fromObject=function(t,n){if(e(t),t.styles)for(var r in t.styles)for(var i in t.styles[r])e(t.styles[r][i]);b.Object._fromObject("IText",t,n,"text")}}(),m=b.util.object.clone,b.util.object.extend(b.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",(function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))}))},initRemovedHandler:function(){var e=this;this.on("removed",(function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],b.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))}))},_initCanvasHandlers:function(e){e._mouseUpITextHandler=function(){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.__isMousedown=!1}))},e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,t,n,r){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",t,{duration:n,onComplete:function(){i.isAborted||e[r]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(e){var t=this,n=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){t._tick()}),n)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(e){var t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findWordBoundaryRight:function(e){var t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},findLineBoundaryLeft:function(e){for(var t=0,n=e-1;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findLineBoundaryRight:function(e){for(var t=0,n=e;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},searchWordBoundary:function(e,t){for(var n=this._text,r=this._reSpace.test(n[e])?e-1:e,i=n[r],a=b.reNonWord;!a.test(i)&&r>0&&r<n.length;)i=n[r+=t];return a.test(i)&&(r+=1===t?0:1),r},selectWord:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),n=this.searchWordBoundary(e,1);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.selected=!1,e.isEditing&&e.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){var t=this.getSelectionStartFromPointer(e.e),n=this.selectionStart,r=this.selectionEnd;(t===this.__selectionStartOnMouseDown&&n!==r||n!==t&&r!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(e,t,n){var r=n.slice(0,e),i=b.util.string.graphemeSplit(r).length;if(e===t)return{selectionStart:i,selectionEnd:i};var a=n.slice(e,t);return{selectionStart:i,selectionEnd:i+b.util.string.graphemeSplit(a).length}},fromGraphemeToStringSelection:function(e,t,n){var r=n.slice(0,e).join("").length;return e===t?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(e,t).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),r=n.lineIndex,i=n.charIndex,a=this.getValueOfPropertyAt(r,i,"fontSize")*this.lineHeight,o=t.leftOffset,s=this.calcTransformMatrix(),l={x:t.left+o,y:t.top+t.topOffset+a},c=this.canvas.getRetinaScaling(),u=this.canvas.upperCanvasEl,h=u.width/c,f=u.height/c,d=h-a,p=f-a,g=u.clientWidth/h,m=u.clientHeight/f;return l=b.util.transformPoint(l,s),(l=b.util.transformPoint(l,this.canvas.viewportTransform)).x*=g,l.y*=m,l.x<0&&(l.x=0),l.x>d&&(l.x=d),l.y<0&&(l.y=0),l.y>p&&(l.y=p),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text,t=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},removeStyleFromTo:function(e,t){var n,r,i=this.get2DCursorLocation(e,!0),a=this.get2DCursorLocation(t,!0),o=i.lineIndex,s=i.charIndex,l=a.lineIndex,c=a.charIndex;if(o!==l){if(this.styles[o])for(n=s;n<this._unwrappedTextLines[o].length;n++)delete this.styles[o][n];if(this.styles[l])for(n=c;n<this._unwrappedTextLines[l].length;n++)(r=this.styles[l][n])&&(this.styles[o]||(this.styles[o]={}),this.styles[o][s+n-c]=r);for(n=o+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,o-l)}else if(this.styles[o]){r=this.styles[o];var u,h,f=c-s;for(n=s;n<c;n++)delete r[n];for(h in this.styles[o])(u=parseInt(h,10))>=c&&(r[u-f]=r[h],delete r[h])}},shiftLineStyles:function(e,t){var n=m(this.styles);for(var r in this.styles){var i=parseInt(r,10);i>e&&(this.styles[i+t]=n[i],n[i-t]||delete this.styles[i])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,t,n,r){var i,a={},o=!1,s=this._unwrappedTextLines[e].length===t;for(var l in n||(n=1),this.shiftLineStyles(e,n),this.styles[e]&&(i=this.styles[e][0===t?t:t-1]),this.styles[e]){var c=parseInt(l,10);c>=t&&(o=!0,a[c-t]=this.styles[e][l],s&&0===t||delete this.styles[e][l])}var u=!1;for(o&&!s&&(this.styles[e+n]=a,u=!0),u&&n--;n>0;)r&&r[n-1]?this.styles[e+n]={0:m(r[n-1])}:i?this.styles[e+n]={0:m(i)}:delete this.styles[e+n],n--;this._forceClearCache=!0},insertCharStyleObject:function(e,t,n,r){this.styles||(this.styles={});var i=this.styles[e],a=i?m(i):{};for(var o in n||(n=1),a){var s=parseInt(o,10);s>=t&&(i[s+n]=a[s],a[s-n]||delete i[s])}if(this._forceClearCache=!0,r)for(;n--;)Object.keys(r[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+n]=m(r[n]));else if(i)for(var l=i[t?t-1:1];l&&n--;)this.styles[e][t+n]=m(l)},insertNewStyleBlock:function(e,t,n){for(var r=this.get2DCursorLocation(t,!0),i=[0],a=0,o=0;o<e.length;o++)"\n"===e[o]?i[++a]=0:i[a]++;for(i[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),a&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+i[0],a),o=1;o<a;o++)i[o]>0?this.insertCharStyleObject(r.lineIndex+o,0,i[o],n):n&&(this.styles[r.lineIndex+o][0]=n[0]),n=n&&n.slice(i[o]+1);i[o]>0&&this.insertCharStyleObject(r.lineIndex+o,0,i[o],n)},setSelectionStartEndWithShift:function(e,t,n){n<=e?(t===e?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=n)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}}),b.util.object.extend(b.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))},tripleClickHandler:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(e){if(this.__isMousedown=!1,!(!this.editable||this.group||e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button)){if(this.canvas){var t=this.canvas._activeObject;if(t&&t!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e),n=this.selectionStart,r=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,r,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){for(var t,n=this.getLocalPointer(e),r=0,i=0,a=0,o=0,s=0,l=0,c=this._textLines.length;l<c&&a<=n.y;l++)a+=this.getHeightOfLine(l)*this.scaleY,s=l,l>0&&(o+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));i=this._getLineLeftOffset(s)*this.scaleX,t=this._textLines[s],"rtl"===this.direction&&(n.x=this.width*this.scaleX-n.x+i);for(var u=0,h=t.length;u<h&&(r=i,(i+=this.__charBounds[s][u].kernedWidth*this.scaleX)<=n.x);u++)o++;return this._getNewSelectionStartFromOffset(n,r,i,o,h)},_getNewSelectionStartFromOffset:function(e,t,n,r,i){var a=e.x-t,o=n-e.x,s=r+(o>a||o<0?0:1);return this.flipX&&(s=i-s),s>this._text.length&&(s=this._text.length),s}}),b.util.object.extend(b.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=b.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingｰtop: "+e.fontSize+";",b.document.body.appendChild(this.hiddenTextarea),b.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),b.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),b.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),b.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),b.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),b.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),b.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),b.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),b.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(b.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing){var t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(e){var t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n,r,i,a,o,s=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,l=this._text.length,c=s.length,u=c-l,h=this.selectionStart,f=this.selectionEnd,d=h!==f;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var p=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),g=h>p.selectionStart;d?(n=this._text.slice(h,f),u+=f-h):c<l&&(n=g?this._text.slice(f+u,f):this._text.slice(h,h-u)),r=s.slice(p.selectionEnd-u,p.selectionEnd),n&&n.length&&(r.length&&(i=this.getSelectionStyles(h,h+1,!1),i=r.map((function(){return i[0]}))),d?(a=h,o=f):g?(a=f-n.length,o=f):(a=f,o=f+n.length),this.removeStyleFromTo(a,o)),r.length&&(t&&r.join("")===b.copiedText&&!b.disableStyleCopyPaste&&(i=b.copiedTextStyle),this.insertNewStyleBlock(r,h,i)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){this.compositionStart=e.target.selectionStart,this.compositionEnd=e.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(b.copiedText=this.getSelectedText(),b.disableStyleCopyPaste?b.copiedTextStyle=null:b.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(e){return e&&e.clipboardData||b.window.clipboardData},_getWidthBeforeCursor:function(e,t){var n,r=this._getLineLeftOffset(e);return t>0&&(r+=(n=this.__charBounds[e][t-1]).left+n.width),r},getDownCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;var a=r.charIndex,o=this._getWidthBeforeCursor(i,a),s=this._getIndexOnLine(i+1,o);return this._textLines[i].slice(a).length+s+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-n;var a=r.charIndex,o=this._getWidthBeforeCursor(i,a),s=this._getIndexOnLine(i-1,o),l=this._textLines[i].slice(0,a),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+s-l.length+(1-c)},_getIndexOnLine:function(e,t){for(var n,r,i=this._textLines[e],a=this._getLineLeftOffset(e),o=0,s=0,l=i.length;s<l;s++)if((a+=n=this.__charBounds[e][s].width)>t){r=!0;var c=a-n,u=a,h=Math.abs(c-t);o=Math.abs(u-t)<h?s:s-1;break}return r||(o=i.length-1),o},moveCursorDown:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,t){var n=this["get"+e+"CursorOffset"](t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){var t="left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e},moveCursorWithoutShift:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e},moveCursorLeft:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,t,n){var r;if(e.altKey)r=this["findWordBoundary"+n](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[t])}if(void 0!==typeof r&&this[t]!==r)return this[t]=r,!0},_moveLeft:function(e,t){return this._move(e,t,"Left")},_moveRight:function(e,t){return this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){var t=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t},moveCursorLeftWithShift:function(e){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(e,"selectionStart")):void 0},moveCursorRight:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)},_moveCursorLeftOrRight:function(e,t){var n="moveCursor"+e+"With";this._currentCursorOpacity=1,t.shiftKey?n+="Shift":n+="outShift",this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(e,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(e){var t=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t},removeChars:function(e,t){void 0===t&&(t=e+1),this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(e,t,n,r){void 0===r&&(r=n),r>n&&this.removeStyleFromTo(n,r);var i=b.util.string.graphemeSplit(e);this.insertNewStyleBlock(i,n,t),this._text=[].concat(this._text.slice(0,n),i,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),v=b.util.toFixed,y=/  +/g,b.util.object.extend(b.Text.prototype,{_toSVG:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(e){var t=this.getSvgTextDecoration(this);return[e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",t?'text-decoration="'+t+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(e,t){var n,r=[],i=[],a=e;this._setSVGBg(i);for(var o=0,s=this._textLines.length;o<s;o++)n=this._getLineLeftOffset(o),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(i,o,t+n,a),this._setSVGTextLineText(r,o,t+n,a),a+=this.getHeightOfLine(o);return{textSpans:r,textBgRects:i}},_createTextCharSpan:function(e,t,n,r){var i=e!==e.trim()||e.match(y),a=this.getSvgSpanStyles(t,i),o=a?'style="'+a+'"':"",s=t.deltaY,l="",c=b.Object.NUM_FRACTION_DIGITS;return s&&(l=' dy="'+v(s,c)+'" '),['<tspan x="',v(n,c),'" y="',v(r,c),'" ',l,o,">",b.util.string.escapeXml(e),"</tspan>"].join("")},_setSVGTextLineText:function(e,t,n,r){var i,a,o,s,l,c=this.getHeightOfLine(t),u=-1!==this.textAlign.indexOf("justify"),h="",f=0,d=this._textLines[t];r+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,g=d.length-1;p<=g;p++)l=p===g||this.charSpacing,h+=d[p],o=this.__charBounds[t][p],0===f?(n+=o.kernedWidth-o.width,f+=o.width):f+=o.kernedWidth,u&&!l&&this._reSpaceAndTab.test(d[p])&&(l=!0),l||(i=i||this.getCompleteStyleDeclaration(t,p),a=this.getCompleteStyleDeclaration(t,p+1),l=this._hasStyleChangedForSvg(i,a)),l&&(s=this._getStyleDeclaration(t,p)||{},e.push(this._createTextCharSpan(h,s,n,r)),h="",i=a,n+=f,f=0)},_pushTextBgRect:function(e,t,n,r,i,a){var o=b.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(t),' x="',v(n,o),'" y="',v(r,o),'" width="',v(i,o),'" height="',v(a,o),'"></rect>\n')},_setSVGTextLineBg:function(e,t,n,r){for(var i,a,o=this._textLines[t],s=this.getHeightOfLine(t)/this.lineHeight,l=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),h=0,f=o.length;h<f;h++)i=this.__charBounds[t][h],(a=this.getValueOfPropertyAt(t,h,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(e,u,n+c,r,l,s),c=i.left,l=i.width,u=a):l+=i.kernedWidth;a&&this._pushTextBgRect(e,a,n+c,r,l,s)},_getFillAttributes:function(e){var t=e&&"string"==typeof e?new b.Color(e):"";return t&&t.getSource()&&1!==t.getAlpha()?'opacity="'+t.getAlpha()+'" fill="'+t.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_getSVGLineTopOffset:function(e){for(var t,n=0,r=0;r<e;r++)n+=this.getHeightOfLine(r);return t=this.getHeightOfLine(r),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*t/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(e){return b.Object.prototype.getSvgStyles.call(this,e)+" white-space: pre;"}}),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Textbox=t.util.createClass(t.IText,t.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:t.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(e){for(var t=0,n=0,r=0,i={},a=0;a<e.graphemeLines.length;a++)"\n"===e.graphemeText[r]&&a>0?(n=0,r++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[r])&&a>0&&(n++,r++),i[a]={line:t,offset:n},r+=e.graphemeLines[a].length,n+=e.graphemeLines[a].length;return i},styleHas:function(e,n){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[n];r&&(n=r.line)}return t.Text.prototype.styleHas.call(this,e,n)},isEmptyStyles:function(e){if(!this.styles)return!0;var t,n,r=0,i=!1,a=this._styleMap[e],o=this._styleMap[e+1];for(var s in a&&(e=a.line,r=a.offset),o&&(i=o.line===e,t=o.offset),n=void 0===e?this.styles:{line:this.styles[e]})for(var l in n[s])if(l>=r&&(!i||l<t))for(var c in n[s][l])return!1;return!0},_getStyleDeclaration:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return null;e=n.line,t=n.offset+t}return this.callSuper("_getStyleDeclaration",e,t)},_setStyleDeclaration:function(e,t,n){var r=this._styleMap[e];e=r.line,t=r.offset+t,this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){var n=this._styleMap[e];e=n.line,t=n.offset+t,delete this.styles[e][t]},_getLineStyle:function(e){var t=this._styleMap[e];return!!this.styles[t.line]},_setLineStyle:function(e){var t=this._styleMap[e];this.styles[t.line]={}},_wrapText:function(e,t){var n,r=[];for(this.isWrapping=!0,n=0;n<e.length;n++)r=r.concat(this._wrapLine(e[n],n,t));return this.isWrapping=!1,r},_measureWord:function(e,t,n){var r,i=0;n=n||0;for(var a=0,o=e.length;a<o;a++){i+=this._getGraphemeBox(e[a],t,a+n,r,!0).kernedWidth,r=e[a]}return i},_wrapLine:function(e,n,r,i){var a=0,o=this.splitByGrapheme,s=[],l=[],c=o?t.util.string.graphemeSplit(e):e.split(this._wordJoiners),u="",h=0,f=o?"":" ",d=0,p=0,g=0,m=!0,v=this._getWidthOfCharSpacing();i=i||0;0===c.length&&c.push([]),r-=i;for(var y=0;y<c.length;y++)u=o?c[y]:t.util.string.graphemeSplit(c[y]),d=this._measureWord(u,n,h),h+=u.length,(a+=p+d-v)>r&&!m?(s.push(l),l=[],a=d,m=!0):a+=v,m||o||l.push(f),l=l.concat(u),p=o?0:this._measureWord([f],n,h),h++,m=!1,d>g&&(g=d);return y&&s.push(l),g+i>this.dynamicMinWidth&&(this.dynamicMinWidth=g-v+i),s},isEndOfWrapping:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line},missingNewlineOffset:function(e){return this.splitByGrapheme?this.isEndOfWrapping(e)?1:0:1},_splitTextIntoLines:function(e){for(var n=t.Text.prototype._splitTextIntoLines.call(this,e),r=this._wrapText(n.lines,this.width),i=new Array(r.length),a=0;a<r.length;a++)i[a]=r[a].join("");return n.lines=i,n.graphemeLines=r,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var e={};for(var t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(var t in this.styles)e[t]||delete this.styles[t]},toObject:function(e){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(e))}}),t.Textbox.fromObject=function(e,n){return t.Object._fromObject("Textbox",e,n,"text")}}(t),function(){var e=b.controlsUtils,t=e.scaleSkewCursorStyleHandler,n=e.scaleCursorStyleHandler,r=e.scalingEqually,i=e.scalingYOrSkewingX,a=e.scalingXOrSkewingY,o=e.scaleOrSkewActionName,s=b.Object.prototype.controls;if(s.ml=new b.Control({x:-.5,y:0,cursorStyleHandler:t,actionHandler:a,getActionName:o}),s.mr=new b.Control({x:.5,y:0,cursorStyleHandler:t,actionHandler:a,getActionName:o}),s.mb=new b.Control({x:0,y:.5,cursorStyleHandler:t,actionHandler:i,getActionName:o}),s.mt=new b.Control({x:0,y:-.5,cursorStyleHandler:t,actionHandler:i,getActionName:o}),s.tl=new b.Control({x:-.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),s.tr=new b.Control({x:.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),s.bl=new b.Control({x:-.5,y:.5,cursorStyleHandler:n,actionHandler:r}),s.br=new b.Control({x:.5,y:.5,cursorStyleHandler:n,actionHandler:r}),s.mtr=new b.Control({x:0,y:-.5,actionHandler:e.rotationWithSnapping,cursorStyleHandler:e.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),b.Textbox){var l=b.Textbox.prototype.controls={};l.mtr=s.mtr,l.tr=s.tr,l.br=s.br,l.tl=s.tl,l.bl=s.bl,l.mt=s.mt,l.mb=s.mb,l.mr=new b.Control({x:.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"}),l.ml=new b.Control({x:-.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"})}}()},1762:function(e,t,n){var r,i,a;i=[],void 0===(a="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,n,o){var s=a.URL||a.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):r(l.href)?t(e,n,o):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),n);else if(r(e))t(e,n,a);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){i(o)}))}}:function(e,n,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var h=a.URL||a.webkitURL,f=h.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout((function(){h.revokeObjectURL(f)}),4e4)}});a.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,i):r)||(e.exports=a)},7778:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(e,n){function r(){var e=a;i(e)&&e.a.parentNode&&n(e.g)}var a=e;t(e.b,r),t(e.c,r),i(e)}function o(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,l=null,c=null,u=null;function h(){return null===u&&(u=!!document.fonts),u}function f(){if(null===c){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}c=""!==e.style.font}return c}function d(e,t){return[e.style,e.weight,f()?e.stretch:"","100px",t].join(" ")}o.prototype.load=function(e,t){var i=this,o=e||"BESbswy",c=0,u=t||3e3,f=(new Date).getTime();return new Promise((function(e,t){if(h()&&!function(){if(null===l)if(h()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!e&&603>parseInt(e[1],10)}else l=!1;return l}()){var p=new Promise((function(e,t){!function n(){(new Date).getTime()-f>=u?t(Error(u+"ms timeout exceeded")):document.fonts.load(d(i,'"'+i.family+'"'),o).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),g=new Promise((function(e,t){c=setTimeout((function(){t(Error(u+"ms timeout exceeded"))}),u)}));Promise.race([g,p]).then((function(){clearTimeout(c),e(i)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=m&&-1!=v||-1!=m&&-1!=y||-1!=v&&-1!=y)&&((t=m!=v&&m!=y&&v!=y)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(m==b&&v==b&&y==b||m==w&&v==w&&y==w||m==C&&v==C&&y==C)),t=!t),t&&(x.parentNode&&x.parentNode.removeChild(x),clearTimeout(c),e(i))}var h=new n(o),p=new n(o),g=new n(o),m=-1,v=-1,y=-1,b=-1,w=-1,C=-1,x=document.createElement("div");x.dir="ltr",r(h,d(i,"sans-serif")),r(p,d(i,"serif")),r(g,d(i,"monospace")),x.appendChild(h.a),x.appendChild(p.a),x.appendChild(g.a),document.body.appendChild(x),b=h.a.offsetWidth,w=p.a.offsetWidth,C=g.a.offsetWidth,function e(){if((new Date).getTime()-f>=u)x.parentNode&&x.parentNode.removeChild(x),t(Error(u+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(m=h.a.offsetWidth,v=p.a.offsetWidth,y=g.a.offsetWidth,l()),c=setTimeout(e,50)}}(),a(h,(function(e){m=e,l()})),r(h,d(i,'"'+i.family+'",sans-serif')),a(p,(function(e){v=e,l()})),r(p,d(i,'"'+i.family+'",serif')),a(g,(function(e){y=e,l()})),r(g,d(i,'"'+i.family+'",monospace'))}))}))},e.exports=o}()},4625:(e,t,n)=>{"use strict";n.d(t,{J9:()=>sr,u9:()=>Kn});var r=n(5466),i=n(4126),a=n.n(i),o=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===s}(e)}(e)};var s="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function c(e,t,n){return e.concat(t).map((function(e){return l(e,n)}))}function u(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||c,n.isMergeableObject=n.isMergeableObject||o;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=l(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=u(e[i],t[i],n):r[i]=l(t[i],n)})),r}(e,t,n):l(t,n)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};const h=u;const f="object"==typeof global&&global&&global.Object===Object&&global;var d="object"==typeof self&&self&&self.Object===Object&&self;const p=f||d||Function("return this")();const g=p.Symbol;var m=Object.prototype,v=m.hasOwnProperty,y=m.toString,b=g?g.toStringTag:void 0;const w=function(e){var t=v.call(e,b),n=e[b];try{e[b]=void 0;var r=!0}catch(e){}var i=y.call(e);return r&&(t?e[b]=n:delete e[b]),i};var C=Object.prototype.toString;const x=function(e){return C.call(e)};var E=g?g.toStringTag:void 0;const k=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?w(e):x(e)};const S=function(e,t){return function(n){return e(t(n))}};const _=S(Object.getPrototypeOf,Object);const T=function(e){return null!=e&&"object"==typeof e};var O=Function.prototype,A=Object.prototype,P=O.toString,j=A.hasOwnProperty,M=P.call(Object);const I=function(e){if(!T(e)||"[object Object]"!=k(e))return!1;var t=_(e);if(null===t)return!0;var n=j.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&P.call(n)==M};const R=function(){this.__data__=[],this.size=0};const L=function(e,t){return e===t||e!=e&&t!=t};const Z=function(e,t){for(var n=e.length;n--;)if(L(e[n][0],t))return n;return-1};var D=Array.prototype.splice;const F=function(e){var t=this.__data__,n=Z(t,e);return!(n<0)&&(n==t.length-1?t.pop():D.call(t,n,1),--this.size,!0)};const N=function(e){var t=this.__data__,n=Z(t,e);return n<0?void 0:t[n][1]};const B=function(e){return Z(this.__data__,e)>-1};const z=function(e,t){var n=this.__data__,r=Z(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function V(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}V.prototype.clear=R,V.prototype.delete=F,V.prototype.get=N,V.prototype.has=B,V.prototype.set=z;const U=V;const H=function(){this.__data__=new U,this.size=0};const W=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const G=function(e){return this.__data__.get(e)};const Y=function(e){return this.__data__.has(e)};const X=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const $=function(e){if(!X(e))return!1;var t=k(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const q=p["__core-js_shared__"];var K,Q=(K=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"";const J=function(e){return!!Q&&Q in e};var ee=Function.prototype.toString;const te=function(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var ne=/^\[object .+?Constructor\]$/,re=Function.prototype,ie=Object.prototype,ae=re.toString,oe=ie.hasOwnProperty,se=RegExp("^"+ae.call(oe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const le=function(e){return!(!X(e)||J(e))&&($(e)?se:ne).test(te(e))};const ce=function(e,t){return null==e?void 0:e[t]};const ue=function(e,t){var n=ce(e,t);return le(n)?n:void 0};const he=ue(p,"Map");const fe=ue(Object,"create");const de=function(){this.__data__=fe?fe(null):{},this.size=0};const pe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var ge=Object.prototype.hasOwnProperty;const me=function(e){var t=this.__data__;if(fe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ge.call(t,e)?t[e]:void 0};var ve=Object.prototype.hasOwnProperty;const ye=function(e){var t=this.__data__;return fe?void 0!==t[e]:ve.call(t,e)};const be=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fe&&void 0===t?"__lodash_hash_undefined__":t,this};function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}we.prototype.clear=de,we.prototype.delete=pe,we.prototype.get=me,we.prototype.has=ye,we.prototype.set=be;const Ce=we;const xe=function(){this.size=0,this.__data__={hash:new Ce,map:new(he||U),string:new Ce}};const Ee=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const ke=function(e,t){var n=e.__data__;return Ee(t)?n["string"==typeof t?"string":"hash"]:n.map};const Se=function(e){var t=ke(this,e).delete(e);return this.size-=t?1:0,t};const _e=function(e){return ke(this,e).get(e)};const Te=function(e){return ke(this,e).has(e)};const Oe=function(e,t){var n=ke(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ae.prototype.clear=xe,Ae.prototype.delete=Se,Ae.prototype.get=_e,Ae.prototype.has=Te,Ae.prototype.set=Oe;const Pe=Ae;const je=function(e,t){var n=this.__data__;if(n instanceof U){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pe(r)}return n.set(e,t),this.size=n.size,this};function Me(e){var t=this.__data__=new U(e);this.size=t.size}Me.prototype.clear=H,Me.prototype.delete=W,Me.prototype.get=G,Me.prototype.has=Y,Me.prototype.set=je;const Ie=Me;const Re=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const Le=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const Ze=function(e,t,n){"__proto__"==t&&Le?Le(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var De=Object.prototype.hasOwnProperty;const Fe=function(e,t,n){var r=e[t];De.call(e,t)&&L(r,n)&&(void 0!==n||t in e)||Ze(e,t,n)};const Ne=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?Ze(n,s,l):Fe(n,s,l)}return n};const Be=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const ze=function(e){return T(e)&&"[object Arguments]"==k(e)};var Ve=Object.prototype,Ue=Ve.hasOwnProperty,He=Ve.propertyIsEnumerable;const We=ze(function(){return arguments}())?ze:function(e){return T(e)&&Ue.call(e,"callee")&&!He.call(e,"callee")};const Ge=Array.isArray;const Ye=function(){return!1};var Xe="object"==typeof exports&&exports&&!exports.nodeType&&exports,$e=Xe&&"object"==typeof module&&module&&!module.nodeType&&module,qe=$e&&$e.exports===Xe?p.Buffer:void 0;const Ke=(qe?qe.isBuffer:void 0)||Ye;var Qe=/^(?:0|[1-9]\d*)$/;const Je=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Qe.test(e))&&e>-1&&e%1==0&&e<t};const et=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var tt={};tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object Boolean]"]=tt["[object DataView]"]=tt["[object Date]"]=tt["[object Error]"]=tt["[object Function]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object WeakMap]"]=!1;const nt=function(e){return T(e)&&et(e.length)&&!!tt[k(e)]};const rt=function(e){return function(t){return e(t)}};var it="object"==typeof exports&&exports&&!exports.nodeType&&exports,at=it&&"object"==typeof module&&module&&!module.nodeType&&module,ot=at&&at.exports===it&&f.process;const st=function(){try{var e=at&&at.require&&at.require("util").types;return e||ot&&ot.binding&&ot.binding("util")}catch(e){}}();var lt=st&&st.isTypedArray;const ct=lt?rt(lt):nt;var ut=Object.prototype.hasOwnProperty;const ht=function(e,t){var n=Ge(e),r=!n&&We(e),i=!n&&!r&&Ke(e),a=!n&&!r&&!i&&ct(e),o=n||r||i||a,s=o?Be(e.length,String):[],l=s.length;for(var c in e)!t&&!ut.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Je(c,l))||s.push(c);return s};var ft=Object.prototype;const dt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ft)};const pt=S(Object.keys,Object);var gt=Object.prototype.hasOwnProperty;const mt=function(e){if(!dt(e))return pt(e);var t=[];for(var n in Object(e))gt.call(e,n)&&"constructor"!=n&&t.push(n);return t};const vt=function(e){return null!=e&&et(e.length)&&!$(e)};const yt=function(e){return vt(e)?ht(e):mt(e)};const bt=function(e,t){return e&&Ne(t,yt(t),e)};const wt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var Ct=Object.prototype.hasOwnProperty;const xt=function(e){if(!X(e))return wt(e);var t=dt(e),n=[];for(var r in e)("constructor"!=r||!t&&Ct.call(e,r))&&n.push(r);return n};const Et=function(e){return vt(e)?ht(e,!0):xt(e)};const kt=function(e,t){return e&&Ne(t,Et(t),e)};var St="object"==typeof exports&&exports&&!exports.nodeType&&exports,_t=St&&"object"==typeof module&&module&&!module.nodeType&&module,Tt=_t&&_t.exports===St?p.Buffer:void 0,Ot=Tt?Tt.allocUnsafe:void 0;const At=function(e,t){if(t)return e.slice();var n=e.length,r=Ot?Ot(n):new e.constructor(n);return e.copy(r),r};const Pt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};const jt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};const Mt=function(){return[]};var It=Object.prototype.propertyIsEnumerable,Rt=Object.getOwnPropertySymbols;const Lt=Rt?function(e){return null==e?[]:(e=Object(e),jt(Rt(e),(function(t){return It.call(e,t)})))}:Mt;const Zt=function(e,t){return Ne(e,Lt(e),t)};const Dt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const Ft=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Dt(t,Lt(e)),e=_(e);return t}:Mt;const Nt=function(e,t){return Ne(e,Ft(e),t)};const Bt=function(e,t,n){var r=t(e);return Ge(e)?r:Dt(r,n(e))};const zt=function(e){return Bt(e,yt,Lt)};const Vt=function(e){return Bt(e,Et,Ft)};const Ut=ue(p,"DataView");const Ht=ue(p,"Promise");const Wt=ue(p,"Set");const Gt=ue(p,"WeakMap");var Yt=te(Ut),Xt=te(he),$t=te(Ht),qt=te(Wt),Kt=te(Gt),Qt=k;(Ut&&"[object DataView]"!=Qt(new Ut(new ArrayBuffer(1)))||he&&"[object Map]"!=Qt(new he)||Ht&&"[object Promise]"!=Qt(Ht.resolve())||Wt&&"[object Set]"!=Qt(new Wt)||Gt&&"[object WeakMap]"!=Qt(new Gt))&&(Qt=function(e){var t=k(e),n="[object Object]"==t?e.constructor:void 0,r=n?te(n):"";if(r)switch(r){case Yt:return"[object DataView]";case Xt:return"[object Map]";case $t:return"[object Promise]";case qt:return"[object Set]";case Kt:return"[object WeakMap]"}return t});const Jt=Qt;var en=Object.prototype.hasOwnProperty;const tn=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&en.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const nn=p.Uint8Array;const rn=function(e){var t=new e.constructor(e.byteLength);return new nn(t).set(new nn(e)),t};const an=function(e,t){var n=t?rn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var on=/\w*$/;const sn=function(e){var t=new e.constructor(e.source,on.exec(e));return t.lastIndex=e.lastIndex,t};var ln=g?g.prototype:void 0,cn=ln?ln.valueOf:void 0;const un=function(e){return cn?Object(cn.call(e)):{}};const hn=function(e,t){var n=t?rn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const fn=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return rn(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return an(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return hn(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return sn(e);case"[object Set]":return new r;case"[object Symbol]":return un(e)}};var dn=Object.create;const pn=function(){function e(){}return function(t){if(!X(t))return{};if(dn)return dn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const gn=function(e){return"function"!=typeof e.constructor||dt(e)?{}:pn(_(e))};const mn=function(e){return T(e)&&"[object Map]"==Jt(e)};var vn=st&&st.isMap;const yn=vn?rt(vn):mn;const bn=function(e){return T(e)&&"[object Set]"==Jt(e)};var wn=st&&st.isSet;const Cn=wn?rt(wn):bn;var xn={};xn["[object Arguments]"]=xn["[object Array]"]=xn["[object ArrayBuffer]"]=xn["[object DataView]"]=xn["[object Boolean]"]=xn["[object Date]"]=xn["[object Float32Array]"]=xn["[object Float64Array]"]=xn["[object Int8Array]"]=xn["[object Int16Array]"]=xn["[object Int32Array]"]=xn["[object Map]"]=xn["[object Number]"]=xn["[object Object]"]=xn["[object RegExp]"]=xn["[object Set]"]=xn["[object String]"]=xn["[object Symbol]"]=xn["[object Uint8Array]"]=xn["[object Uint8ClampedArray]"]=xn["[object Uint16Array]"]=xn["[object Uint32Array]"]=!0,xn["[object Error]"]=xn["[object Function]"]=xn["[object WeakMap]"]=!1;const En=function e(t,n,r,i,a,o){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!X(t))return t;var h=Ge(t);if(h){if(s=tn(t),!l)return Pt(t,s)}else{var f=Jt(t),d="[object Function]"==f||"[object GeneratorFunction]"==f;if(Ke(t))return At(t,l);if("[object Object]"==f||"[object Arguments]"==f||d&&!a){if(s=c||d?{}:gn(t),!l)return c?Nt(t,kt(s,t)):Zt(t,bt(s,t))}else{if(!xn[f])return a?t:{};s=fn(t,f,l)}}o||(o=new Ie);var p=o.get(t);if(p)return p;o.set(t,s),Cn(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):yn(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var g=h?void 0:(u?c?Vt:zt:c?Et:yt)(t);return Re(g||t,(function(i,a){g&&(i=t[a=i]),Fe(s,a,e(i,n,r,a,t,o))})),s};const kn=function(e){return En(e,4)};const Sn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};const _n=function(e){return"symbol"==typeof e||T(e)&&"[object Symbol]"==k(e)};function Tn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Tn.Cache||Pe),n}Tn.Cache=Pe;const On=Tn;var An=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pn=/\\(\\)?/g;const jn=function(e){var t=On(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(An,(function(e,n,r,i){t.push(r?i.replace(Pn,"$1"):n||e)})),t}));const Mn=function(e){if("string"==typeof e||_n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var In=g?g.prototype:void 0,Rn=In?In.toString:void 0;const Ln=function e(t){if("string"==typeof t)return t;if(Ge(t))return Sn(t,e)+"";if(_n(t))return Rn?Rn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const Zn=function(e){return null==e?"":Ln(e)};const Dn=function(e){return Ge(e)?Sn(e,Mn):_n(e)?[e]:Pt(jn(Zn(e)))};const Fn=function(e,t){};n(7773);const Nn=function(e){return En(e,5)};function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Vn(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Hn=function(e){return Array.isArray(e)&&0===e.length},Wn=function(e){return"function"==typeof e},Gn=function(e){return null!==e&&"object"==typeof e},Yn=function(e){return String(Math.floor(Number(e)))===e},Xn=function(e){return"[object String]"===Object.prototype.toString.call(e)},$n=function(e){return 0===r.Children.count(e)},qn=function(e){return Gn(e)&&Wn(e.then)};function Kn(e,t,n,r){void 0===r&&(r=0);for(var i=Dn(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function Qn(e,t,n){for(var r=kn(e),i=r,a=0,o=Dn(t);a<o.length-1;a++){var s=o[a],l=Kn(e,o.slice(0,a+1));if(l&&(Gn(l)||Array.isArray(l)))i=i[s]=kn(l);else{var c=o[a+1];i=i[s]=Yn(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function Jn(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];Gn(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},Jn(s,t,n,r[o])):r[o]=t}return r}var er=(0,r.createContext)(void 0);er.displayName="FormikContext";var tr=er.Provider;er.Consumer;function nr(){var e=(0,r.useContext)(er);return e||Fn(!1),e}function rr(e,t){switch(t.type){case"SET_VALUES":return Bn({},e,{values:t.payload});case"SET_TOUCHED":return Bn({},e,{touched:t.payload});case"SET_ERRORS":return a()(e.errors,t.payload)?e:Bn({},e,{errors:t.payload});case"SET_STATUS":return Bn({},e,{status:t.payload});case"SET_ISSUBMITTING":return Bn({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Bn({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Bn({},e,{values:Qn(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Bn({},e,{touched:Qn(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Bn({},e,{errors:Qn(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Bn({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Bn({},e,{touched:Jn(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Bn({},e,{isSubmitting:!1});default:return e}}var ir={},ar={};function or(e){var t=e.validateOnChange,n=void 0===t||t,i=e.validateOnBlur,o=void 0===i||i,s=e.validateOnMount,l=void 0!==s&&s,c=e.isInitialValid,u=e.enableReinitialize,f=void 0!==u&&u,d=e.onSubmit,p=Vn(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),g=Bn({validateOnChange:n,validateOnBlur:o,validateOnMount:l,onSubmit:d},p),m=(0,r.useRef)(g.initialValues),v=(0,r.useRef)(g.initialErrors||ir),y=(0,r.useRef)(g.initialTouched||ar),b=(0,r.useRef)(g.initialStatus),w=(0,r.useRef)(!1),C=(0,r.useRef)({});(0,r.useEffect)((function(){return w.current=!0,function(){w.current=!1}}),[]);var x=(0,r.useReducer)(rr,{values:g.initialValues,errors:g.initialErrors||ir,touched:g.initialTouched||ar,status:g.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=x[0],k=x[1],S=(0,r.useCallback)((function(e,t){return new Promise((function(n,r){var i=g.validate(e,t);null==i?n(ir):qn(i)?i.then((function(e){n(e||ir)}),(function(e){r(e)})):n(i)}))}),[g.validate]),_=(0,r.useCallback)((function(e,t){var n=g.validationSchema,r=Wn(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=String(r);!0===Array.isArray(t[i])?n[i]=t[i].map((function(t){return!0===Array.isArray(t)||I(t)?e(t):""!==t?t:void 0})):I(t[i])?n[i]=e(t[i]):n[i]=""!==t[i]?t[i]:void 0}return n}(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(ir)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return Qn(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;Kn(t,o.path)||(t=Qn(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[g.validationSchema]),T=(0,r.useCallback)((function(e,t){return new Promise((function(n){return n(C.current[e].validate(t))}))}),[]),O=(0,r.useCallback)((function(e){var t=Object.keys(C.current).filter((function(e){return Wn(C.current[e].validate)})),n=t.length>0?t.map((function(t){return T(t,Kn(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=Qn(e,t[r],n)),e}),{})}))}),[T]),A=(0,r.useCallback)((function(e){return Promise.all([O(e),g.validationSchema?_(e):{},g.validate?S(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return h.all([t,n,r],{arrayMerge:lr})}))}),[g.validate,g.validationSchema,O,S,_]),P=ur((function(e){return void 0===e&&(e=E.values),k({type:"SET_ISVALIDATING",payload:!0}),A(e).then((function(e){return w.current&&(k({type:"SET_ISVALIDATING",payload:!1}),k({type:"SET_ERRORS",payload:e})),e}))}));(0,r.useEffect)((function(){l&&!0===w.current&&a()(m.current,g.initialValues)&&P(m.current)}),[l,P]);var j=(0,r.useCallback)((function(e){var t=e&&e.values?e.values:m.current,n=e&&e.errors?e.errors:v.current?v.current:g.initialErrors||{},r=e&&e.touched?e.touched:y.current?y.current:g.initialTouched||{},i=e&&e.status?e.status:b.current?b.current:g.initialStatus;m.current=t,v.current=n,y.current=r,b.current=i;var a=function(){k({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"==typeof e.submitCount?e.submitCount:0}})};if(g.onReset){var o=g.onReset(E.values,K);qn(o)?o.then(a):a()}else a()}),[g.initialErrors,g.initialStatus,g.initialTouched]);(0,r.useEffect)((function(){!0!==w.current||a()(m.current,g.initialValues)||(f&&(m.current=g.initialValues,j()),l&&P(m.current))}),[f,g.initialValues,j,l,P]),(0,r.useEffect)((function(){f&&!0===w.current&&!a()(v.current,g.initialErrors)&&(v.current=g.initialErrors||ir,k({type:"SET_ERRORS",payload:g.initialErrors||ir}))}),[f,g.initialErrors]),(0,r.useEffect)((function(){f&&!0===w.current&&!a()(y.current,g.initialTouched)&&(y.current=g.initialTouched||ar,k({type:"SET_TOUCHED",payload:g.initialTouched||ar}))}),[f,g.initialTouched]),(0,r.useEffect)((function(){f&&!0===w.current&&!a()(b.current,g.initialStatus)&&(b.current=g.initialStatus,k({type:"SET_STATUS",payload:g.initialStatus}))}),[f,g.initialStatus,g.initialTouched]);var M=ur((function(e){if(C.current[e]&&Wn(C.current[e].validate)){var t=Kn(E.values,e),n=C.current[e].validate(t);return qn(n)?(k({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){k({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),k({type:"SET_ISVALIDATING",payload:!1})}))):(k({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return g.validationSchema?(k({type:"SET_ISVALIDATING",payload:!0}),_(E.values,e).then((function(e){return e})).then((function(t){k({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),k({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=(0,r.useCallback)((function(e,t){var n=t.validate;C.current[e]={validate:n}}),[]),L=(0,r.useCallback)((function(e){delete C.current[e]}),[]),Z=ur((function(e,t){return k({type:"SET_TOUCHED",payload:e}),(void 0===t?o:t)?P(E.values):Promise.resolve()})),D=(0,r.useCallback)((function(e){k({type:"SET_ERRORS",payload:e})}),[]),F=ur((function(e,t){var r=Wn(e)?e(E.values):e;return k({type:"SET_VALUES",payload:r}),(void 0===t?n:t)?P(r):Promise.resolve()})),N=(0,r.useCallback)((function(e,t){k({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),B=ur((function(e,t,r){return k({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===r?n:r)?P(Qn(E.values,e,t)):Promise.resolve()})),z=(0,r.useCallback)((function(e,t){var n,r=t,i=e;if(!Xn(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,l=a.id,c=a.value,u=a.checked,h=(a.outerHTML,a.options),f=a.multiple;r=t||(s||l),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"==typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,a=e.indexOf(n),i=a>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(Kn(E.values,r),u,c):h&&f?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(h):c}r&&B(r,i)}),[B,E.values]),V=ur((function(e){if(Xn(e))return function(t){return z(t,e)};z(e)})),U=ur((function(e,t,n){return void 0===t&&(t=!0),k({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?o:n)?P(E.values):Promise.resolve()})),H=(0,r.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));U(a,!0)}),[U]),W=ur((function(e){if(Xn(e))return function(t){return H(t,e)};H(e)})),G=(0,r.useCallback)((function(e){Wn(e)?k({type:"SET_FORMIK_STATE",payload:e}):k({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),Y=(0,r.useCallback)((function(e){k({type:"SET_STATUS",payload:e})}),[]),X=(0,r.useCallback)((function(e){k({type:"SET_ISSUBMITTING",payload:e})}),[]),$=ur((function(){return k({type:"SUBMIT_ATTEMPT"}),P().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Q()))return}catch(e){throw e}return Promise.resolve(n).then((function(e){return w.current&&k({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(w.current)throw k({type:"SUBMIT_FAILURE"}),e}))}if(w.current&&(k({type:"SUBMIT_FAILURE"}),t))throw e}))})),q=ur((function(e){e&&e.preventDefault&&Wn(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Wn(e.stopPropagation)&&e.stopPropagation(),$().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),K={resetForm:j,validateForm:P,validateField:M,setErrors:D,setFieldError:N,setFieldTouched:U,setFieldValue:B,setStatus:Y,setSubmitting:X,setTouched:Z,setValues:F,setFormikState:G,submitForm:$},Q=ur((function(){return d(E.values,K)})),J=ur((function(e){e&&e.preventDefault&&Wn(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Wn(e.stopPropagation)&&e.stopPropagation(),j()})),ee=(0,r.useCallback)((function(e){return{value:Kn(E.values,e),error:Kn(E.errors,e),touched:!!Kn(E.touched,e),initialValue:Kn(m.current,e),initialTouched:!!Kn(y.current,e),initialError:Kn(v.current,e)}}),[E.errors,E.touched,E.values]),te=(0,r.useCallback)((function(e){return{setValue:function(t,n){return B(e,t,n)},setTouched:function(t,n){return U(e,t,n)},setError:function(t){return N(e,t)}}}),[B,U,N]),ne=(0,r.useCallback)((function(e){var t=Gn(e),n=t?e.name:e,r=Kn(E.values,n),i={name:n,value:r,onChange:V,onBlur:W};if(t){var a=e.type,o=e.value,s=e.as,l=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&l&&(i.value=i.value||[],i.multiple=!0)}return i}),[W,V,E.values]),re=(0,r.useMemo)((function(){return!a()(m.current,E.values)}),[m.current,E.values]),ie=(0,r.useMemo)((function(){return void 0!==c?re?E.errors&&0===Object.keys(E.errors).length:!1!==c&&Wn(c)?c(g):c:E.errors&&0===Object.keys(E.errors).length}),[c,re,E.errors,g]);return Bn({},E,{initialValues:m.current,initialErrors:v.current,initialTouched:y.current,initialStatus:b.current,handleBlur:W,handleChange:V,handleReset:J,handleSubmit:q,resetForm:j,setErrors:D,setFormikState:G,setFieldTouched:U,setFieldValue:B,setFieldError:N,setStatus:Y,setSubmitting:X,setTouched:Z,setValues:F,submitForm:$,validateForm:P,validateField:M,isValid:ie,dirty:re,unregisterField:L,registerField:R,getFieldProps:ne,getFieldMeta:ee,getFieldHelpers:te,validateOnBlur:o,validateOnChange:n,validateOnMount:l})}function sr(e){var t=or(e),n=e.component,i=e.children,a=e.render,o=e.innerRef;return(0,r.useImperativeHandle)(o,(function(){return t})),(0,r.createElement)(tr,{value:t},n?(0,r.createElement)(n,t):a?a(t):i?Wn(i)?i(t):$n(i)?null:r.Children.only(i):null)}function lr(e,t,n){var r=e.slice();return t.forEach((function(t,i){if(void 0===r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?h(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=h(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var cr="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function ur(e){var t=(0,r.useRef)(e);return cr((function(){t.current=e})),(0,r.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}(0,r.forwardRef)((function(e,t){var n=e.action,i=Vn(e,["action"]),a=null!=n?n:"#",o=nr(),s=o.handleReset,l=o.handleSubmit;return(0,r.createElement)("form",Object.assign({onSubmit:l,ref:t,onReset:s,action:a},i))})).displayName="Form";var hr=function(e,t,n){var r=fr(e);return r.splice(t,0,n),r},fr=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Bn({},e,{length:t+1}))}return[]},dr=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"==typeof r?r:e,o="function"==typeof t?t:e,s=Qn(n.values,a,e(Kn(n.values,a))),l=r?i(Kn(n.errors,a)):void 0,c=t?o(Kn(n.touched,a)):void 0;return Hn(l)&&(l=void 0),Hn(c)&&(c=void 0),Bn({},n,{values:s,errors:r?Qn(n.errors,a,l):n.errors,touched:t?Qn(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(fr(t),[Nn(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=fr(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=fr(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return hr(n,e,t)}),(function(t){return hr(t,e,null)}),(function(t){return hr(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=fr(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(Un(n)),n.pop=n.pop.bind(Un(n)),n}zn(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!a()(Kn(e.formik.values,e.name),Kn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?fr(n):[];return t||(t=r[e]),Wn(r.splice)&&r.splice(e,1),r}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,i=t.render,a=t.children,o=t.name,s=Bn({},e,{form:Vn(t.formik,["validate","validationSchema"]),name:o});return n?(0,r.createElement)(n,s):i?i(s):a?"function"==typeof a?a(s):$n(a)?null:r.Children.only(a):null},t}(r.Component);dr.defaultProps={validateOnChange:!0};r.Component,r.Component},7773:(e,t,n)=>{"use strict";var r=n(9972),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=u(n);h&&(o=o.concat(h(n)));for(var s=l(t),g=l(n),m=0;m<o.length;++m){var v=o[m];if(!(a[v]||r&&r[v]||g&&g[v]||s&&s[v])){var y=f(n,v);try{c(t,v,y)}catch(e){}}}}return t}},9350:(e,t)=>{t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-u)-1,d>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+h],h+=f,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=c}return(d?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*l-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+d]=255&o,d+=p,o/=256,c-=8);e[n+d-p]|=128*g}},6368:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},7347:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var o,s,l=i(e),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))n.call(o,u)&&(l[u]=o[u]);if(t){s=t(o);for(var h=0;h<s.length;h++)r.call(o,s[h])&&(l[s[h]]=o[s[h]])}}return l}},3042:function(e,t,n){var r=n(2790);(function(){var t,n,i,a,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=r&&r.hrtime?(e.exports=function(){return(t()-o)/1e6},n=r.hrtime,a=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*r.uptime(),o=a-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)},9656:e=>{var t=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var r=t.style;if(e in r)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),a=n.length;a>=0;a--){var o=n[a]+i;if(o in r)return o}return!1}},2790:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,l=[],c=!1,u=-1;function h(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=o(h);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||c||o(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},3433:(e,t,n)=>{"use strict";var r=n(6642);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},3074:(e,t,n)=>{e.exports=n(3433)()},6642:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},197:(e,t,n)=>{var r=n(2429),i=n(8770),a=n(7616),o=n(6613);function s(e,t,n,a,o){var s=[].slice.call(arguments,1),l=s.length,c="function"==typeof s[l-1];if(!c&&!r())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=t,t=a=void 0):2!==l||t.getContext||(a=n,n=t,t=void 0),new Promise((function(r,o){try{var s=i.create(n,a);r(e(s,t,a))}catch(e){o(e)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(o=n,n=t,t=a=void 0):3===l&&(t.getContext&&void 0===o?(o=a,a=void 0):(o=a,a=n,n=t,t=void 0));try{var u=i.create(n,a);o(null,e(u,t,a))}catch(e){o(e)}}t.create=i.create,t.toCanvas=s.bind(null,a.render),t.toDataURL=s.bind(null,a.renderToDataURL),t.toString=s.bind(null,(function(e,t,n){return o.render(e,n)}))},2429:e=>{e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},2625:(e,t,n)=>{var r=n(2488).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),a=[n-7],o=1;o<t-1;o++)a[o]=a[o-1]-i;return a.push(6),a.reverse()},t.getPositions=function(e){for(var n=[],r=t.getRowColCoords(e),i=r.length,a=0;a<i;a++)for(var o=0;o<i;o++)0===a&&0===o||0===a&&o===i-1||a===i-1&&0===o||n.push([r[a],r[o]]);return n}},6278:(e,t,n)=>{var r=n(8789),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(e){this.mode=r.ALPHANUMERIC,this.data=e}a.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=a},6410:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},6706:(e,t,n)=>{var r=n(3494);function i(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=r.alloc(e*e),this.reservedBit=r.alloc(e*e)}i.prototype.set=function(e,t,n,r){var i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},i.prototype.get=function(e,t){return this.data[e*this.size+t]},i.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},i.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=i},9819:(e,t,n)=>{var r=n(3494),i=n(8789);function a(e){this.mode=i.BYTE,this.data=r.from(e)}a.getBitsLength=function(e){return 8*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=a},1243:(e,t,n)=>{var r=n(2918),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return a[4*(e-1)+0];case r.M:return a[4*(e-1)+1];case r.Q:return a[4*(e-1)+2];case r.H:return a[4*(e-1)+3];default:return}}},2918:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},9480:(e,t,n)=>{var r=n(2488).getSymbolSize;t.getPositions=function(e){var t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},4724:(e,t,n)=>{var r=n(2488),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,a=n<<10;r.getBCHDigit(a)-i>=0;)a^=1335<<r.getBCHDigit(a)-i;return 21522^(n<<10|a)}},6279:(e,t,n)=>{var r=n(3494),i=r.alloc(512),a=r.alloc(256);!function(){for(var e=1,t=0;t<255;t++)i[t]=e,a[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)i[t]=i[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return a[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[a[e]+a[t]]}},2740:(e,t,n)=>{var r=n(8789),i=n(2488);function a(e){this.mode=r.KANJI,this.data=e}a.getBitsLength=function(e){return 13*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=a},189:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n=3,r=3,i=40,a=10;function o(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,r=0,i=0,a=0,o=null,s=null,l=0;l<t;l++){i=a=0,o=s=null;for(var c=0;c<t;c++){var u=e.get(l,c);u===o?i++:(i>=5&&(r+=n+(i-5)),o=u,i=1),(u=e.get(c,l))===s?a++:(a>=5&&(r+=n+(a-5)),s=u,a=1)}i>=5&&(r+=n+(i-5)),a>=5&&(r+=n+(a-5))}return r},t.getPenaltyN2=function(e){for(var t=e.size,n=0,i=0;i<t-1;i++)for(var a=0;a<t-1;a++){var o=e.get(i,a)+e.get(i,a+1)+e.get(i+1,a)+e.get(i+1,a+1);4!==o&&0!==o||n++}return n*r},t.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,a=0,o=0;o<t;o++){r=a=0;for(var s=0;s<t;s++)r=r<<1&2047|e.get(o,s),s>=10&&(1488===r||93===r)&&n++,a=a<<1&2047|e.get(s,o),s>=10&&(1488===a||93===a)&&n++}return n*i},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*a},t.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,o(e,i,r))},t.getBestMask=function(e,n){for(var r=Object.keys(t.Patterns).length,i=0,a=1/0,o=0;o<r;o++){n(o),t.applyMask(o,e);var s=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(o,e),s<a&&(a=s,i=o)}return i}},8789:(e,t,n)=>{var r=n(3611),i=n(296);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},6701:(e,t,n)=>{var r=n(8789);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},3528:(e,t,n)=>{var r=n(3494),i=n(6279);t.mul=function(e,t){for(var n=r.alloc(e.length+t.length-1),a=0;a<e.length;a++)for(var o=0;o<t.length;o++)n[a+o]^=i.mul(e[a],t[o]);return n},t.mod=function(e,t){for(var n=r.from(e);n.length-t.length>=0;){for(var a=n[0],o=0;o<t.length;o++)n[o]^=i.mul(t[o],a);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},t.generateECPolynomial=function(e){for(var n=r.from([1]),a=0;a<e;a++)n=t.mul(n,[1,i.exp(a)]);return n}},8770:(e,t,n)=>{var r=n(3494),i=n(2488),a=n(2918),o=n(6410),s=n(6706),l=n(2625),c=n(9480),u=n(189),h=n(1243),f=n(63),d=n(6566),p=n(4724),g=n(8789),m=n(3408),v=n(6368);function y(e,t,n){var r,i,a=e.size,o=p.getEncodedBits(t,n);for(r=0;r<15;r++)i=1==(o>>r&1),r<6?e.set(r,8,i,!0):r<8?e.set(r+1,8,i,!0):e.set(a-15+r,8,i,!0),r<8?e.set(8,a-r-1,i,!0):r<9?e.set(8,15-r-1+1,i,!0):e.set(8,15-r-1,i,!0);e.set(a-8,8,1,!0)}function b(e,t,n){var a=new o;n.forEach((function(t){a.put(t.mode.bit,4),a.put(t.getLength(),g.getCharCountIndicator(t.mode,e)),t.write(a)}));var s=8*(i.getSymbolTotalCodewords(e)-h.getTotalCodewordsCount(e,t));for(a.getLengthInBits()+4<=s&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(0);for(var l=(s-a.getLengthInBits())/8,c=0;c<l;c++)a.put(c%2?17:236,8);return function(e,t,n){for(var a=i.getSymbolTotalCodewords(t),o=h.getTotalCodewordsCount(t,n),s=a-o,l=h.getBlocksCount(t,n),c=l-a%l,u=Math.floor(a/l),d=Math.floor(s/l),p=d+1,g=u-d,m=new f(g),v=0,y=new Array(l),b=new Array(l),w=0,C=r.from(e.buffer),x=0;x<l;x++){var E=x<c?d:p;y[x]=C.slice(v,v+E),b[x]=m.encode(y[x]),v+=E,w=Math.max(w,E)}var k,S,_=r.alloc(a),T=0;for(k=0;k<w;k++)for(S=0;S<l;S++)k<y[S].length&&(_[T++]=y[S][k]);for(k=0;k<g;k++)for(S=0;S<l;S++)_[T++]=b[S][k];return _}(a,e,t)}function w(e,t,n,r){var a;if(v(e))a=m.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var o=t;if(!o){var h=m.rawSplit(e);o=d.getBestVersionForData(h,n)}a=m.fromString(e,o||40)}var f=d.getBestVersionForData(a,n);if(!f)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<f)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+f+".\n")}else t=f;var p=b(t,n,a),g=i.getSymbolSize(t),w=new s(g);return function(e,t){for(var n=e.size,r=c.getPositions(t),i=0;i<r.length;i++)for(var a=r[i][0],o=r[i][1],s=-1;s<=7;s++)if(!(a+s<=-1||n<=a+s))for(var l=-1;l<=7;l++)o+l<=-1||n<=o+l||(s>=0&&s<=6&&(0===l||6===l)||l>=0&&l<=6&&(0===s||6===s)||s>=2&&s<=4&&l>=2&&l<=4?e.set(a+s,o+l,!0,!0):e.set(a+s,o+l,!1,!0))}(w,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2==0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(w),function(e,t){for(var n=l.getPositions(t),r=0;r<n.length;r++)for(var i=n[r][0],a=n[r][1],o=-2;o<=2;o++)for(var s=-2;s<=2;s++)-2===o||2===o||-2===s||2===s||0===o&&0===s?e.set(i+o,a+s,!0,!0):e.set(i+o,a+s,!1,!0)}(w,t),y(w,n,0),t>=7&&function(e,t){for(var n,r,i,a=e.size,o=d.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+a-8-3,i=1==(o>>s&1),e.set(n,r,i,!0),e.set(r,n,i,!0)}(w,t),function(e,t){for(var n=e.size,r=-1,i=n-1,a=7,o=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var l=0;l<2;l++)if(!e.isReserved(i,s-l)){var c=!1;o<t.length&&(c=1==(t[o]>>>a&1)),e.set(i,s-l,c),-1===--a&&(o++,a=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(w,p),isNaN(r)&&(r=u.getBestMask(w,y.bind(null,w,n))),u.applyMask(r,w),y(w,n,r),{modules:w,version:t,errorCorrectionLevel:n,maskPattern:r,segments:a}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,r,o=a.M;return void 0!==t&&(o=a.from(t.errorCorrectionLevel,a.M),n=d.from(t.version),r=u.from(t.maskPattern),t.toSJISFunc&&i.setToSJISFunction(t.toSJISFunc)),w(e,n,o,r)}},63:(e,t,n)=>{var r=n(3494),i=n(3528),a=n(5851).lW;function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=i.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=r.alloc(this.degree),n=a.concat([e,t],e.length+this.degree),o=i.mod(n,this.genPoly),s=this.degree-o.length;if(s>0){var l=r.alloc(this.degree);return o.copy(l,s),l}return o},e.exports=o},296:(e,t)=>{var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(r,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+n+"$"),a=new RegExp("^[0-9]+$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return i.test(e)},t.testNumeric=function(e){return a.test(e)},t.testAlphanumeric=function(e){return o.test(e)}},3408:(e,t,n)=>{var r=n(8789),i=n(6701),a=n(6278),o=n(9819),s=n(2740),l=n(296),c=n(2488),u=n(3502);function h(e){return unescape(encodeURIComponent(e)).length}function f(e,t,n){for(var r,i=[];null!==(r=e.exec(n));)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function d(e){var t,n,i=f(l.NUMERIC,r.NUMERIC,e),a=f(l.ALPHANUMERIC,r.ALPHANUMERIC,e);return c.isKanjiModeEnabled()?(t=f(l.BYTE,r.BYTE,e),n=f(l.KANJI,r.KANJI,e)):(t=f(l.BYTE_KANJI,r.BYTE,e),n=[]),i.concat(a,t,n).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function p(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return a.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return o.getBitsLength(e)}}function g(e,t){var n,l=r.getBestModeForData(e);if((n=r.from(t,l))!==r.BYTE&&n.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(l));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new a(e);case r.KANJI:return new s(e);case r.BYTE:return new o(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(g(t,null)):t.data&&e.push(g(t.data,t.mode)),e}),[])},t.fromString=function(e,n){for(var i=function(e,t){for(var n={},i={start:{}},a=["start"],o=0;o<e.length;o++){for(var s=e[o],l=[],c=0;c<s.length;c++){var u=s[c],h=""+o+c;l.push(h),n[h]={node:u,lastCount:0},i[h]={};for(var f=0;f<a.length;f++){var d=a[f];n[d]&&n[d].node.mode===u.mode?(i[d][h]=p(n[d].lastCount+u.length,u.mode)-p(n[d].lastCount,u.mode),n[d].lastCount+=u.length):(n[d]&&(n[d].lastCount=u.length),i[d][h]=p(u.length,u.mode)+4+r.getCharCountIndicator(u.mode,t))}}a=l}for(f=0;f<a.length;f++)i[a[f]].end=0;return{map:i,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:h(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:h(i.data)}])}}return t}(d(e,c.isKanjiModeEnabled())),n),a=u.find_path(i.map,"start","end"),o=[],s=1;s<a.length-1;s++)o.push(i.table[a[s]].node);return t.fromArray(function(e){return e.reduce((function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(o))},t.rawSplit=function(e){return t.fromArray(d(e,c.isKanjiModeEnabled()))}},2488:(e,t)=>{var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},3611:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},6566:(e,t,n)=>{var r=n(2488),i=n(1243),a=n(2918),o=n(8789),s=n(3611),l=n(6368),c=r.getBCHDigit(7973);function u(e,t){return o.getCharCountIndicator(e,t)+4}function h(e,t){var n=0;return e.forEach((function(e){var r=u(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=o.BYTE);var a=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===o.MIXED)return a;var l=a-u(n,e);switch(n){case o.NUMERIC:return Math.floor(l/10*3);case o.ALPHANUMERIC:return Math.floor(l/11*2);case o.KANJI:return Math.floor(l/13);case o.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,n){var r,i=a.from(n,a.M);if(l(e)){if(e.length>1)return function(e,n){for(var r=1;r<=40;r++){if(h(e,r)<=t.getCapacity(r,n,o.MIXED))return r}}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(var i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;r.getBCHDigit(t)-c>=0;)t^=7973<<r.getBCHDigit(t)-c;return e<<12|t}},7616:(e,t,n)=>{var r=n(5423);t.render=function(e,t,n){var i=n,a=t;void 0!==i||t&&t.getContext||(i=t,t=void 0),t||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);var o=r.getImageWidth(e.modules.size,i),s=a.getContext("2d"),l=s.createImageData(o,o);return r.qrToImageData(l.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,a,o),s.putImageData(l,0,0),a},t.renderToDataURL=function(e,n,r){var i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});var a=t.render(e,n,i),o=i.type||"image/png",s=i.rendererOpts||{};return a.toDataURL(o,s.quality)}},6613:(e,t,n)=>{var r=n(5423);function i(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function a(e,t,n){var r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){var o=r.getOptions(t),s=e.modules.size,l=e.modules.data,c=s+2*o.margin,u=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",h="<path "+i(o.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",i=0,o=!1,s=0,l=0;l<e.length;l++){var c=Math.floor(l%t),u=Math.floor(l/t);c||o||(o=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(r+=o?a("M",c+n,.5+u+n):a("m",i,0),i=0,o=!1),c+1<t&&e[l+1]||(r+=a("h",s),s=0)):i++}return r}(l,s,o.margin)+'"/>',f='viewBox="0 0 '+c+" "+c+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+f+' shape-rendering="crispEdges">'+u+h+"</svg>\n";return"function"==typeof n&&n(null,d),d}},5423:(e,t)=>{function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){for(var i=n.modules.size,a=n.modules.data,o=t.getScale(i,r),s=Math.floor((i+2*r.margin)*o),l=r.margin*o,c=[r.color.light,r.color.dark],u=0;u<s;u++)for(var h=0;h<s;h++){var f=4*(u*s+h),d=r.color.light;if(u>=l&&h>=l&&u<s-l&&h<s-l)d=c[a[Math.floor((u-l)/o)*i+Math.floor((h-l)/o)]?1:0];e[f++]=d.r,e[f++]=d.g,e[f++]=d.b,e[f]=d.a}}},3494:(e,t,n)=>{"use strict";var r=n(6368);a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}();var i=a.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function a(e,t,n){return a.TYPED_ARRAY_SUPPORT||this instanceof a?"number"==typeof e?l(this,e):function(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var i;i=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);a.TYPED_ARRAY_SUPPORT?i.__proto__=a.prototype:i=c(e,i);return i}(e,t,n,r);if("string"==typeof t)return function(e,t){var n=0|h(t),r=s(e,n),i=r.write(t);i!==n&&(r=r.slice(0,i));return r}(e,t);return function(e,t){if(a.isBuffer(t)){var n=0|o(t.length),r=s(e,n);return 0===r.length||t.copy(r,0,0,n),r}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):c(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return c(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,n):new a(e,t,n)}function o(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function s(e,t){var n;return a.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=a.prototype:(null===(n=e)&&(n=new a(t)),n.length=t),n}function l(e,t){var n=s(e,t<0?0:0|o(t));if(!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)n[r]=0;return n}function c(e,t){for(var n=t.length<0?0:0|o(t.length),r=s(e,n),i=0;i<n;i+=1)r[i]=255&t[i];return r}function u(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function h(e){return a.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:u(e).length)}a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),a.prototype.write=function(e,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(e,t,n,r){return function(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}(u(t,e.length-n),e,n,r)}(this,e,t,n)},a.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=a.prototype;else{var i=t-e;n=new a(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=a.isBuffer(e)?e:new a(e),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this},a.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s(null,0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l(null,t),o=0;for(n=0;n<e.length;++n){var c=e[n];if(!a.isBuffer(c))throw new TypeError('"list" argument must be an Array of Buffers');c.copy(i,o),o+=c.length}return i},a.byteLength=h,a.prototype._isBuffer=!0,a.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports.alloc=function(e){var t=new a(e);return t.fill(0),t},e.exports.from=function(e){return new a(e)}},5320:(e,t,n)=>{for(var r=n(3042),i="undefined"==typeof window?n.g:window,a=["moz","webkit"],o="AnimationFrame",s=i["request"+o],l=i["cancel"+o]||i["cancelRequest"+o],c=0;!s&&c<a.length;c++)s=i[a[c]+"Request"+o],l=i[a[c]+"Cancel"+o]||i[a[c]+"CancelRequest"+o];if(!s||!l){var u=0,h=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++h,callback:e,cancelled:!1}),h},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},5468:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.renderViewDefault=function(e){return o.default.createElement("div",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{right:2,bottom:2,left:2,borderRadius:3});return o.default.createElement("div",r({style:i},n))},t.renderTrackVerticalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{right:2,bottom:2,top:2,borderRadius:3});return o.default.createElement("div",r({style:i},n))},t.renderThumbHorizontalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",r({style:i},n))},t.renderThumbVerticalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",r({style:i},n))};var i,a=n(5466),o=(i=a)&&i.__esModule?i:{default:i};function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},2526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5320),o=v(a),s=v(n(2629)),l=n(5466),c=v(n(3074)),u=v(n(5477)),h=v(n(58)),f=v(n(2044)),d=v(n(1133)),p=v(n(8939)),g=n(7307),m=n(5468);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(e){var n;y(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=b(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(i)));return o.getScrollLeft=o.getScrollLeft.bind(o),o.getScrollTop=o.getScrollTop.bind(o),o.getScrollWidth=o.getScrollWidth.bind(o),o.getScrollHeight=o.getScrollHeight.bind(o),o.getClientWidth=o.getClientWidth.bind(o),o.getClientHeight=o.getClientHeight.bind(o),o.getValues=o.getValues.bind(o),o.getThumbHorizontalWidth=o.getThumbHorizontalWidth.bind(o),o.getThumbVerticalHeight=o.getThumbVerticalHeight.bind(o),o.getScrollLeftForOffset=o.getScrollLeftForOffset.bind(o),o.getScrollTopForOffset=o.getScrollTopForOffset.bind(o),o.scrollLeft=o.scrollLeft.bind(o),o.scrollTop=o.scrollTop.bind(o),o.scrollToLeft=o.scrollToLeft.bind(o),o.scrollToTop=o.scrollToTop.bind(o),o.scrollToRight=o.scrollToRight.bind(o),o.scrollToBottom=o.scrollToBottom.bind(o),o.handleTrackMouseEnter=o.handleTrackMouseEnter.bind(o),o.handleTrackMouseLeave=o.handleTrackMouseLeave.bind(o),o.handleHorizontalTrackMouseDown=o.handleHorizontalTrackMouseDown.bind(o),o.handleVerticalTrackMouseDown=o.handleVerticalTrackMouseDown.bind(o),o.handleHorizontalThumbMouseDown=o.handleHorizontalThumbMouseDown.bind(o),o.handleVerticalThumbMouseDown=o.handleVerticalThumbMouseDown.bind(o),o.handleWindowResize=o.handleWindowResize.bind(o),o.handleScroll=o.handleScroll.bind(o),o.handleDrag=o.handleDrag.bind(o),o.handleDragEnd=o.handleDragEnd.bind(o),o.state={didMountUniversal:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,a.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r,a=e.scrollWidth,o=void 0===a?0:a,s=e.scrollHeight,l=void 0===s?0:s,c=e.clientWidth,u=void 0===c?0:c,h=e.clientHeight,f=void 0===h?0:h;return{left:n/(o-u)||0,top:i/(l-f)||0,scrollLeft:n,scrollTop:i,scrollWidth:o,scrollHeight:l,clientWidth:u,clientHeight:f}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollWidth,a=r.clientWidth,o=(0,d.default)(this.trackHorizontal),s=Math.ceil(a/i*o);return o===s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollHeight,a=r.clientHeight,o=(0,p.default)(this.trackVertical),s=Math.ceil(a/i*o);return o===s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,d.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,p.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,h.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),r.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,h.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),r.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,r=n.onScroll,i=n.onScrollFrame;r&&r(e),this.update((function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,i&&i(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),a=Math.abs(r-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(a)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),a=Math.abs(r-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(a)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=r-(n-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=r-(n-i)}},{key:"setupDragging",value:function(){(0,s.default)(document.body,g.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=f.default}},{key:"teardownDragging",value:function(){(0,s.default)(document.body,g.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var r=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+r-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&o.default.cancel(this.requestFrame),this.requestFrame=(0,o.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,i=this.getValues();if((0,h.default)()){var a=i.scrollLeft,o=i.clientWidth,l=i.scrollWidth,c=(0,d.default)(this.trackHorizontal),u=this.getThumbHorizontalWidth(),f={width:u,transform:"translateX("+a/(l-o)*(c-u)+"px)"},g=i.scrollTop,m=i.clientHeight,v=i.scrollHeight,y=(0,p.default)(this.trackVertical),b=this.getThumbVerticalHeight(),w={height:b,transform:"translateY("+g/(v-m)*(y-b)+"px)"};if(r){var C={visibility:l>o?"visible":"hidden"},x={visibility:v>m?"visible":"hidden"};(0,s.default)(this.trackHorizontal,C),(0,s.default)(this.trackVertical,x)}(0,s.default)(this.thumbHorizontal,f),(0,s.default)(this.thumbVertical,w)}n&&n(i),"function"==typeof e&&e(i)}},{key:"render",value:function(){var e=this,t=(0,h.default)(),n=this.props,i=(n.onScroll,n.onScrollFrame,n.onScrollStart,n.onScrollStop,n.onUpdate,n.renderView),a=n.renderTrackHorizontal,o=n.renderTrackVertical,s=n.renderThumbHorizontal,c=n.renderThumbVertical,f=n.tagName,d=(n.hideTracksWhenNotNeeded,n.autoHide),p=(n.autoHideTimeout,n.autoHideDuration),m=(n.thumbSize,n.thumbMinSize,n.universal),v=n.autoHeight,y=n.autoHeightMin,b=n.autoHeightMax,w=n.style,C=n.children,x=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),E=this.state.didMountUniversal,k=r({},g.containerStyleDefault,v&&r({},g.containerStyleAutoHeight,{minHeight:y,maxHeight:b}),w),S=r({},g.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},v&&r({},g.viewStyleAutoHeight,{minHeight:(0,u.default)(y)?"calc("+y+" + "+t+"px)":y+t,maxHeight:(0,u.default)(b)?"calc("+b+" + "+t+"px)":b+t}),v&&m&&!E&&{minHeight:y,maxHeight:b},m&&!E&&g.viewStyleUniversalInitial),_={transition:"opacity "+p+"ms",opacity:0},T=r({},g.trackHorizontalStyleDefault,d&&_,(!t||m&&!E)&&{display:"none"}),O=r({},g.trackVerticalStyleDefault,d&&_,(!t||m&&!E)&&{display:"none"});return(0,l.createElement)(f,r({},x,{style:k,ref:function(t){e.container=t}}),[(0,l.cloneElement)(i({style:S}),{key:"view",ref:function(t){e.view=t}},C),(0,l.cloneElement)(a({style:T}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,l.cloneElement)(s({style:g.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,l.cloneElement)(o({style:O}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,l.cloneElement)(c({style:g.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(l.Component);t.default=w,w.propTypes={onScroll:c.default.func,onScrollFrame:c.default.func,onScrollStart:c.default.func,onScrollStop:c.default.func,onUpdate:c.default.func,renderView:c.default.func,renderTrackHorizontal:c.default.func,renderTrackVertical:c.default.func,renderThumbHorizontal:c.default.func,renderThumbVertical:c.default.func,tagName:c.default.string,thumbSize:c.default.number,thumbMinSize:c.default.number,hideTracksWhenNotNeeded:c.default.bool,autoHide:c.default.bool,autoHideTimeout:c.default.number,autoHideDuration:c.default.number,autoHeight:c.default.bool,autoHeightMin:c.default.oneOfType([c.default.number,c.default.string]),autoHeightMax:c.default.oneOfType([c.default.number,c.default.string]),universal:c.default.bool,style:c.default.object,children:c.default.node},w.defaultProps={renderView:m.renderViewDefault,renderTrackHorizontal:m.renderTrackHorizontalDefault,renderTrackVertical:m.renderTrackVerticalDefault,renderThumbHorizontal:m.renderThumbHorizontalDefault,renderThumbVertical:m.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},7307:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},9762:(e,t,n)=>{"use strict";t.$B=void 0;var r,i=n(2526),a=(r=i)&&r.__esModule?r:{default:r};a.default,t.$B=a.default},8939:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,i=n.paddingBottom;return t-parseFloat(r)-parseFloat(i)}},1133:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,i=n.paddingRight;return t-parseFloat(r)-parseFloat(i)}},58:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!1!==o)return o;if("undefined"!=typeof document){var e=document.createElement("div");(0,a.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else o=0;return o||0};var r,i=n(2629),a=(r=i)&&r.__esModule?r:{default:r};var o=!1},5477:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}},2044:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},3748:(e,t,n)=>{"use strict";var r=n(5466),i=n(7347),a=n(7767);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var l=!1,c=null,u=!1,h=null,f={onError:function(e){l=!0,c=e}};function d(e,t,n,r,i,a,o,u,h){l=!1,c=null,s.apply(f,arguments)}var p=null,g=null,m=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,s,f,p){if(d.apply(this,arguments),l){if(!l)throw Error(o(198));var g=c;l=!1,c=null,u||(u=!0,h=g)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function w(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!x[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in x[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,l=r;if(E.hasOwnProperty(l))throw Error(o(99,l));E[l]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&C(c[i],s,l);i=!0}else a.registrationName?(C(a.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function C(e,t,n){if(k[e])throw Error(o(100,e));k[e]=t,S[e]=t.eventTypes[n].dependencies}var x=[],E={},k={},S={};function _(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&w()}var T=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),O=null,A=null,P=null;function j(e){if(e=g(e)){if("function"!=typeof O)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),O(e.stateNode,e.type,t))}}function M(e){A?P?P.push(e):P=[e]:A=e}function I(){if(A){var e=A,t=P;if(P=A=null,j(e),t)for(e=0;e<t.length;e++)j(t[e])}}function R(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function Z(){}var D=R,F=!1,N=!1;function B(){null===A&&null===P||(Z(),I())}function z(e,t,n){if(N)return e(t,n);N=!0;try{return D(e,t,n)}finally{N=!1,B()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U=Object.prototype.hasOwnProperty,H={},W={};function G(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Y[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Y[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Y[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Y[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Y[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Y[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Y[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Y[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Y[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,$);Y[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,$);Y[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,$);Y[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),Y.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function K(e,t,n,r){var i=Y.hasOwnProperty(t)?Y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!U.call(W,e)||!U.call(H,e)&&(V.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}q.hasOwnProperty("ReactCurrentDispatcher")||(q.ReactCurrentDispatcher={current:null}),q.hasOwnProperty("ReactCurrentBatchConfig")||(q.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,J="function"==typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,re=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,ae=J?Symbol.for("react.provider"):60109,oe=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ce=J?Symbol.for("react.suspense"):60113,ue=J?Symbol.for("react.suspense_list"):60120,he=J?Symbol.for("react.memo"):60115,fe=J?Symbol.for("react.lazy"):60116,de=J?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return me(e.type);case de:return me(e.render);case fe:if(e=1===e._status?e._result:null)return me(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(Q,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&K(e,"checked",t,!1)}function Se(e,t){ke(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _e(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function je(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Me(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Ze(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ze(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ne=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},Ue={},He={};function We(e){if(Ue[e])return Ue[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return Ue[e]=n[t];return e}T&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var Ge=We("animationend"),Ye=We("animationiteration"),Xe=We("animationstart"),$e=We("transitionend"),qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ke=new("function"==typeof WeakMap?WeakMap:Map);function Qe(e){var t=Ke.get(e);return void 0===t&&(t=new Map,Ke.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(o(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return tt(i),e;if(a===r)return tt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function ot(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(at=rt(at,e)),e=at,at=null,e){if(it(e,ot),at)throw Error(o(95));if(u)throw e=h,u=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ut=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function ft(e,t,n,r){if(ut.length){var i=ut.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Tn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,l=0;l<x.length;l++){var c=x[l];c&&(c=c.extractEvents(r,t,a,i,o))&&(s=rt(s,c))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===qe.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var gt,mt,vt,yt=!1,bt=[],wt=null,Ct=null,xt=null,Et=new Map,kt=new Map,St=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ot(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Pt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Ot(t,n,r,i,a),null!==t&&(null!==(t=On(t))&&mt(t)),e):(e.eventSystemFlags|=r,e)}function jt(e){var t=Tn(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=On(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function It(e,t,n){Mt(e)&&n.delete(t)}function Rt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=On(e.blockedOn))&&gt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Mt(wt)&&(wt=null),null!==Ct&&Mt(Ct)&&(Ct=null),null!==xt&&Mt(xt)&&(xt=null),Et.forEach(It),kt.forEach(It)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Rt)))}function Zt(e){function t(t){return Lt(t,e)}if(0<bt.length){Lt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Lt(wt,e),null!==Ct&&Lt(Ct,e),null!==xt&&Lt(xt,e),Et.forEach(t),kt.forEach(t),n=0;n<St.length;n++)(r=St[n]).blockedOn===e&&(r.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)jt(n),null===n.blockedOn&&St.shift()}var Dt={},Ft=new Map,Nt=new Map,Bt=["abort","abort",Ge,"animationEnd",Ye,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$e,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Nt.set(r,t),Ft.set(r,a),Dt[i]=a}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Bt,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ut=0;Ut<Vt.length;Ut++)Nt.set(Vt[Ut],0);var Ht=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,Gt=!0;function Yt(e,t){Xt(t,e,!1)}function Xt(e,t,n){var r=Nt.get(t);switch(void 0===r?2:r){case 0:r=$t.bind(null,t,1,e);break;case 1:r=qt.bind(null,t,1,e);break;default:r=Kt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function $t(e,t,n,r){F||Z();var i=Kt,a=F;F=!0;try{L(i,e,t,n,r)}finally{(F=a)||B()}}function qt(e,t,n,r){Wt(Ht,Kt.bind(null,e,t,n,r))}function Kt(e,t,n,r){if(Gt)if(0<bt.length&&-1<_t.indexOf(e))e=Ot(null,e,t,n,r),bt.push(e);else{var i=Qt(e,t,n,r);if(null===i)At(e,r);else if(-1<_t.indexOf(e))e=Ot(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Pt(wt,e,t,n,r,i),!0;case"dragenter":return Ct=Pt(Ct,e,t,n,r,i),!0;case"mouseover":return xt=Pt(xt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Et.set(a,Pt(Et.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,kt.set(a,Pt(kt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=ft(e,r,null,t);try{z(dt,e)}finally{ht(e)}}}}function Qt(e,t,n,r){if(null!==(n=Tn(n=lt(r)))){var i=Je(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=et(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{z(dt,e)}finally{ht(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62,""))}}function on(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Re;function ln(e,t){var n=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function cn(){}function un(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function dn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=null,mn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,wn="function"==typeof clearTimeout?clearTimeout:void 0;function Cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function xn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),kn="__reactInternalInstance$"+En,Sn="__reactEventHandlers$"+En,_n="__reactContainere$"+En;function Tn(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[kn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xn(e);null!==e;){if(n=e[kn])return n;e=xn(e)}return t}n=(e=n).parentNode}return null}function On(e){return!(e=e[kn]||e[_n])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function An(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Pn(e){return e[Sn]||null}function jn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}function In(e,t,n){(t=Mn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Rn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=jn(t);for(t=n.length;0<t--;)In(n[t],"captured",e);for(t=0;t<n.length;t++)In(n[t],"bubbled",e)}}function Ln(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Mn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Zn(e){e&&e.dispatchConfig.registrationName&&Ln(e._targetInst,null,e)}function Dn(e){it(e,Rn)}var Fn=null,Nn=null,Bn=null;function zn(){if(Bn)return Bn;var e,t,n=Nn,r=n.length,i="value"in Fn?Fn.value:Fn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function Un(){return!1}function Hn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:Un,this.isPropagationStopped=Un,this}function Wn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Gn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Yn(e){e.eventPool=[],e.getPooled=Wn,e.release=Gn}i(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:Un,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Un,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Yn(n),n},Yn(Hn);var Xn=Hn.extend({data:null}),$n=Hn.extend({data:null}),qn=[9,13,27,32],Kn=T&&"CompositionEvent"in window,Qn=null;T&&"documentMode"in document&&(Qn=document.documentMode);var Jn=T&&"TextEvent"in window&&!Qn,er=T&&(!Kn||Qn&&8<Qn&&11>=Qn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==qn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ar(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var or=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Kn)e:{switch(e){case"compositionstart":var a=nr.compositionStart;break e;case"compositionend":a=nr.compositionEnd;break e;case"compositionupdate":a=nr.compositionUpdate;break e}a=void 0}else or?ir(e,n)&&(a=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=nr.compositionStart);return a?(er&&"ko"!==n.locale&&(or||a!==nr.compositionStart?a===nr.compositionEnd&&or&&(i=zn()):(Nn="value"in(Fn=r)?Fn.value:Fn.textContent,or=!0)),a=Xn.getPooled(a,t,n,r),i?a.data=i:null!==(i=ar(n))&&(a.data=i),Dn(a),i=a):i=null,(e=Jn?function(e,t){switch(e){case"compositionend":return ar(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(or)return"compositionend"===e||!Kn&&ir(e,t)?(e=zn(),Bn=Nn=Fn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=$n.getPooled(nr.beforeInput,t,n,r)).data=e,Dn(t)):t=null,null===i?t:null===t?i:[i,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var ur={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(e,t,n){return(e=Hn.getPooled(ur.change,e,t,n)).type="change",M(n),Dn(e),e}var fr=null,dr=null;function pr(e){st(e)}function gr(e){if(Ce(An(e)))return e}function mr(e,t){if("change"===e)return t}var vr=!1;function yr(){fr&&(fr.detachEvent("onpropertychange",br),dr=fr=null)}function br(e){if("value"===e.propertyName&&gr(dr))if(e=hr(dr,e,lt(e)),F)st(e);else{F=!0;try{R(pr,e)}finally{F=!1,B()}}}function wr(e,t,n){"focus"===e?(yr(),dr=n,(fr=t).attachEvent("onpropertychange",br)):"blur"===e&&yr()}function Cr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gr(dr)}function xr(e,t){if("click"===e)return gr(t)}function Er(e,t){if("input"===e||"change"===e)return gr(t)}T&&(vr=ct("input")&&(!document.documentMode||9<document.documentMode));var kr={eventTypes:ur,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var i=t?An(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=mr;else if(cr(i))if(vr)o=Er;else{o=Cr;var s=wr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=xr);if(o&&(o=o(e,t)))return hr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Te(i,"number",i.value)}},Sr=Hn.extend({view:null,detail:null}),_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_r[e])&&!!t[e]}function Or(){return Tr}var Ar=0,Pr=0,jr=!1,Mr=!1,Ir=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Or,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ar;return Ar=e.screenX,jr?"mousemove"===e.type?e.screenX-t:0:(jr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Pr;return Pr=e.screenY,Mr?"mousemove"===e.type?e.screenY-t:0:(Mr=!0,0)}}),Rr=Ir.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Lr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zr={eventTypes:Lr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Tn(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Ir,l=Lr.mouseLeave,c=Lr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Rr,l=Lr.pointerLeave,c=Lr.pointerEnter,u="pointer");if(e=null==o?a:An(o),a=null==t?a:An(t),(l=s.getPooled(l,o,n,r)).type=u+"leave",l.target=e,l.relatedTarget=a,(n=s.getPooled(c,t,n,r)).type=u+"enter",n.target=a,n.relatedTarget=e,u=t,(r=o)&&u)e:{for(c=u,o=0,e=s=r;e;e=jn(e))o++;for(e=0,t=c;t;t=jn(t))e++;for(;0<o-e;)s=jn(s),o--;for(;0<e-o;)c=jn(c),e--;for(;o--;){if(s===c||s===c.alternate)break e;s=jn(s),c=jn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)s.push(r),r=jn(r);for(r=[];u&&u!==c&&(null===(o=u.alternate)||o!==c);)r.push(u),u=jn(u);for(u=0;u<s.length;u++)Ln(s[u],"bubbled",l);for(u=r.length;0<u--;)Ln(r[u],"captured",n);return 0==(64&i)?[l]:[l,n]}};var Dr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fr=Object.prototype.hasOwnProperty;function Nr(e,t){if(Dr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!Dr(e[n[r]],t[n[r]]))return!1;return!0}var Br=T&&"documentMode"in document&&11>=document.documentMode,zr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vr=null,Ur=null,Hr=null,Wr=!1;function Gr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==Vr||Vr!==un(n)?null:("selectionStart"in(n=Vr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hr&&Nr(Hr,n)?null:(Hr=n,(e=Hn.getPooled(zr.select,Ur,e,t)).type="select",e.target=Vr,Dn(e),e))}var Yr={eventTypes:zr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Qe(i),a=S.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?An(t):window,e){case"focus":(cr(i)||"true"===i.contentEditable)&&(Vr=i,Ur=t,Hr=null);break;case"blur":Hr=Ur=Vr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Gr(n,r);case"selectionchange":if(Br)break;case"keydown":case"keyup":return Gr(n,r)}return null}},Xr=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Hn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qr=Sr.extend({relatedTarget:null});function Kr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Sr.extend({key:function(e){if(e.key){var t=Qr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Jr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Or,charCode:function(e){return"keypress"===e.type?Kr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Ir.extend({dataTransfer:null}),ni=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Or}),ri=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Ir.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ai={eventTypes:Dt,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Kr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=qr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ge:case Ye:case Xe:e=Xr;break;case $e:e=ri;break;case"scroll":e=Sr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Rr;break;default:e=Hn}return Dn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Pn,g=On,m=An,_({SimpleEventPlugin:ai,EnterLeaveEventPlugin:Zr,ChangeEventPlugin:kr,SelectEventPlugin:Yr,BeforeInputEventPlugin:sr});var oi=[],si=-1;function li(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function ci(e,t){si++,oi[si]=e.current,e.current=t}var ui={},hi={current:ui},fi={current:!1},di=ui;function pi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!=(e=e.childContextTypes)}function mi(){li(fi),li(hi)}function vi(e,t,n){if(hi.current!==ui)throw Error(o(168));ci(hi,t),ci(fi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,di=hi.current,ci(hi,e),ci(fi,fi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=yi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,li(fi),li(hi),ci(hi,e)):li(fi),ci(fi,n)}var Ci=a.unstable_runWithPriority,xi=a.unstable_scheduleCallback,Ei=a.unstable_cancelCallback,ki=a.unstable_requestPaint,Si=a.unstable_now,_i=a.unstable_getCurrentPriorityLevel,Ti=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Ai=a.unstable_NormalPriority,Pi=a.unstable_LowPriority,ji=a.unstable_IdlePriority,Mi={},Ii=a.unstable_shouldYield,Ri=void 0!==ki?ki:function(){},Li=null,Zi=null,Di=!1,Fi=Si(),Ni=1e4>Fi?Si:function(){return Si()-Fi};function Bi(){switch(_i()){case Ti:return 99;case Oi:return 98;case Ai:return 97;case Pi:return 96;case ji:return 95;default:throw Error(o(332))}}function zi(e){switch(e){case 99:return Ti;case 98:return Oi;case 97:return Ai;case 96:return Pi;case 95:return ji;default:throw Error(o(332))}}function Vi(e,t){return e=zi(e),Ci(e,t)}function Ui(e,t,n){return e=zi(e),xi(e,t,n)}function Hi(e){return null===Li?(Li=[e],Zi=xi(Ti,Gi)):Li.push(e),Mi}function Wi(){if(null!==Zi){var e=Zi;Zi=null,Ei(e)}Gi()}function Gi(){if(!Di&&null!==Li){Di=!0;var e=0;try{var t=Li;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),xi(Ti,Wi),t}finally{Di=!1}}}function Yi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},qi=null,Ki=null,Qi=null;function Ji(){Qi=Ki=qi=null}function ea(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function na(e,t){qi=e,Qi=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Po=!0),e.firstContext=null)}function ra(e,t){if(Qi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Qi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ki){if(null===qi)throw Error(o(308));Ki=t,qi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ki=Ki.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function sa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.alternate;null!==n&&oa(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ua(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var l=o.next;o.next=s.next,s.next=l}o=s,a.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==o){l=o.next;var c=a.baseState,u=0,h=null,f=null,d=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(f=d=g,h=c):d=d.next=g,s>u&&(u=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),al(s,p.suspenseConfig);e:{var m=e,v=p;switch(s=t,g=n,v.tag){case 1:if("function"==typeof(m=v.payload)){c=m.call(g,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(s="function"==typeof(m=v.payload)?m.call(g,c,s):m))break e;c=i({},c,s);break e;case 2:ia=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=a.shared.pending))break;p=o.next=s.next,s.next=l,a.baseQueue=o=s,a.shared.pending=null}}null===d?h=c:d.next=f,a.baseState=h,a.baseQueue=d,ol(u),e.expirationTime=u,e.memoizedState=c}}function ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(o(191,r));r.call(i)}}}var fa=q.ReactCurrentBatchConfig,da=(new r.Component).refs;function pa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Gs(),i=fa.suspense;(i=sa(r=Ys(r,e,i),i)).payload=t,null!=n&&(i.callback=n),la(e,i),Xs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Gs(),i=fa.suspense;(i=sa(r=Ys(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),la(e,i),Xs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Gs(),r=fa.suspense;(r=sa(n=Ys(n,e,r),r)).tag=2,null!=t&&(r.callback=t),la(e,r),Xs(e,n)}};function ma(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Nr(n,r)||!Nr(i,a))}function va(e,t,n){var r=!1,i=ui,a=t.contextType;return"object"==typeof a&&null!==a?a=ra(a):(i=gi(t)?di:hi.current,a=(r=null!=(r=t.contextTypes))?pi(e,i):ui),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ya(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=da,aa(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=ra(a):(a=gi(t)?di:hi.current,i.context=pi(e,a)),ua(e,n,i,r),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(pa(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var wa=Array.isArray;function Ca(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===da&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_l(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Al(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ca(e,t,n),r.return=e,r):((r=Tl(n.type,n.key,n.props,null,e.mode,r)).ref=Ca(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Ol(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Al(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Tl(t.type,t.key,t.props,null,e.mode,n)).ref=Ca(e,null,t),n.return=e,n;case te:return(t=Pl(t,e.mode,n)).return=e,t}if(wa(t)||ge(t))return(t=Ol(t,e.mode,n,null)).return=e,t;xa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(wa(n)||ge(n))return null!==i?null:h(e,t,n,r,null);xa(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||ge(r))return h(t,e=e.get(n)||null,r,i,null);xa(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,h=o,g=o=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(i,h,s[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===s.length)return n(i,h),c;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],l))&&(o=a(h,o,g),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);g<s.length;g++)null!==(m=p(h,i,g,s[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),c}function m(i,s,l,c){var u=ge(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=d(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,m),null===h?u=y:h.sibling=y,h=y);return u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),u}return function(e,r,a,l){var c="object"==typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var u="object"==typeof a&&null!==a;if(u)switch(a.$$typeof){case ee:e:{for(u=a.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(a.type===ne){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ca(e,c,a),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((r=Ol(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Tl(a.type,a.key,a.props,null,e.mode,l)).ref=Ca(e,r,a),l.return=e,e=l)}return s(e);case te:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Pl(a,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Al(a,e.mode,l)).return=e,e=r),s(e);if(wa(a))return g(e,r,a,l);if(ge(a))return m(e,r,a,l);if(u&&xa(e,a),void 0===a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var ka=Ea(!0),Sa=Ea(!1),_a={},Ta={current:_a},Oa={current:_a},Aa={current:_a};function Pa(e){if(e===_a)throw Error(o(174));return e}function ja(e,t){switch(ci(Aa,t),ci(Oa,e),ci(Ta,_a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:De(null,"");break;default:t=De(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ta),ci(Ta,t)}function Ma(){li(Ta),li(Oa),li(Aa)}function Ia(e){Pa(Aa.current);var t=Pa(Ta.current),n=De(t,e.type);t!==n&&(ci(Oa,e),ci(Ta,n))}function Ra(e){Oa.current===e&&(li(Ta),li(Oa))}var La={current:0};function Za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Da(e,t){return{responder:e,props:t}}var Fa=q.ReactCurrentDispatcher,Na=q.ReactCurrentBatchConfig,Ba=0,za=null,Va=null,Ua=null,Ha=!1;function Wa(){throw Error(o(321))}function Ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dr(e[n],t[n]))return!1;return!0}function Ya(e,t,n,r,i,a){if(Ba=a,za=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Fa.current=null===e||null===e.memoizedState?vo:yo,e=n(r,i),t.expirationTime===Ba){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ua=Va=null,t.updateQueue=null,Fa.current=bo,e=n(r,i)}while(t.expirationTime===Ba)}if(Fa.current=mo,t=null!==Va&&null!==Va.next,Ba=0,Ua=Va=za=null,Ha=!1,t)throw Error(o(300));return e}function Xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ua?za.memoizedState=Ua=e:Ua=Ua.next=e,Ua}function $a(){if(null===Va){var e=za.alternate;e=null!==e?e.memoizedState:null}else e=Va.next;var t=null===Ua?za.memoizedState:Ua.next;if(null!==t)Ua=t,Va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Va=e).memoizedState,baseState:Va.baseState,baseQueue:Va.baseQueue,queue:Va.queue,next:null},null===Ua?za.memoizedState=Ua=e:Ua=Ua.next=e}return Ua}function qa(e,t){return"function"==typeof t?t(e):t}function Ka(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=a=null,c=i;do{var u=c.expirationTime;if(u<Ba){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=h,a=r):l=l.next=h,u>za.expirationTime&&(za.expirationTime=u,ol(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),al(u,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===l?a=r:l.next=s,Dr(r,t.memoizedState)||(Po=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Qa(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Dr(a,t.memoizedState)||(Po=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ja(e){var t=Xa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e}).dispatch=go.bind(null,za,e),[t.memoizedState,e]}function eo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=za.updateQueue)?(t={lastEffect:null},za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function to(){return $a().memoizedState}function no(e,t,n,r){var i=Xa();za.effectTag|=e,i.memoizedState=eo(1|t,n,void 0,void 0===r?null:r)}function ro(e,t,n,r){var i=$a();r=void 0===r?null:r;var a=void 0;if(null!==Va){var o=Va.memoizedState;if(a=o.destroy,null!==r&&Ga(r,o.deps))return void eo(t,n,a,r)}za.effectTag|=e,i.memoizedState=eo(1|t,n,a,r)}function io(e,t){return no(516,4,e,t)}function ao(e,t){return ro(516,4,e,t)}function oo(e,t){return ro(4,2,e,t)}function so(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function lo(e,t,n){return n=null!=n?n.concat([e]):null,ro(4,2,so.bind(null,t,e),n)}function co(){}function uo(e,t){return Xa().memoizedState=[e,void 0===t?null:t],e}function ho(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fo(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function po(e,t,n){var r=Bi();Vi(98>r?98:r,(function(){e(!0)})),Vi(97<r?97:r,(function(){var r=Na.suspense;Na.suspense=void 0===t?null:t;try{e(!1),n()}finally{Na.suspense=r}}))}function go(e,t,n){var r=Gs(),i=fa.suspense;i={expirationTime:r=Ys(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===za||null!==a&&a===za)Ha=!0,i.expirationTime=Ba,za.expirationTime=Ba;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,Dr(s,o))return}catch(e){}Xs(e,r)}}var mo={readContext:ra,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useLayoutEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useResponder:Wa,useDeferredValue:Wa,useTransition:Wa},vo={readContext:ra,useCallback:uo,useContext:ra,useEffect:io,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,no(4,2,so.bind(null,t,e),n)},useLayoutEffect:function(e,t){return no(4,2,e,t)},useMemo:function(e,t){var n=Xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=go.bind(null,za,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xa().memoizedState=e},useState:Ja,useDebugValue:co,useResponder:Da,useDeferredValue:function(e,t){var n=Ja(e),r=n[0],i=n[1];return io((function(){var n=Na.suspense;Na.suspense=void 0===t?null:t;try{i(e)}finally{Na.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ja(!1),n=t[0];return t=t[1],[uo(po.bind(null,t,e),[t,e]),n]}},yo={readContext:ra,useCallback:ho,useContext:ra,useEffect:ao,useImperativeHandle:lo,useLayoutEffect:oo,useMemo:fo,useReducer:Ka,useRef:to,useState:function(){return Ka(qa)},useDebugValue:co,useResponder:Da,useDeferredValue:function(e,t){var n=Ka(qa),r=n[0],i=n[1];return ao((function(){var n=Na.suspense;Na.suspense=void 0===t?null:t;try{i(e)}finally{Na.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ka(qa),n=t[0];return t=t[1],[ho(po.bind(null,t,e),[t,e]),n]}},bo={readContext:ra,useCallback:ho,useContext:ra,useEffect:ao,useImperativeHandle:lo,useLayoutEffect:oo,useMemo:fo,useReducer:Qa,useRef:to,useState:function(){return Qa(qa)},useDebugValue:co,useResponder:Da,useDeferredValue:function(e,t){var n=Qa(qa),r=n[0],i=n[1];return ao((function(){var n=Na.suspense;Na.suspense=void 0===t?null:t;try{i(e)}finally{Na.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Qa(qa),n=t[0];return t=t[1],[ho(po.bind(null,t,e),[t,e]),n]}},wo=null,Co=null,xo=!1;function Eo(e,t){var n=kl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ko(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function So(e){if(xo){var t=Co;if(t){var n=t;if(!ko(e,t)){if(!(t=Cn(n.nextSibling))||!ko(e,t))return e.effectTag=-1025&e.effectTag|2,xo=!1,void(wo=e);Eo(wo,n)}wo=e,Co=Cn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,xo=!1,wo=e}}function _o(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wo=e}function To(e){if(e!==wo)return!1;if(!xo)return _o(e),xo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=Co;t;)Eo(e,t),t=Cn(t.nextSibling);if(_o(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Co=Cn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Co=null}}else Co=wo?Cn(e.stateNode.nextSibling):null;return!0}function Oo(){Co=wo=null,xo=!1}var Ao=q.ReactCurrentOwner,Po=!1;function jo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):ka(t,e.child,n,r)}function Mo(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=Ya(e,t,n,r,a,i),null===e||Po?(t.effectTag|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xo(e,t,i))}function Io(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!=typeof o||Sl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tl(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ro(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Nr)(i,r)&&e.ref===t.ref)?Xo(e,t,a):(t.effectTag|=1,(e=_l(o,r)).ref=t.ref,e.return=t,t.child=e)}function Ro(e,t,n,r,i,a){return null!==e&&Nr(e.memoizedProps,r)&&e.ref===t.ref&&(Po=!1,i<a)?(t.expirationTime=e.expirationTime,Xo(e,t,a)):Zo(e,t,n,r,a)}function Lo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Zo(e,t,n,r,i){var a=gi(n)?di:hi.current;return a=pi(t,a),na(t,i),n=Ya(e,t,n,r,a,i),null===e||Po?(t.effectTag|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xo(e,t,i))}function Do(e,t,n,r,i){if(gi(n)){var a=!0;bi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),va(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"==typeof c&&null!==c?c=ra(c):c=pi(t,c=gi(n)?di:hi.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ya(t,o,r,c),ia=!1;var f=t.memoizedState;o.state=f,ua(t,r,o,i),l=t.memoizedState,s!==r||f!==l||fi.current||ia?("function"==typeof u&&(pa(t,n,u,r),l=t.memoizedState),(s=ia||ma(t,n,s,r,f,l,c))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,oa(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Xi(t.type,s),l=o.context,"object"==typeof(c=n.contextType)&&null!==c?c=ra(c):c=pi(t,c=gi(n)?di:hi.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ya(t,o,r,c),ia=!1,l=t.memoizedState,o.state=l,ua(t,r,o,i),f=t.memoizedState,s!==r||l!==f||fi.current||ia?("function"==typeof u&&(pa(t,n,u,r),f=t.memoizedState),(u=ia||ma(t,n,s,r,l,f,c))?(h||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,c),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=c,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Fo(e,t,n,r,a,i)}function Fo(e,t,n,r,i,a){Lo(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return i&&wi(t,n,!1),Xo(e,t,a);r=t.stateNode,Ao.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=ka(t,e.child,null,a),t.child=ka(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),ja(e,t.containerInfo)}var Bo,zo,Vo,Uo={dehydrated:null,retryTime:0};function Ho(e,t,n){var r,i=t.mode,a=t.pendingProps,o=La.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),ci(La,1&o),null===e){if(void 0!==a.fallback&&So(t),s){if(s=a.fallback,(a=Ol(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ol(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Uo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Sa(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=_l(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=_l(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Uo,t.child=n,i}return n=ka(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Ol(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ol(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Uo,t.child=a,n}return t.memoizedState=null,t.child=ka(t,e,a.children,n)}function Wo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ta(e.return,t)}function Go(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Yo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!=(2&(r=La.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n);else if(19===e.tag)Wo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(La,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,a,t.lastEffect);break;case"together":Go(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&ol(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=_l(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_l(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qo(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&mi(),null;case 3:return Ma(),li(fi),li(hi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!To(t)||(t.effectTag|=4),null;case 5:Ra(t),n=Pa(Aa.current);var a=t.type;if(null!==e&&null!=t.stateNode)zo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Ta.current),To(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[kn]=t,r[Sn]=s,a){case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(e=0;e<qe.length;e++)Yt(qe[e],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"form":Yt("reset",r),Yt("submit",r);break;case"details":Yt("toggle",r);break;case"input":Ee(r,s),Yt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",r),ln(n,"onChange");break;case"textarea":je(r,s),Yt("invalid",r),ln(n,"onChange")}for(var l in an(a,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?r.textContent!==c&&(e=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(e=["children",""+c]):k.hasOwnProperty(l)&&null!=c&&ln(n,l)}switch(a){case"input":we(r),_e(r,s,!0);break;case"textarea":we(r),Ie(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Ze(a)),e===sn?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(a,{is:r.is}):(e=l.createElement(a),"select"===a&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,a),e[kn]=t,e[Sn]=r,Bo(e,t),t.stateNode=e,l=on(a,r),a){case"iframe":case"object":case"embed":Yt("load",e),c=r;break;case"video":case"audio":for(c=0;c<qe.length;c++)Yt(qe[c],e);c=r;break;case"source":Yt("error",e),c=r;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),c=r;break;case"form":Yt("reset",e),Yt("submit",e),c=r;break;case"details":Yt("toggle",e),c=r;break;case"input":Ee(e,r),c=xe(e,r),Yt("invalid",e),ln(n,"onChange");break;case"option":c=Oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Yt("invalid",e),ln(n,"onChange");break;case"textarea":je(e,r),c=Pe(e,r),Yt("invalid",e),ln(n,"onChange");break;default:c=r}an(a,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];"style"===s?nn(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Ne(e,h):"children"===s?"string"==typeof h?("textarea"!==a||""!==h)&&Be(e,h):"number"==typeof h&&Be(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?null!=h&&ln(n,s):null!=h&&K(e,s,h,l))}switch(a){case"input":we(e),_e(e,r,!1);break;case"textarea":we(e),Ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=cn)}vn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Vo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Aa.current),Pa(Ta.current),To(t)?(n=t.stateNode,r=t.memoizedProps,n[kn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[kn]=t,t.stateNode=n)}return null;case 13:return li(La),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&To(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&La.current)?Ts===ws&&(Ts=Cs):(Ts!==ws&&Ts!==Cs||(Ts=xs),0!==Ms&&null!==ks&&(Il(ks,_s),Rl(ks,Ms)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ma(),null;case 10:return ea(t),null;case 17:return gi(t.type)&&mi(),null;case 19:if(li(La),null===(r=t.memoizedState))return null;if(a=0!=(64&t.effectTag),null===(s=r.rendering)){if(a)$o(r,!1);else if(Ts!==ws||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Za(s))){for(t.effectTag|=64,$o(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ci(La,1&La.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Za(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$o(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ni()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,$o(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ni()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ni(),n.sibling=null,t=La.current,ci(La,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function Ko(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ma(),li(fi),li(hi),0!=(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ra(e),null;case 13:return li(La),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(La),null;case 4:return Ma(),null;case 10:return ea(e),null;default:return null}}function Qo(e,t){return{value:e,source:t,stack:ve(t)}}Bo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,l,c=t.stateNode;switch(Pa(Ta.current),e=null,n){case"input":o=xe(c,o),r=xe(c,r),e=[];break;case"option":o=Oe(c,o),r=Oe(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Pe(c,o),r=Pe(c,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(c.onclick=cn)}for(s in an(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(l in c=o[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(c=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(k.hasOwnProperty(s)?(null!=u&&ln(a,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Vo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Jo="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){yl(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ha(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ha(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Zt(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function os(e,t,n){switch("function"==typeof xl&&xl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Vi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){yl(i,e)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){yl(e,t)}}(t,n);break;case 5:ts(t);break;case 4:us(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function us(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var l=e,c=a,u=n,h=c;;)if(os(l,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break e;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=r,c=a.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(os(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function hs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Sn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ke(n,r),on(e,i),t=on(e,r),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Ne(n,l):"children"===s?Be(n,l):K(n,s,l,t)}switch(e){case"input":Se(n,r);break;case"textarea":Me(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Zt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Rs=Ni()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,a.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fs(t);case 19:return void fs(t);case 17:return}throw Error(o(163))}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=wl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ds="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=sa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,Ds=r),es(e,t)},n}function gs(e,t,n){(n=sa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fs?Fs=new Set([this]):Fs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ms,vs=Math.ceil,ys=q.ReactCurrentDispatcher,bs=q.ReactCurrentOwner,ws=0,Cs=3,xs=4,Es=0,ks=null,Ss=null,_s=0,Ts=ws,Os=null,As=1073741823,Ps=1073741823,js=null,Ms=0,Is=!1,Rs=0,Ls=null,Zs=!1,Ds=null,Fs=null,Ns=!1,Bs=null,zs=90,Vs=null,Us=0,Hs=null,Ws=0;function Gs(){return 0!=(48&Es)?1073741821-(Ni()/10|0):0!==Ws?Ws:Ws=1073741821-(Ni()/10|0)}function Ys(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Bi();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Es))return _s;if(null!==n)e=Yi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Yi(e,150,100);break;case 97:case 96:e=Yi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==ks&&e===_s&&--e,e}function Xs(e,t){if(50<Us)throw Us=0,Hs=null,Error(o(185));if(null!==(e=$s(e,t))){var n=Bi();1073741823===t?0!=(8&Es)&&0==(48&Es)?Js(e):(Ks(e),0===Es&&Wi()):Ks(e),0==(4&Es)||98!==n&&99!==n||(null===Vs?Vs=new Map([[e,t]]):(void 0===(n=Vs.get(e))||n>t)&&Vs.set(e,t))}}function $s(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ks===i&&(ol(t),Ts===xs&&Il(i,_s)),Rl(i,t)),i}function qs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ml(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Ks(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hi(Js.bind(null,e));else{var t=qs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Gs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Mi&&Ei(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Hi(Js.bind(null,e)):Ui(r,Qs.bind(null,e),{timeout:10*(1073741821-t)-Ni()}),e.callbackNode=t}}}function Qs(e,t){if(Ws=0,t)return Ll(e,t=Gs()),Ks(e),null;var n=qs(e);if(0!==n){if(t=e.callbackNode,0!=(48&Es))throw Error(o(327));if(gl(),e===ks&&n===_s||nl(e,n),null!==Ss){var r=Es;Es|=16;for(var i=il();;)try{ll();break}catch(t){rl(e,t)}if(Ji(),Es=r,ys.current=i,1===Ts)throw t=Os,nl(e,n),Il(e,n),Ks(e),t;if(null===Ss)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ts,ks=null,r){case ws:case 1:throw Error(o(345));case 2:Ll(e,2<n?2:n);break;case Cs:if(Il(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(i)),1073741823===As&&10<(i=Rs+500-Ni())){if(Is){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(a=qs(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(fl.bind(null,e),i);break}fl(e);break;case xs:if(Il(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(i)),Is&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(i=qs(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ps?r=10*(1073741821-Ps)-Ni():1073741823===As?r=0:(r=10*(1073741821-As)-5e3,0>(r=(i=Ni())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(fl.bind(null,e),r);break}fl(e);break;case 5:if(1073741823!==As&&null!==js){a=As;var s=js;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Ni()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Il(e,n),e.timeoutHandle=bn(fl.bind(null,e),r);break}}fl(e);break;default:throw Error(o(329))}if(Ks(e),e.callbackNode===t)return Qs.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Es))throw Error(o(327));if(gl(),e===ks&&t===_s||nl(e,t),null!==Ss){var n=Es;Es|=16;for(var r=il();;)try{sl();break}catch(t){rl(e,t)}if(Ji(),Es=n,ys.current=r,1===Ts)throw n=Os,nl(e,t),Il(e,t),Ks(e),n;if(null!==Ss)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ks=null,fl(e),Ks(e)}return null}function el(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&Wi()}}function tl(e,t){var n=Es;Es&=-2,Es|=8;try{return e(t)}finally{0===(Es=n)&&Wi()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==Ss)for(n=Ss.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&mi();break;case 3:Ma(),li(fi),li(hi);break;case 5:Ra(r);break;case 4:Ma();break;case 13:case 19:li(La);break;case 10:ea(r)}n=n.return}ks=e,Ss=_l(e.current,null),_s=t,Ts=ws,Os=null,Ps=As=1073741823,js=null,Ms=0,Is=!1}function rl(e,t){for(;;){try{if(Ji(),Fa.current=mo,Ha)for(var n=za.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ba=0,Ua=Va=za=null,Ha=!1,null===Ss||null===Ss.return)return Ts=1,Os=t,Ss=null;e:{var i=e,a=Ss.return,o=Ss,s=t;if(t=_s,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var u=0!=(1&La.current),h=a;do{var f;if(f=13===h.tag){var d=h.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var p=h.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(f){var g=h.updateQueue;if(null===g){var m=new Set;m.add(l),h.updateQueue=m}else g.add(l);if(0==(2&h.mode)){if(h.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=sa(1073741823,null);v.tag=2,la(o,v)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ds,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(o)){s.add(o);var b=bl.bind(null,i,l,o);l.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(o))}5!==Ts&&(Ts=2),s=Qo(s,o),h=a;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=t,ca(h,ps(h,l,t));break e;case 1:l=s;var w=h.type,C=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===Fs||!Fs.has(C)))){h.effectTag|=4096,h.expirationTime=t,ca(h,gs(h,l,t));break e}}h=h.return}while(null!==h)}Ss=ul(Ss)}catch(e){t=e;continue}break}}function il(){var e=ys.current;return ys.current=mo,null===e?mo:e}function al(e,t){e<As&&2<e&&(As=e),null!==t&&e<Ps&&2<e&&(Ps=e,js=t)}function ol(e){e>Ms&&(Ms=e)}function sl(){for(;null!==Ss;)Ss=cl(Ss)}function ll(){for(;null!==Ss&&!Ii();)Ss=cl(Ss)}function cl(e){var t=ms(e.alternate,e,_s);return e.memoizedProps=e.pendingProps,null===t&&(t=ul(e)),bs.current=null,t}function ul(e){Ss=e;do{var t=Ss.alternate;if(e=Ss.return,0==(2048&Ss.effectTag)){if(t=qo(t,Ss,_s),1===_s||1!==Ss.childExpirationTime){for(var n=0,r=Ss.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Ss.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ss.firstEffect),e.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ss:e.firstEffect=Ss,e.lastEffect=Ss))}else{if(null!==(t=Ko(Ss)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ss.sibling))return t;Ss=e}while(null!==Ss);return Ts===ws&&(Ts=5),null}function hl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fl(e){var t=Bi();return Vi(99,dl.bind(null,e,t)),null}function dl(e,t){do{gl()}while(null!==Bs);if(0!=(48&Es))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=hl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ks&&(Ss=ks=null,_s=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Es;Es|=32,bs.current=null,gn=Gt;var s=dn();if(pn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{l.nodeType,h.nodeType}catch(e){l=null;break e}var f=0,d=-1,p=-1,g=0,m=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==u&&3!==v.nodeType||(d=f+u),v!==h||0!==c&&3!==v.nodeType||(p=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++g===u&&(d=f),y===h&&++m===c&&(p=f),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===d||-1===p?null:{start:d,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:l},Gt=!1,Ls=i;do{try{pl()}catch(e){if(null===Ls)throw Error(o(330));yl(Ls,e),Ls=Ls.nextEffect}}while(null!==Ls);Ls=i;do{try{for(s=e,l=t;null!==Ls;){var w=Ls.effectTag;if(16&w&&Be(Ls.stateNode,""),128&w){var C=Ls.alternate;if(null!==C){var x=C.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&w){case 2:cs(Ls),Ls.effectTag&=-3;break;case 6:cs(Ls),Ls.effectTag&=-3,hs(Ls.alternate,Ls);break;case 1024:Ls.effectTag&=-1025;break;case 1028:Ls.effectTag&=-1025,hs(Ls.alternate,Ls);break;case 4:hs(Ls.alternate,Ls);break;case 8:us(s,u=Ls,l),ss(u)}Ls=Ls.nextEffect}}catch(e){if(null===Ls)throw Error(o(330));yl(Ls,e),Ls=Ls.nextEffect}}while(null!==Ls);if(x=mn,C=dn(),w=x.focusedElem,l=x.selectionRange,C!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==l&&pn(w)&&(C=l.start,void 0===(x=l.end)&&(x=C),"selectionStart"in w?(w.selectionStart=C,w.selectionEnd=Math.min(x,w.value.length)):(x=(C=w.ownerDocument||document)&&C.defaultView||window).getSelection&&(x=x.getSelection(),u=w.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!x.extend&&s>l&&(u=l,l=s,s=u),u=fn(w,s),h=fn(w,l),u&&h&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==h.node||x.focusOffset!==h.offset)&&((C=C.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),s>l?(x.addRange(C),x.extend(h.node,h.offset)):(C.setEnd(h.node,h.offset),x.addRange(C))))),C=[];for(x=w;x=x.parentNode;)1===x.nodeType&&C.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<C.length;w++)(x=C[w]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Gt=!!gn,mn=gn=null,e.current=n,Ls=i;do{try{for(w=e;null!==Ls;){var E=Ls.effectTag;if(36&E&&as(w,Ls.alternate,Ls),128&E){C=void 0;var k=Ls.ref;if(null!==k){var S=Ls.stateNode;switch(Ls.tag){case 5:C=S;break;default:C=S}"function"==typeof k?k(C):k.current=C}}Ls=Ls.nextEffect}}catch(e){if(null===Ls)throw Error(o(330));yl(Ls,e),Ls=Ls.nextEffect}}while(null!==Ls);Ls=null,Ri(),Es=a}else e.current=n;if(Ns)Ns=!1,Bs=e,zs=t;else for(Ls=i;null!==Ls;)t=Ls.nextEffect,Ls.nextEffect=null,Ls=t;if(0===(t=e.firstPendingTime)&&(Fs=null),1073741823===t?e===Hs?Us++:(Us=0,Hs=e):Us=0,"function"==typeof Cl&&Cl(n.stateNode,r),Ks(e),Zs)throw Zs=!1,e=Ds,Ds=null,e;return 0!=(8&Es)||Wi(),null}function pl(){for(;null!==Ls;){var e=Ls.effectTag;0!=(256&e)&&ns(Ls.alternate,Ls),0==(512&e)||Ns||(Ns=!0,Ui(97,(function(){return gl(),null}))),Ls=Ls.nextEffect}}function gl(){if(90!==zs){var e=97<zs?97:zs;return zs=90,Vi(e,ml)}}function ml(){if(null===Bs)return!1;var e=Bs;if(Bs=null,0!=(48&Es))throw Error(o(331));var t=Es;for(Es|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(t){if(null===e)throw Error(o(330));yl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Es=t,Wi(),!0}function vl(e,t,n){la(e,t=ps(e,t=Qo(n,t),1073741823)),null!==(e=$s(e,1073741823))&&Ks(e)}function yl(e,t){if(3===e.tag)vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fs||!Fs.has(r))){la(n,e=gs(n,e=Qo(t,e),1073741823)),null!==(n=$s(n,1073741823))&&Ks(n);break}}n=n.return}}function bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ks===e&&_s===n?Ts===xs||Ts===Cs&&1073741823===As&&Ni()-Rs<500?nl(e,_s):Is=!0:Ml(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Ks(e)))}function wl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ys(t=Gs(),e,null)),null!==(e=$s(e,t))&&Ks(e)}ms=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||fi.current)Po=!0;else{if(r<n){switch(Po=!1,t.tag){case 3:No(t),Oo();break;case 5:if(Ia(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&bi(t);break;case 4:ja(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ci($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ho(e,t,n):(ci(La,1&La.current),null!==(t=Xo(e,t,n))?t.sibling:null);ci(La,1&La.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Yo(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(La,La.current),!r)return null}return Xo(e,t,n)}Po=!1}}else Po=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,hi.current),na(t,n),i=Ya(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&pa(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternalFiber=t,ba(t,r,e,n),t=Fo(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"==typeof e)return Sl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===he)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Zo(null,t,i,e,n);break e;case 1:t=Do(null,t,i,e,n);break e;case 11:t=Mo(null,t,i,e,n);break e;case 14:t=Io(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Zo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(No(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ua(t,r,null,n),(r=t.memoizedState.element)===i)Oo(),t=Xo(e,t,n);else{if((i=t.stateNode.hydrate)&&(Co=Cn(t.stateNode.containerInfo.firstChild),wo=t,i=xo=!0),i)for(n=Sa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else jo(e,t,r,n),Oo();t=t.child}return t;case 5:return Ia(t),null===e&&So(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,yn(r,i)?s=null:null!==a&&yn(r,a)&&(t.effectTag|=16),Lo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(jo(e,t,s,n),t=t.child),t;case 6:return null===e&&So(t),null;case 13:return Ho(e,t,n);case 4:return ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ka(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(ci($i,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=Dr(l,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!fi.current){t=Xo(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&a)){1===l.tag&&((u=sa(n,null)).tag=2,la(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),ta(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.effectTag|=1,jo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Io(e,t,i,a=Xi(i.type,a),r,n);case 15:return Ro(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,na(t,n),va(t,r,i),ba(t,r,i,n),Fo(null,t,r,!0,e,n);case 19:return Yo(e,t,n)}throw Error(o(156,t.tag))};var Cl=null,xl=null;function El(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function kl(e,t,n,r){return new El(e,t,n,r)}function Sl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _l(e,t){var n=e.alternate;return null===n?((n=kl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tl(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Sl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Ol(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=kl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=kl(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case ue:return(e=kl(19,n,t,i)).elementType=ue,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case le:s=11;break e;case he:s=14;break e;case fe:s=16,r=null;break e;case de:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=kl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Ol(e,t,n,r){return(e=kl(7,e,r,t)).expirationTime=n,e}function Al(e,t,n){return(e=kl(6,e,null,t)).expirationTime=n,e}function Pl(e,t,n){return(t=kl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ml(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Il(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Rl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ll(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zl(e,t,n,r){var i=t.current,a=Gs(),s=fa.suspense;a=Ys(a,i,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=yi(n,c,l);break e}}n=l}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=sa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),Xs(i,a),a}function Dl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Nl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function Bl(e,t,n){var r=new jl(e,t,n=null!=n&&!0===n.hydrate),i=kl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,aa(i),e[_n]=r.current,n&&0!==t&&function(e,t){var n=Qe(t);_t.forEach((function(e){pt(e,t,n)})),Tt.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Dl(o);s.call(e)}}Zl(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Bl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Dl(o);l.call(e)}}tl((function(){Zl(t,o,e,i)}))}return Dl(o)}function Ul(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zl(t))throw Error(o(200));return Ul(e,t,null,n)}Bl.prototype.render=function(e){Zl(e,this._internalRoot,null,null)},Bl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zl(null,e,null,(function(){t[_n]=null}))},gt=function(e){if(13===e.tag){var t=Yi(Gs(),150,100);Xs(e,t),Nl(e,t)}},mt=function(e){13===e.tag&&(Xs(e,3),Nl(e,3))},vt=function(e){if(13===e.tag){var t=Gs();Xs(e,t=Ys(t,e,null)),Nl(e,t)}},O=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pn(r);if(!i)throw Error(o(90));Ce(r),Se(r,i)}}}break;case"textarea":Me(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},R=el,L=function(e,t,n,r,i){var a=Es;Es|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Es=a)&&Wi()}},Z=function(){0==(49&Es)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Ll(t,e),Ks(t)})),Wi()}}(),gl())},D=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{0===(Es=n)&&Wi()}};var Wl,Gl,Yl={Events:[On,An,Pn,_,E,Dn,function(e){it(e,Zn)},M,I,Kt,st,gl,{current:!1}]};Gl=(Wl={findFiberByHostInstance:Tn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Cl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},xl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},Wl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Gl?Gl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yl,t.createPortal=Hl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Es))throw Error(o(187));var n=Es;Es|=1;try{return Vi(99,e.bind(null,t))}finally{Es=n,Wi()}},t.hydrate=function(e,t,n){if(!zl(t))throw Error(o(200));return Vl(null,e,t,!0,n)},t.render=function(e,t,n){if(!zl(t))throw Error(o(200));return Vl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zl(e))throw Error(o(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[_n]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Hl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zl(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Vl(e,t,n,!1,r)},t.version="16.14.0"},6116:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(3748)},4126:e=>{"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!=typeof Element;e.exports=function(e,a){try{return function e(a,o){if(a===o)return!0;if(a&&o&&"object"==typeof a&&"object"==typeof o){var s,l,c,u=t(a),h=t(o);if(u&&h){if((l=a.length)!=o.length)return!1;for(s=l;0!=s--;)if(!e(a[s],o[s]))return!1;return!0}if(u!=h)return!1;var f=a instanceof Date,d=o instanceof Date;if(f!=d)return!1;if(f&&d)return a.getTime()==o.getTime();var p=a instanceof RegExp,g=o instanceof RegExp;if(p!=g)return!1;if(p&&g)return a.toString()==o.toString();var m=n(a);if((l=m.length)!==n(o).length)return!1;for(s=l;0!=s--;)if(!r.call(o,m[s]))return!1;if(i&&a instanceof Element&&o instanceof Element)return a===o;for(s=l;0!=s--;)if(!("_owner"===(c=m[s])&&a.$$typeof||e(a[c],o[c])))return!1;return!0}return a!=a&&o!=o}(e,a)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},4005:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function C(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case g:case l:return e;default:return t}}case i:return t}}}function x(e){return C(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||C(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return C(e)===c},t.isContextProvider=function(e){return C(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return C(e)===f},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===m},t.isMemo=function(e){return C(e)===g},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===s},t.isStrictMode=function(e){return C(e)===o},t.isSuspense=function(e){return C(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===s||e===o||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=C},9972:(e,t,n)=>{"use strict";e.exports=n(4005)},6842:(e,t,n)=>{"use strict";n.d(t,{D:()=>fe});var r=n(5466);function i(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function a(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){var t=a(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function s(e){return e instanceof a(e).Element||e instanceof Element}function l(e){return e instanceof a(e).HTMLElement||e instanceof HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof a(e).ShadowRoot||e instanceof ShadowRoot)}function u(e){return e?(e.nodeName||"").toLowerCase():null}function h(e){return((s(e)?e.ownerDocument:e.document)||window.document).documentElement}function f(e){return i(h(e)).left+o(e).scrollLeft}function d(e){return a(e).getComputedStyle(e)}function p(e){var t=d(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function g(e,t,n){void 0===n&&(n=!1);var r,s,c=h(t),d=i(e),g=l(t),m={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(g||!g&&!n)&&(("body"!==u(t)||p(c))&&(m=(r=t)!==a(r)&&l(r)?{scrollLeft:(s=r).scrollLeft,scrollTop:s.scrollTop}:o(r)),l(t)?((v=i(t)).x+=t.clientLeft,v.y+=t.clientTop):c&&(v.x=f(c))),{x:d.left+m.scrollLeft-v.x,y:d.top+m.scrollTop-v.y,width:d.width,height:d.height}}function m(e){var t=i(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function v(e){return"html"===u(e)?e:e.assignedSlot||e.parentNode||(c(e)?e.host:null)||h(e)}function y(e,t){var n;void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(u(t))>=0?t.ownerDocument.body:l(t)&&p(t)?t:e(v(t))}(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=a(r),s=i?[o].concat(o.visualViewport||[],p(r)?r:[]):r,c=t.concat(s);return i?c:c.concat(y(v(s)))}function b(e){return["table","td","th"].indexOf(u(e))>=0}function w(e){return l(e)&&"fixed"!==d(e).position?e.offsetParent:null}function C(e){for(var t=a(e),n=w(e);n&&b(n)&&"static"===d(n).position;)n=w(n);return n&&("html"===u(n)||"body"===u(n)&&"static"===d(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&l(e)&&"fixed"===d(e).position)return null;for(var n=v(e);l(n)&&["html","body"].indexOf(u(n))<0;){var r=d(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var x="top",E="bottom",k="right",S="left",_=[x,E,k,S],T=_.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),O=[].concat(_,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),A=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function P(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(i){n.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var i=t.get(r);i&&e(i)}})),r.push(i)}(e)})),r}var j={placement:"bottom",modifiers:[],strategy:"absolute"};function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function I(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?j:i;return function(e,t,n){void 0===n&&(n=a);var i,o,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},j,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,h={state:l,setOptions:function(n){f(),l.options=Object.assign({},a,l.options,n),l.scrollParents={reference:s(e)?y(e):e.contextElement?y(e.contextElement):[],popper:y(t)};var i=function(e){var t=P(e);return A.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,l.options.modifiers)));return l.orderedModifiers=i.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var a=i({state:l,name:t,instance:h,options:r});c.push(a||function(){})}})),h.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(M(t,n)){l.rects={reference:g(t,C(n),"fixed"===l.options.strategy),popper:m(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var i=l.orderedModifiers[r],a=i.fn,o=i.options,s=void 0===o?{}:o,c=i.name;"function"==typeof a&&(l=a({state:l,options:s,name:c,instance:h})||l)}else l.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){h.forceUpdate(),e(l)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(i())}))}))),o}),destroy:function(){f(),u=!0}};if(!M(e,t))return h;function f(){c.forEach((function(e){return e()})),c=[]}return h.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),h}}var R={passive:!0};const L={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,l=void 0===s||s,c=a(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,R)})),l&&c.addEventListener("resize",n.update,R),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,R)})),l&&c.removeEventListener("resize",n.update,R)}},data:{}};function Z(e){return e.split("-")[0]}function D(e){return e.split("-")[1]}function F(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function N(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?Z(i):null,o=i?D(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case x:t={x:s,y:n.y-r.height};break;case E:t={x:s,y:n.y+n.height};break;case k:t={x:n.x+n.width,y:l};break;case S:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=a?F(a):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case"start":t[c]=t[c]-(n[u]/2-r[u]/2);break;case"end":t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}const B={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=N({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var z=Math.max,V=Math.min,U=Math.round,H={top:"auto",right:"auto",bottom:"auto",left:"auto"};function W(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=!0===u?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:U(U(t*r)/r)||0,y:U(U(n*r)/r)||0}}(o):"function"==typeof u?u(o):o,p=f.x,g=void 0===p?0:p,m=f.y,v=void 0===m?0:m,y=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=S,_=x,T=window;if(c){var O=C(n),A="clientHeight",P="clientWidth";O===a(n)&&"static"!==d(O=h(n)).position&&(A="scrollHeight",P="scrollWidth"),O=O,i===x&&(_=E,v-=O[A]-r.height,v*=l?1:-1),i===S&&(w=k,g-=O[P]-r.width,g*=l?1:-1)}var j,M=Object.assign({position:s},c&&H);return l?Object.assign({},M,((j={})[_]=b?"0":"",j[w]=y?"0":"",j.transform=(T.devicePixelRatio||1)<2?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",j)):Object.assign({},M,((t={})[_]=b?v+"px":"",t[w]=y?g+"px":"",t.transform="",t))}var G={left:"right",right:"left",bottom:"top",top:"bottom"};function Y(e){return e.replace(/left|right|bottom|top/g,(function(e){return G[e]}))}var X={start:"end",end:"start"};function $(e){return e.replace(/start|end/g,(function(e){return X[e]}))}function q(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&c(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function K(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Q(e,t){return"viewport"===t?K(function(e){var t=a(e),n=h(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,l=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,l=r.offsetTop)),{width:i,height:o,x:s+f(e),y:l}}(e)):l(t)?function(e){var t=i(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):K(function(e){var t,n=h(e),r=o(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=z(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=z(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+f(e),c=-r.scrollTop;return"rtl"===d(i||n).direction&&(l+=z(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:l,y:c}}(h(e)))}function J(e,t,n){var r="clippingParents"===t?function(e){var t=y(v(e)),n=["absolute","fixed"].indexOf(d(e).position)>=0&&l(e)?C(e):e;return s(n)?t.filter((function(e){return s(e)&&q(e,n)&&"body"!==u(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=Q(e,n);return t.top=z(r.top,t.top),t.right=V(r.right,t.right),t.bottom=V(r.bottom,t.bottom),t.left=z(r.left,t.left),t}),Q(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ee(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function te(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ne(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,o=n.boundary,l=void 0===o?"clippingParents":o,c=n.rootBoundary,u=void 0===c?"viewport":c,f=n.elementContext,d=void 0===f?"popper":f,p=n.altBoundary,g=void 0!==p&&p,m=n.padding,v=void 0===m?0:m,y=ee("number"!=typeof v?v:te(v,_)),b="popper"===d?"reference":"popper",w=e.elements.reference,C=e.rects.popper,S=e.elements[g?b:d],T=J(s(S)?S:S.contextElement||h(e.elements.popper),l,u),O=i(w),A=N({reference:O,element:C,strategy:"absolute",placement:a}),P=K(Object.assign({},C,A)),j="popper"===d?P:O,M={top:T.top-j.top+y.top,bottom:j.bottom-T.bottom+y.bottom,left:T.left-j.left+y.left,right:j.right-T.right+y.right},I=e.modifiersData.offset;if("popper"===d&&I){var R=I[a];Object.keys(M).forEach((function(e){var t=[k,E].indexOf(e)>=0?1:-1,n=[x,E].indexOf(e)>=0?"y":"x";M[e]+=R[n]*t}))}return M}function re(e,t,n){return z(e,V(t,n))}function ie(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ae(e){return[x,k,E,S].some((function(t){return e[t]>=0}))}var oe=I({defaultModifiers:[L,B,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,c={placement:Z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,W(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,W(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];l(i)&&u(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});l(r)&&u(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=O.reduce((function(e,n){return e[n]=function(e,t,n){var r=Z(e),i=[S,x].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[S,k].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,p=void 0===d||d,g=n.allowedAutoPlacements,m=t.options.placement,v=Z(m),y=l||(v===m||!p?[Y(m)]:function(e){if("auto"===Z(e))return[];var t=Y(e);return[$(e),t,$(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat("auto"===Z(n)?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?O:l,u=D(r),h=u?s?T:T.filter((function(e){return D(e)===u})):_,f=h.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=h);var d=f.reduce((function(t,n){return t[n]=ne(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Z(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:p,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,C=t.rects.popper,A=new Map,P=!0,j=b[0],M=0;M<b.length;M++){var I=b[M],R=Z(I),L="start"===D(I),F=[x,E].indexOf(R)>=0,N=F?"width":"height",B=ne(t,{placement:I,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),z=F?L?k:S:L?E:x;w[N]>C[N]&&(z=Y(z));var V=Y(z),U=[];if(a&&U.push(B[R]<=0),s&&U.push(B[z]<=0,B[V]<=0),U.every((function(e){return e}))){j=I,P=!1;break}A.set(I,U)}if(P)for(var H=function(e){var t=b.find((function(t){var n=A.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},W=p?3:1;W>0;W--){if("break"===H(W))break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,d=void 0===f||f,p=n.tetherOffset,g=void 0===p?0:p,v=ne(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),y=Z(t.placement),b=D(t.placement),w=!b,_=F(y),T="x"===_?"y":"x",O=t.modifiersData.popperOffsets,A=t.rects.reference,P=t.rects.popper,j="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,M={x:0,y:0};if(O){if(a||s){var I="y"===_?x:S,R="y"===_?E:k,L="y"===_?"height":"width",N=O[_],B=O[_]+v[I],U=O[_]-v[R],H=d?-P[L]/2:0,W="start"===b?A[L]:P[L],G="start"===b?-P[L]:-A[L],Y=t.elements.arrow,X=d&&Y?m(Y):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=$[I],K=$[R],Q=re(0,A[L],X[L]),J=w?A[L]/2-H-Q-q-j:W-Q-q-j,ee=w?-A[L]/2+H+Q+K+j:G+Q+K+j,te=t.elements.arrow&&C(t.elements.arrow),ie=te?"y"===_?te.clientTop||0:te.clientLeft||0:0,ae=t.modifiersData.offset?t.modifiersData.offset[t.placement][_]:0,oe=O[_]+J-ae-ie,se=O[_]+ee-ae;if(a){var le=re(d?V(B,oe):B,N,d?z(U,se):U);O[_]=le,M[_]=le-N}if(s){var ce="x"===_?x:S,ue="x"===_?E:k,he=O[T],fe=he+v[ce],de=he-v[ue],pe=re(d?V(fe,oe):fe,he,d?z(de,se):de);O[T]=pe,M[T]=pe-he}}t.modifiersData[r]=M}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Z(n.placement),l=F(s),c=[S,k].indexOf(s)>=0?"height":"width";if(a&&o){var u=function(e,t){return ee("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:te(e,_))}(i.padding,n),h=m(a),f="y"===l?x:S,d="y"===l?E:k,p=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],g=o[l]-n.rects.reference[l],v=C(a),y=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,b=p/2-g/2,w=u[f],T=y-h[c]-u[d],O=y/2-h[c]/2+b,A=re(w,O,T),P=l;n.modifiersData[r]=((t={})[P]=A,t.centerOffset=A-O,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&q(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=ne(t,{elementContext:"reference"}),s=ne(t,{altBoundary:!0}),l=ie(o,r),c=ie(s,i,a),u=ae(l),h=ae(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}),se=n(8855),le=n.n(se),ce=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},ue="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,he=[],fe=function(e,t,n){void 0===n&&(n={});var i=r.useRef(null),a={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||he},o=r.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=o[0],l=o[1],c=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);l({styles:ce(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ce(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),u=r.useMemo((function(){var e={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[c,{name:"applyStyles",enabled:!1}])};return le()(i.current,e)?i.current||e:(i.current=e,e)}),[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,c]),h=r.useRef();return ue((function(){h.current&&h.current.setOptions(u)}),[u]),ue((function(){if(null!=e&&null!=t){var r=(n.createPopper||oe)(e,t,u);return h.current=r,function(){r.destroy(),h.current=null}}}),[e,t,n.createPopper]),{state:h.current?h.current.state:null,styles:s.styles,attributes:s.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}}},8855:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,a){try{return function e(a,o){if(a===o)return!0;if(a&&o&&"object"==typeof a&&"object"==typeof o){if(a.constructor!==o.constructor)return!1;var s,l,c,u;if(Array.isArray(a)){if((s=a.length)!=o.length)return!1;for(l=s;0!=l--;)if(!e(a[l],o[l]))return!1;return!0}if(n&&a instanceof Map&&o instanceof Map){if(a.size!==o.size)return!1;for(u=a.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=a.entries();!(l=u.next()).done;)if(!e(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&a instanceof Set&&o instanceof Set){if(a.size!==o.size)return!1;for(u=a.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(o)){if((s=a.length)!=o.length)return!1;for(l=s;0!=l--;)if(a[l]!==o[l])return!1;return!0}if(a.constructor===RegExp)return a.source===o.source&&a.flags===o.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===o.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===o.toString();if((s=(c=Object.keys(a)).length)!==Object.keys(o).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&a instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!a.$$typeof)&&!e(a[c[l]],o[c[l]]))return!1;return!0}return a!=a&&o!=o}(e,a)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},5110:(e,t,n)=>{"use strict";n.d(t,{zt:()=>u,$j:()=>N});var r=n(5466),i=(n(3074),r.createContext(null));var a=function(e){e()},o=function(){return a},s={notify:function(){}};var l=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=o(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}(),c="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;const u=function(e){var t=e.store,n=e.context,a=e.children,o=(0,r.useMemo)((function(){var e=new l(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);c((function(){var e=o.subscription;return e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,s]);var u=n||i;return r.createElement(u.Provider,{value:o},a)};var h=n(3400),f=n(1198),d=n(7773),p=n.n(d),g=n(9972),m=[],v=[null,null];function y(e,t){var n=e[1];return[t.payload,n+1]}function b(e,t,n){c((function(){return e.apply(void 0,t)}),n)}function w(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function C(e,t,n,r,i,a,o,s,l,c){if(e){var u=!1,h=null,f=function(){if(!u){var e,n,f=t.getState();try{e=r(f,i.current)}catch(e){n=e,h=e}n||(h=null),e===a.current?o.current||l():(a.current=e,s.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}var x=function(){return[null,0]};function E(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,o=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,s=n.methodName,c=void 0===s?"connectAdvanced":s,u=n.renderCountProp,d=void 0===u?void 0:u,E=n.shouldHandleStateChanges,k=void 0===E||E,S=n.storeKey,_=void 0===S?"store":S,T=(n.withRef,n.forwardRef),O=void 0!==T&&T,A=n.context,P=void 0===A?i:A,j=(0,f.Z)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),M=P;return function(t){var n=t.displayName||t.name||"Component",i=o(n),a=(0,h.Z)({},j,{getDisplayName:o,methodName:c,renderCountProp:d,shouldHandleStateChanges:k,storeKey:_,displayName:i,wrappedComponentName:n,WrappedComponent:t}),s=j.pure;var u=s?r.useMemo:function(e){return e()};function E(n){var i=(0,r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,f.Z)(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),o=i[0],s=i[1],c=i[2],d=(0,r.useMemo)((function(){return o&&o.Consumer&&(0,g.isContextConsumer)(r.createElement(o.Consumer,null))?o:M}),[o,M]),p=(0,r.useContext)(d),E=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(p)&&Boolean(p.store);var S=E?n.store:p.store,_=(0,r.useMemo)((function(){return function(t){return e(t.dispatch,a)}(S)}),[S]),T=(0,r.useMemo)((function(){if(!k)return v;var e=new l(S,E?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[S,E,p]),O=T[0],A=T[1],P=(0,r.useMemo)((function(){return E?p:(0,h.Z)({},p,{subscription:O})}),[E,p,O]),j=(0,r.useReducer)(y,m,x),I=j[0][0],R=j[1];if(I&&I.error)throw I.error;var L=(0,r.useRef)(),Z=(0,r.useRef)(c),D=(0,r.useRef)(),F=(0,r.useRef)(!1),N=u((function(){return D.current&&c===Z.current?D.current:_(S.getState(),c)}),[S,I,c]);b(w,[Z,L,F,c,N,D,A]),b(C,[k,S,O,_,Z,L,F,D,A,R],[S,O,_]);var B=(0,r.useMemo)((function(){return r.createElement(t,(0,h.Z)({},N,{ref:s}))}),[s,t,N]);return(0,r.useMemo)((function(){return k?r.createElement(d.Provider,{value:P},B):B}),[d,B,P])}var S=s?r.memo(E):E;if(S.WrappedComponent=t,S.displayName=E.displayName=i,O){var T=r.forwardRef((function(e,t){return r.createElement(S,(0,h.Z)({},e,{reactReduxForwardedRef:t}))}));return T.displayName=i,T.WrappedComponent=t,p()(T,t)}return p()(S,t)}}function k(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function S(e,t){if(k(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!k(e[n[i]],t[n[i]]))return!1;return!0}function _(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function T(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function O(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=T(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=T(i),i=r(t,n)),i},r}}const A=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:_((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?_((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"==typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const P=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:_((function(){return{}}))}];function j(e,t,n){return(0,h.Z)({},n,e,t)}const M=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var l=e(t,n,s);return o?i&&a(l,r)||(r=l):(o=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return j}}];function I(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function R(e,t,n,r,i){var a,o,s,l,c,u=i.areStatesEqual,h=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1;function p(i,d){var p,g,m=!h(d,o),v=!u(i,a);return a=i,o=d,m&&v?(s=e(a,o),t.dependsOnOwnProps&&(l=t(r,o)),c=n(s,l,o)):m?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(l=t(r,o)),c=n(s,l,o)):v?(p=e(a,o),g=!f(p,s),s=p,g&&(c=n(s,l,o)),c):c}return function(i,u){return d?p(i,u):(s=e(a=i,o=u),l=t(r,o),c=n(s,l,o),d=!0,c)}}function L(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=(0,f.Z)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),l=i(e,a);return(a.pure?R:I)(o,s,l,e,a)}function Z(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function D(e,t){return e===t}function F(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?E:n,i=t.mapStateToPropsFactories,a=void 0===i?P:i,o=t.mapDispatchToPropsFactories,s=void 0===o?A:o,l=t.mergePropsFactories,c=void 0===l?M:l,u=t.selectorFactory,d=void 0===u?L:u;return function(e,t,n,i){void 0===i&&(i={});var o=i,l=o.pure,u=void 0===l||l,p=o.areStatesEqual,g=void 0===p?D:p,m=o.areOwnPropsEqual,v=void 0===m?S:m,y=o.areStatePropsEqual,b=void 0===y?S:y,w=o.areMergedPropsEqual,C=void 0===w?S:w,x=(0,f.Z)(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=Z(e,a,"mapStateToProps"),k=Z(t,s,"mapDispatchToProps"),_=Z(n,c,"mergeProps");return r(d,(0,h.Z)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:k,initMergeProps:_,pure:u,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:C},x))}}const N=F();var B,z=n(6116);B=z.unstable_batchedUpdates,a=B},104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(3400),i=n(1198),a=n(3713);n(3074);function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(5466),l=n(6116);const c=!1,u=s.createContext(null);var h=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}(0,a.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[l.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:"entered"},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:"entering"},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:l.findDOMNode(this);t&&!c?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(u.Provider,{value:null},"function"==typeof n?n(e,r):s.cloneElement(s.Children.only(n),r))},t}(s.Component);function f(){}h.contextType=u,h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},h.UNMOUNTED="unmounted",h.EXITED="exited",h.ENTERING="entering",h.ENTERED="entered",h.EXITING="exiting";const d=h;var p=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=o(n.className,r):n.setAttribute("class",o(n.className&&n.className.baseVal||"",r)));var n,r}))},g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,a.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&p(e,r),i&&p(e,i),a&&p(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return s.createElement(d,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);g.defaultProps={classNames:""},g.propTypes={};const m=g},6751:(e,t,n)=>{"use strict";var r=n(7347),i="function"==typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function C(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=w.prototype;var E=x.prototype=new C;E.constructor=x,r(E,w.prototype),E.isPureReactComponent=!0;var k={current:null},S=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&!_.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:k.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,P=[];function j(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function I(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case a:case o:l=!0}}if(l)return r(i,t,""===n?"."+R(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+R(s=t[c],c);l+=e(s,u,r,i)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=m&&t[m]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+R(s,c++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function Z(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?D(e,r,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function D(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(A,"$&/")+"/"),I(e,Z,t=j(t,a,r,i)),M(t)}var F={current:null};function N(){var e=F.current;if(null===e)throw Error(v(321));return e}var B={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return D(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;I(e,L,t=j(null,null,t,n)),M(t)},count:function(e){return I(e,(function(){return null}),null)},toArray:function(e){var t=[];return D(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=x,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var i=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!_.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="16.14.0"},5466:(e,t,n)=>{"use strict";e.exports=n(6751)},8794:(e,t)=>{"use strict";var n,r,i,a,o;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,l=null,c=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(c,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(c,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,f=window.Date,d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var m=f.now();t.unstable_now=function(){return f.now()-m}}var v=!1,y=null,b=-1,w=5,C=0;a=function(){return t.unstable_now()>=C},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,E=x.port2;x.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();C=e+w;try{y(!0,e)?E.postMessage(null):(v=!1,y=null)}catch(e){throw E.postMessage(null),e}}else v=!1},n=function(e){y=e,v||(v=!0,E.postMessage(null))},r=function(e,n){b=d((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],A=[],P=1,j=null,M=3,I=!1,R=!1,L=!1;function Z(e){for(var t=S(A);null!==t;){if(null===t.callback)_(A);else{if(!(t.startTime<=e))break;_(A),t.sortIndex=t.expirationTime,k(O,t)}t=S(A)}}function D(e){if(L=!1,Z(e),!R)if(null!==S(O))R=!0,n(F);else{var t=S(A);null!==t&&r(D,t.startTime-e)}}function F(e,n){R=!1,L&&(L=!1,i()),I=!0;var o=M;try{for(Z(n),j=S(O);null!==j&&(!(j.expirationTime>n)||e&&!a());){var s=j.callback;if(null!==s){j.callback=null,M=j.priorityLevel;var l=s(j.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?j.callback=l:j===S(O)&&_(O),Z(n)}else _(O);j=S(O)}if(null!==j)var c=!0;else{var u=S(A);null!==u&&r(D,u.startTime-n),c=!1}return c}finally{j=null,M=o,I=!1}}function N(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||I||(R=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return S(O)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();if("object"==typeof o&&null!==o){var l=o.delay;l="number"==typeof l&&0<l?s+l:s,o="number"==typeof o.timeout?o.timeout:N(e)}else o=N(e),l=s;return e={id:P++,callback:a,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(e.sortIndex=l,k(A,e),null===S(O)&&e===S(A)&&(L?i():L=!0,r(D,l-s))):(e.sortIndex=o,k(O,e),R||I||(R=!0,n(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();Z(e);var n=S(O);return n!==j&&null!==j&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<j.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},7767:(e,t,n)=>{"use strict";e.exports=n(8794)},2807:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!s(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}},5698:function(e){var t;t=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"\'","’":"\'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial"}'),t=JSON.parse('{"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"}}');function n(n,r){if("string"!=typeof n)throw new Error("slugify: string argument expected");var i=t[(r="string"==typeof r?{replacement:r}:r||{}).locale]||{},a=void 0===r.replacement?"-":r.replacement,o=n.normalize().split("").reduce((function(t,n){return t+(i[n]||e[n]||(n===a?" ":n)).replace(r.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"");return r.strict&&(o=o.replace(/[^A-Za-z0-9\s]/g,"")),o=o.trim().replace(/\s+/g,a),r.lower&&(o=o.toLowerCase()),o}return n.extend=function(t){Object.assign(e,t)},n},e.exports=t(),e.exports.default=t()},7860:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Me});var r=n(9972),i=n(5466),a=n(2807),o=n.n(a);const s=function(e){function t(e,t,r){var i=t.trim().split(p);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=n(e,t[s],r).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[l++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,a){var o=e+";",s=2*t+3*n+4*a;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===A||2===A&&i(l,1)?"-webkit-"+l+l:l}if(0===A||2===A&&!i(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return f.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(b,"tb");break;case 232:l=o.replace(b,"tb-rl");break;case 220:l=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,a).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+a&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+o}return o}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),I(2!==t?r:r.replace(E,"$1"),n,t)}function a(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(C," or ($1)").substring(4):"("+t+")"}function o(e,t,n,r,i,a,o,s,c,u){for(var h,f=0,d=t;f<M;++f)switch(h=j[f].call(l,e,d,n,r,i,a,o,s,c,u)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(I=null,e?"function"!=typeof e?A=1:(A=2,I=e):A=0),s}function l(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<M){var l=o(-1,n,s,s,T,_,0,0,0,0);void 0!==l&&"string"==typeof l&&(n=l)}var h=function e(n,s,l,h,f){for(var d,p,g,b,C,x=0,E=0,k=0,S=0,j=0,I=0,L=g=d=0,Z=0,D=0,F=0,N=0,B=l.length,z=B-1,V="",U="",H="",W="";Z<B;){if(p=l.charCodeAt(Z),Z===z&&0!==E+S+k+x&&(0!==E&&(p=47===E?10:47),S=k=x=0,B++,z++),0===E+S+k+x){if(Z===z&&(0<D&&(V=V.replace(u,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(Z)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),g=1,N=++Z;Z<B;){switch(p=l.charCodeAt(Z)){case 123:g++;break;case 125:g--;break;case 47:switch(p=l.charCodeAt(Z+1)){case 42:case 47:e:{for(L=Z+1;L<z;++L)switch(l.charCodeAt(L)){case 47:if(42===p&&42===l.charCodeAt(L-1)&&Z+2!==L){Z=L+1;break e}break;case 10:if(47===p){Z=L+1;break e}}Z=L}}break;case 91:p++;case 40:p++;case 34:case 39:for(;Z++<z&&l.charCodeAt(Z)!==p;);}if(0===g)break;Z++}switch(g=l.substring(N,Z),0===d&&(d=(V=V.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<D&&(V=V.replace(u,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:D=s;break;default:D=P}if(N=(g=e(s,D,g,p,f+1)).length,0<M&&(C=o(3,g,D=t(P,V,F),s,T,_,N,p,f,h),V=D.join(""),void 0!==C&&0===(N=(g=C.trim()).length)&&(p=0,g="")),0<N)switch(p){case 115:V=V.replace(w,a);case 100:case 109:case 45:g=V+"{"+g+"}";break;case 107:g=(V=V.replace(m,"$1 $2"))+"{"+g+"}",g=1===A||2===A&&i("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=V+g,112===h&&(U+=g,g="")}else g="";break;default:g=e(s,t(s,V,F),g,h,f+1)}H+=g,g=F=D=L=d=0,V="",p=l.charCodeAt(++Z);break;case 125:case 59:if(1<(N=(V=(0<D?V.replace(u,""):V).trim()).length))switch(0===L&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(N=(V=V.replace(" ",":")).length),0<M&&void 0!==(C=o(1,V,s,n,T,_,U.length,h,f,h))&&0===(N=(V=C.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=V+l.charAt(Z);break}default:58!==V.charCodeAt(N-1)&&(U+=r(V,d,p,V.charCodeAt(2)))}F=D=L=d=0,V="",p=l.charCodeAt(++Z)}}switch(p){case 13:case 10:47===E?E=0:0===1+d&&107!==h&&0<V.length&&(D=1,V+="\0"),0<M*R&&o(0,V,s,n,T,_,U.length,h,f,h),_=1,T++;break;case 59:case 125:if(0===E+S+k+x){_++;break}default:switch(_++,b=l.charAt(Z),p){case 9:case 32:if(0===S+x+E)switch(j){case 44:case 58:case 9:case 32:b="";break;default:32!==p&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===S+E+x&&(D=F=1,b="\f"+b);break;case 108:if(0===S+E+x+O&&0<L)switch(Z-L){case 2:112===j&&58===l.charCodeAt(Z-3)&&(O=j);case 8:111===I&&(O=I)}break;case 58:0===S+E+x&&(L=Z);break;case 44:0===E+k+S+x&&(D=1,b+="\r");break;case 34:case 39:0===E&&(S=S===p?0:0===S?p:S);break;case 91:0===S+E+k&&x++;break;case 93:0===S+E+k&&x--;break;case 41:0===S+E+x&&k--;break;case 40:if(0===S+E+x){if(0===d)switch(2*j+3*I){case 533:break;default:d=1}k++}break;case 64:0===E+k+S+x+L+g&&(g=1);break;case 42:case 47:if(!(0<S+x+k))switch(E){case 0:switch(2*p+3*l.charCodeAt(Z+1)){case 235:E=47;break;case 220:N=Z,E=42}break;case 42:47===p&&42===j&&N+2!==Z&&(33===l.charCodeAt(N+2)&&(U+=l.substring(N,Z+1)),b="",E=0)}}0===E&&(V+=b)}I=j,j=p,Z++}if(0<(N=U.length)){if(D=s,0<M&&(void 0!==(C=o(2,U,D,n,T,_,N,h,f,h))&&0===(U=C).length))return W+U+H;if(U=D.join(",")+"{"+U+"}",0!=A*O){switch(2!==A||i(U,2)||(O=0),O){case 111:U=U.replace(y,":-moz-$1")+U;break;case 112:U=U.replace(v,"::-webkit-input-$1")+U.replace(v,"::-moz-$1")+U.replace(v,":-ms-input-$1")+U}O=0}}return W+U+H}(P,s,n,0,0);return 0<M&&(void 0!==(l=o(-2,h,s,s,T,_,h.length,0,0,0))&&(h=l)),"",O=0,_=T=1,h}var c=/^\0+/g,u=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,d=/([,: ])(transform)/g,p=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,C=/([\s\S]*?);/g,x=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,_=1,T=1,O=0,A=1,P=[],j=[],M=0,I=null,R=0;return l.use=function e(t){switch(t){case void 0:case null:M=j.length=0;break;default:if("function"==typeof t)j[M++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else R=0|!!t}return e},l.set=s,void 0!==e&&s(e),l};const l={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const u=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var h=n(7773),f=n.n(h),d=n(2790);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,r.typeOf)(e)},v=Object.freeze([]),y=Object.freeze({});function b(e){return"function"==typeof e}function w(e){return e.displayName||e.name||"Component"}function C(e){return e&&"string"==typeof e.styledComponentId}var x=void 0!==d&&(d.env.REACT_APP_SC_ATTR||d.env.SC_ATTR)||"data-styled",E="undefined"!=typeof window&&"HTMLElement"in window,k=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==d&&void 0!==d.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==d.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==d.env.REACT_APP_SC_DISABLE_SPEEDY&&d.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==d&&void 0!==d.env.SC_DISABLE_SPEEDY&&""!==d.env.SC_DISABLE_SPEEDY&&("false"!==d.env.SC_DISABLE_SPEEDY&&d.env.SC_DISABLE_SPEEDY));function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var _=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&S(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),T=new Map,O=new Map,A=1,P=function(e){if(T.has(e))return T.get(e);for(;O.has(A);)A++;var t=A++;return T.set(e,t),O.set(t,e),t},j=function(e){return O.get(e)},M=function(e,t){T.set(e,t),O.set(t,e)},I="style["+x+'][data-styled-version="5.3.0"]',R=new RegExp("^"+x+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Z=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(R);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(M(c,l),L(e,c,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},D=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(x))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(x,"active"),r.setAttribute("data-styled-version","5.3.0");var o=D();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},N=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}S(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),B=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),z=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),V=E,U={isServer:!E,useCSSOMInjection:!k},H=function(){function e(e,t,n){void 0===e&&(e=y),void 0===t&&(t={}),this.options=p({},U,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&E&&V&&(V=!1,function(e){for(var t=document.querySelectorAll(I),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(x)&&(Z(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return P(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(p({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new z(i):r?new N(i):new B(i),new _(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(P(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(P(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(P(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=j(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(void 0!==o&&0!==s.length){var l=x+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),W=/(a)(d)/gi,G=function(e){return String.fromCharCode(e+(e>25?39:97))};function Y(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=G(t%52)+n;return(G(t%52)+n).replace(W,"$1-$2")}var X=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},$=function(e){return X(5381,e)};function q(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(b(n)&&!C(n))return!1}return!0}var K=$("5.3.0"),Q=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&q(e),this.componentId=t,this.baseHash=X(K,t),this.baseStyle=n,H.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=me(this.rules,e,t,n).join(""),o=Y(X(this.baseHash,a.length)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,c=X(this.baseHash,n.hash),u="",h=0;h<l;h++){var f=this.rules[h];if("string"==typeof f)u+=f;else if(f){var d=me(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=X(c,p+h),u+=p}}if(u){var g=Y(c>>>0);if(!t.hasNameForId(r,g)){var m=n(u,"."+g,void 0,r);t.insertRules(r,g,m)}i.push(g)}}return i.join(" ")},e}(),J=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,a=void 0===e?y:e,o=a.options,l=void 0===o?y:o,c=a.plugins,u=void 0===c?v:c,h=new s(l),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,l,c,u,h){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,a){return 0===r&&-1!==ee.indexOf(a[n.length])||a.match(i)?e:"."+t};function g(e,a,o,s){void 0===s&&(s="&");var l=e.replace(J,""),c=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(o||!a?"":a,c)}return h.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),g.hash=u.length?u.reduce((function(e,t){return t.name||S(15),X(e,t.name)}),5381).toString():"",g}var ne=i.createContext(),re=(ne.Consumer,i.createContext()),ie=(re.Consumer,new H),ae=te();function oe(){return(0,i.useContext)(ne)||ie}function se(){return(0,i.useContext)(re)||ae}function le(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=oe(),s=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=(0,i.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){o()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(ne.Provider,{value:s},i.createElement(re.Provider,{value:l},e.children))}var ce=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ae);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return S(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ae),this.name+e.hash},e}(),ue=/([A-Z])/,he=/([A-Z])/g,fe=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return ue.test(e)?e.replace(he,de).replace(fe,"-ms-"):e}var ge=function(e){return null==e||!1===e||""===e};function me(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=me(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ge(e)?"":C(e)?"."+e.styledComponentId:b(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:me(e(t),t,n,r):e instanceof ce?n?(e.inject(n,r),e.getName(r)):e:m(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ge(t[o])&&(m(t[o])?a.push.apply(a,e(t[o],o)):b(t[o])?a.push(pe(o)+":",t[o],";"):a.push(pe(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in l?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var c}function ve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return b(e)||m(e)?me(g(v,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:me(g(e,n))}new Set;var ye=function(e,t,n){return void 0===n&&(n=y),e.theme!==n.theme&&e.theme||t||n.theme},be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function Ce(e){return e.replace(be,"-").replace(we,"")}var xe=function(e){return Y($(e)>>>0)};function Ee(e){return"string"==typeof e&&!0}var ke=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Se=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function _e(e,t,n){var r=e[n];ke(t)&&ke(r)?Te(r,t):e[n]=t}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(ke(o))for(var s in o)Se(s)&&_e(e,o[s],s)}return e}var Oe=i.createContext();Oe.Consumer;var Ae={};function Pe(e,t,n){var r=C(e),a=!Ee(e),o=t.attrs,s=void 0===o?v:o,l=t.componentId,c=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Ce(e);Ae[n]=(Ae[n]||0)+1;var r=n+"-"+xe("5.3.0"+n+Ae[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,h=t.displayName,d=void 0===h?function(e){return Ee(e)?"styled."+e:"Styled("+w(e)+")"}(e):h,g=t.displayName&&t.componentId?Ce(t.displayName)+"-"+t.componentId:t.componentId||c,m=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,x=t.shouldForwardProp;r&&e.shouldForwardProp&&(x=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var E,k=new Q(n,g,r?e.componentStyle:void 0),S=k.isStatic&&0===s.length,_=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,c=e.shouldForwardProp,h=e.styledComponentId,f=e.target,d=function(e,t,n){void 0===e&&(e=y);var r=p({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in b(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(ye(t,(0,i.useContext)(Oe),s)||y,t,a),g=d[0],m=d[1],v=function(e,t,n,r){var i=oe(),a=se();return t?e.generateAndInjectStyles(y,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,g),w=n,C=m.$as||t.$as||m.as||t.as||f,x=Ee(C),E=m!==t?p({},t,{},m):t,k={};for(var S in E)"$"!==S[0]&&"as"!==S&&("forwardedAs"===S?k.as=E[S]:(c?c(S,u,C):!x||u(S))&&(k[S]=E[S]));return t.style&&m.style!==t.style&&(k.style=p({},t.style,{},m.style)),k.className=Array.prototype.concat(l,h,v!==h?v:null,t.className,m.className).filter(Boolean).join(" "),k.ref=w,(0,i.createElement)(C,k)}(E,e,t,S)};return _.displayName=d,(E=i.forwardRef(_)).attrs=m,E.componentStyle=k,E.displayName=d,E.shouldForwardProp=x,E.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):v,E.styledComponentId=g,E.target=r?e.target:e,E.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Ee(e)?e:Ce(w(e)));return Pe(e,p({},i,{attrs:m,componentId:a}),n)},Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Te({},e.defaultProps,t):t}}),E.toString=function(){return"."+E.styledComponentId},a&&f()(E,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),E}var je=function(e){return function e(t,n,i){if(void 0===i&&(i=y),!(0,r.isValidElementType)(n))return S(1,String(n));var a=function(){return t(n,i,ve.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,p({},i,{},r))},a.attrs=function(r){return e(t,n,p({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(Pe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){je[e]=je(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=q(e),H.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(me(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&H.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=D();return"<style "+[n&&'nonce="'+n+'"',x+'="true"','data-styled-version="5.3.0"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?S(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return S(2);var n=((t={})[x]="",t["data-styled-version"]="5.3.0",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=D();return r&&(n.nonce=r),[i.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new H({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?S(2):i.createElement(le,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return S(3)}}();const Me=je},9588:(e,t,n)=>{var r=n(9683);e.exports=function(e){return r(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},9111:e=>{e.exports=function(e){return t.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():r.test(e)?function(e){return e.replace(a,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,n=/(_|-|\.|:)/,r=/([a-z][A-Z]|[A-Z][a-z])/;var i=/[\W_]+(.|$)/g;var a=/(.)([A-Z]+)/g},9683:(e,t,n)=>{var r=n(9111);e.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},9416:(e,t,n)=>{var r=n(2790),i=void 0!==r&&r.pid?r.pid.toString(36):"";function a(){var e=Date.now(),t=a.last||e;return a.last=e>t?e:t+1}e.exports=e.exports.default=function(e,t){return(e||"")+""+i+a().toString(36)+(t||"")},e.exports.process=function(e,t){return(e||"")+i+a().toString(36)+(t||"")},e.exports.time=function(e,t){return(e||"")+a().toString(36)+(t||"")}},5155:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},3370:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},3254:(e,t,n)=>{var r=n(2790),i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<a;l=r[++n])g(l)||!w(l)?o+=" "+l:o+=" "+s(l);return o},t.deprecate=function(e,i){if(y(n.g.process))return function(){return t.deprecate(e,i).apply(this,arguments)};if(!0===r.noDeprecation)return e;var a=!1;return function(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}};var a,o={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),u(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=u(e,i,r)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),x(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(E(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return h(n)}var c,w="",k=!1,S=["{","}"];(d(n)&&(k=!0,S=["[","]"]),E(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),C(n)&&(w=" "+Date.prototype.toUTCString.call(n)),x(n)&&(w=" "+h(n)),0!==o.length||k&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=k?function(e,t,n,r,i){for(var a=[],o=0,s=t.length;o<s;++o)O(t,String(o))?a.push(f(e,t,n,r,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(f(e,t,n,r,i,!0))})),a}(e,n,r,s,o):o.map((function(t){return f(e,n,r,s,t,k)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,S)):S[0]+w+S[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),O(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===k(e)}function w(e){return"object"==typeof e&&null!==e}function C(e){return w(e)&&"[object Date]"===k(e)}function x(e){return w(e)&&("[object Error]"===k(e)||e instanceof Error)}function E(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(a)&&(a=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var n=r.pid;o[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else o[e]=function(){};return o[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=C,t.isError=x,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(3370);var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),_[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n(5155),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},5313:(e,t,n)=>{var r;!function(){function i(e,t,n){return e.call.apply(e.bind,arguments)}function a(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function o(e,t,n){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:a).apply(null,arguments)}var s=Date.now||function(){return+new Date};function l(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var c=!!window.FontFace;function u(e,t,n,r){if(t=e.c.createElement(t),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r&&t.appendChild(e.c.createTextNode(r)),t}function h(e,t,n){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function f(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e,t,n){t=t||[],n=n||[];for(var r=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var a=!1,o=0;o<r.length;o+=1)if(t[i]===r[o]){a=!0;break}a||r.push(t[i])}for(t=[],i=0;i<r.length;i+=1){for(a=!1,o=0;o<n.length;o+=1)if(r[i]===n[o]){a=!0;break}a||t.push(r[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(e,t){for(var n=e.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==t)return!0;return!1}function g(e,t,n){function r(){s&&i&&a&&(s(o),s=null)}t=u(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,a=!0,o=null,s=n||null;c?(t.onload=function(){i=!0,r()},t.onerror=function(){i=!0,o=Error("Stylesheet failed to load"),r()}):setTimeout((function(){i=!0,r()}),0),h(e,"head",t)}function m(e,t,n,r){var i=e.c.getElementsByTagName("head")[0];if(i){var a=u(e,"script",{src:t}),o=!1;return a.onload=a.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,n&&n(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&i.removeChild(a))},i.appendChild(a),setTimeout((function(){o||(o=!0,n&&n(Error("Script load timeout")))}),r||5e3),a}return null}function v(){this.a=0,this.c=null}function y(e){return e.a++,function(){e.a--,w(e)}}function b(e,t){e.c=t,w(e)}function w(e){0==e.a&&e.c&&(e.c(),e.c=null)}function C(e){this.a=e||"-"}function x(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function E(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var r=e[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?t.push("'"+r+"'"):t.push(r)}return t.join(",")}function k(e){return e.a+e.f}function S(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function _(e){var t=4,n="n",r=null;return e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10)))),n+t}function T(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new C("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function O(e){if(e.g){var t=p(e.f,e.a.c("wf","active")),n=[],r=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),d(e.f,n,r)}A(e,"inactive")}function A(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,k(n)):e.h[t]())}function P(){this.c={}}function j(e,t){this.c=e,this.f=t,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function M(e){h(e.c,"body",e.a)}function I(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+E(e.c)+";font-style:"+S(e)+";font-weight:"+e.f+"00;"}function R(e,t,n,r,i,a){this.g=e,this.j=t,this.a=r,this.c=n,this.f=i||3e3,this.h=a||void 0}function L(e,t,n,r,i,a,o){this.v=e,this.B=t,this.c=n,this.a=r,this.s=o||"BESbswy",this.f={},this.w=i||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new j(this.c,this.s),this.h=new j(this.c,this.s),this.j=new j(this.c,this.s),this.m=new j(this.c,this.s),e=I(e=new x(this.a.c+",serif",k(this.a))),this.g.a.style.cssText=e,e=I(e=new x(this.a.c+",sans-serif",k(this.a))),this.h.a.style.cssText=e,e=I(e=new x("serif",k(this.a))),this.j.a.style.cssText=e,e=I(e=new x("sans-serif",k(this.a))),this.m.a.style.cssText=e,M(this.g),M(this.h),M(this.j),M(this.m)}C.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},R.prototype.start=function(){var e=this.c.o.document,t=this,n=s(),r=new Promise((function(r,i){!function a(){s()-n>=t.f?i():e.fonts.load(function(e){return S(e)+" "+e.f+"00 300px "+E(e.c)}(t.a),t.h).then((function(e){1<=e.length?r():setTimeout(a,25)}),(function(){i()}))}()})),i=null,a=new Promise((function(e,n){i=setTimeout(n,t.f)}));Promise.race([a,r]).then((function(){i&&(clearTimeout(i),i=null),t.g(t.a)}),(function(){t.j(t.a)}))};var Z={D:"serif",C:"sans-serif"},D=null;function F(){if(null===D){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return D}function N(e,t,n){for(var r in Z)if(Z.hasOwnProperty(r)&&t===e.f[Z[r]]&&n===e.f[Z[r]])return!0;return!1}function B(e){var t,n=e.g.a.offsetWidth,r=e.h.a.offsetWidth;(t=n===e.f.serif&&r===e.f["sans-serif"])||(t=F()&&N(e,n,r)),t?s()-e.A>=e.w?F()&&N(e,n,r)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?z(e,e.v):z(e,e.B):function(e){setTimeout(o((function(){B(this)}),e),50)}(e):z(e,e.v)}function z(e,t){setTimeout(o((function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),t(this.a)}),e),0)}function V(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}L.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),B(this)};var U=null;function H(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&d(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),A(e,"active")):O(e.a))}function W(e){this.j=e,this.a=new P,this.h=0,this.f=this.g=!0}function G(e,t,n,r,i){var a=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=i||null,s=r||{};if(0===n.length&&a)O(t.a);else{t.f+=n.length,a&&(t.j=a);var l,c=[];for(l=0;l<n.length;l++){var u=n[l],h=s[u.c],f=t.a,p=u;if(f.g&&d(f.f,[f.a.c("wf",p.c,k(p).toString(),"loading")]),A(f,"fontloading",p),f=null,null===U)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);U=p?42<parseInt(p[1],10):!g}else U=!1;f=U?new R(o(t.g,t),o(t.h,t),t.c,u,t.s,h):new L(o(t.g,t),o(t.h,t),t.c,u,t.s,e,h),c.push(f)}for(l=0;l<c.length;l++)c[l].start()}}),0)}function Y(e,t){this.c=e,this.a=t}function X(e,t){this.c=e,this.a=t}function $(e,t){this.c=e||q,this.a=[],this.f=[],this.g=t||""}V.prototype.g=function(e){var t=this.a;t.g&&d(t.f,[t.a.c("wf",e.c,k(e).toString(),"active")],[t.a.c("wf",e.c,k(e).toString(),"loading"),t.a.c("wf",e.c,k(e).toString(),"inactive")]),A(t,"fontactive",e),this.m=!0,H(this)},V.prototype.h=function(e){var t=this.a;if(t.g){var n=p(t.f,t.a.c("wf",e.c,k(e).toString(),"active")),r=[],i=[t.a.c("wf",e.c,k(e).toString(),"loading")];n||r.push(t.a.c("wf",e.c,k(e).toString(),"inactive")),d(t.f,r,i)}A(t,"fontinactive",e),H(this)},W.prototype.load=function(e){this.c=new l(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,n){var r=[],i=n.timeout;!function(e){e.g&&d(e.f,[e.a.c("wf","loading")]),A(e,"loading")}(t);r=function(e,t,n){var r,i=[];for(r in t)if(t.hasOwnProperty(r)){var a=e.c[r];a&&i.push(a(t[r],n))}return i}(e.a,n,e.c);var a=new V(e.c,t,i);for(e.h=r.length,t=0,n=r.length;t<n;t++)r[t].load((function(t,n,r){G(e,a,t,n,r)}))}(this,new T(this.c,e),e)},Y.prototype.load=function(e){var t=this,n=t.a.projectId,r=t.a.version;if(n){var i=t.c.o;m(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(r?"?v="+r:""),(function(r){r?e([]):(i["__MonotypeConfiguration__"+n]=function(){return t.a},function t(){if(i["__mti_fntLst"+n]){var r,a=i["__mti_fntLst"+n](),o=[];if(a)for(var s=0;s<a.length;s++){var l=a[s].fontfamily;null!=a[s].fontStyle&&null!=a[s].fontWeight?(r=a[s].fontStyle+a[s].fontWeight,o.push(new x(l,r))):o.push(new x(l))}e(o)}else setTimeout((function(){t()}),50)}())})).id="__MonotypeAPIScript__"+n}else e([])},X.prototype.load=function(e){var t,n,r=this.a.urls||[],i=this.a.families||[],a=this.a.testStrings||{},o=new v;for(t=0,n=r.length;t<n;t++)g(this.c,r[t],y(o));var s=[];for(t=0,n=i.length;t<n;t++)if((r=i[t].split(":"))[1])for(var l=r[1].split(","),c=0;c<l.length;c+=1)s.push(new x(r[0],l[c]));else s.push(new x(r[0]));b(o,(function(){e(s,a)}))};var q="https://fonts.googleapis.com/css";function K(e){this.f=e,this.a=[],this.c={}}var Q={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},J={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ee={i:"i",italic:"i",n:"n",normal:"n"},te=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ne(e,t){this.c=e,this.a=t}var re={Arimo:!0,Cousine:!0,Tinos:!0};function ie(e,t){this.c=e,this.a=t}function ae(e,t){this.c=e,this.f=t,this.a=[]}ne.prototype.load=function(e){var t=new v,n=this.c,r=new $(this.a.api,this.a.text),i=this.a.families;!function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r].split(":");3==i.length&&e.f.push(i.pop());var a="";2==i.length&&""!=i[1]&&(a=":"),e.a.push(i.join(a))}}(r,i);var a=new K(i);!function(e){for(var t=e.f.length,n=0;n<t;n++){var r=e.f[n].split(":"),i=r[0].replace(/\+/g," "),a=["n4"];if(2<=r.length){var o;if(o=[],s=r[1])for(var s,l=(s=s.split(",")).length,c=0;c<l;c++){var u;if((u=s[c]).match(/^[\w-]+$/))if(null==(f=te.exec(u.toLowerCase())))u="";else{if(u=null==(u=f[2])||""==u?"n":ee[u],null==(f=f[1])||""==f)f="4";else var h=J[f],f=h||(isNaN(f)?"4":f.substr(0,1));u=[u,f].join("")}else u="";u&&o.push(u)}0<o.length&&(a=o),3==r.length&&(o=[],0<(r=(r=r[2])?r.split(","):o).length&&(r=Q[r[0]])&&(e.c[i]=r))}for(e.c[i]||(r=Q[i])&&(e.c[i]=r),r=0;r<a.length;r+=1)e.a.push(new x(i,a[r]))}}(a),g(n,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],r=0;r<t;r++)n.push(e.a[r].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(r),y(t)),b(t,(function(){e(a.a,a.c,re)}))},ie.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var r=[],i=0;i<t.length;i+=2)for(var a=t[i],o=t[i+1],s=0;s<o.length;s++)r.push(new x(a,o[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(r)}}),2e3):e([])},ae.prototype.load=function(e){var t=this.f.id,n=this.c.o,r=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var i=0,a=n.fonts.length;i<a;++i){var o=n.fonts[i];r.a.push(new x(o.name,_("font-weight:"+o.weight+";font-style:"+o.style)))}e(r.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var oe=new W(window);oe.a.c.custom=function(e,t){return new X(t,e)},oe.a.c.fontdeck=function(e,t){return new ae(t,e)},oe.a.c.monotype=function(e,t){return new Y(t,e)},oe.a.c.typekit=function(e,t){return new ie(t,e)},oe.a.c.google=function(e,t){return new ne(t,e)};var se={load:o(oe.load,oe)};void 0===(r=function(){return se}.call(t,n,t,e))||(e.exports=r)}()},2971:(e,t,n)=>{"use strict";n.d(t,{Uo:()=>i,r9:()=>a,df:()=>o,WF:()=>s,CK:()=>l,mj:()=>c,f8:()=>u,CH:()=>h,B$:()=>f,Tm:()=>d,Yf:()=>p,$O:()=>g,jp:()=>m,L:()=>v,Ad:()=>y});var r=n(29);const i=(e,t=r.Cg,n=r.PM)=>({type:r.nC,view:e,size:t,object:n}),a=e=>({type:r.y6,view:e}),o=e=>({type:r._z,view:e}),s=(e,t)=>({type:r.vZ,canvases:e,thumbnail:t}),l=e=>({type:r.zF,index:e}),c=(e,t,n)=>({type:r.HO,view:e,index:t,size:n}),u=e=>({type:r.qR,view:e}),h=(e,t)=>({type:r.MR,view:e,json:t}),f=(e,t)=>({type:r.x,view:e,json:t}),d=(e,t)=>({type:r.kX,view:e,json:t}),p=e=>({type:r.VY,selection:e}),g=()=>({type:r.sV}),m=e=>({type:r.xe,state:e}),v=e=>({type:r.Ch,drawingAreas:e}),y=e=>({type:r.py,canvases:e})},7408:(e,t,n)=>{"use strict";n.d(t,{h:()=>i,M:()=>a});var r=n(7772);const i=(e,t={},n=!0)=>({type:r.k,element:e,params:t,active:n}),a=(e,t=!1)=>({type:r.e,element:e,active:t})},7533:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.d(t,{Z:()=>Y});var s="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function h(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(o(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(o(1));return n(h)(e,t)}if("function"!=typeof e)throw new Error(o(2));var i=e,a=t,l=[],f=l,d=!1;function p(){f===l&&(f=l.slice())}function g(){if(d)throw new Error(o(3));return a}function m(e){if("function"!=typeof e)throw new Error(o(4));if(d)throw new Error(o(5));var t=!0;return p(),f.push(e),function(){if(t){if(d)throw new Error(o(6));t=!1,p();var n=f.indexOf(e);f.splice(n,1),l=null}}}function v(e){if(!u(e))throw new Error(o(7));if(void 0===e.type)throw new Error(o(8));if(d)throw new Error(o(9));try{d=!0,a=i(a,e)}finally{d=!1}for(var t=l=f,n=0;n<t.length;n++){(0,t[n])()}return e}function y(e){if("function"!=typeof e)throw new Error(o(10));i=e,v({type:c.REPLACE})}function b(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(o(11));function n(){e.next&&e.next(g())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e}return v({type:c.INIT}),(r={dispatch:v,subscribe:m,getState:g,replaceReducer:y})[s]=b,r}function f(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:c.INIT}))throw new Error(o(12));if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(o(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},l=0;l<s.length;l++){var c=s[l],u=n[c],h=e[c],f=u(h,t);if(void 0===f){t&&t.type;throw new Error(o(14))}i[c]=f,r=r||f!==h}return(r=r||s.length!==Object.keys(e).length)?i:e}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var p=n(610),g=n(3419);const m={layout:[{id:"main",target:"left",category:"menu",multiple:!1,collapsed:!0,collapsible:!0,items:[{name:"Views",icon:"bars"},{name:"Elements",icon:"puzzle-piece"},{name:"Templates",icon:"template"},{name:"Layers",icon:"layer-group"},{name:"Drawing areas",icon:"vector-square"},{name:"Designs",icon:"pencil-alt"},{name:"Markers",icon:"thumbtack"},{name:"Text",icon:"font"},{name:"Image",icon:"upload"},{name:"Qr code",icon:"qrcode"}]},{id:"second",target:"right",category:"menu",collapsed:!0,collapsible:!0,items:[{name:"Snap grid",icon:"magnet",fallback:"function"},{name:"Ruler",icon:"ruler-combined",fallback:"function"},{name:"Print",icon:"print",fallback:"function"},{name:"Magnifying glass",icon:"binoculars",fallback:"function"},{name:"Zoom",icon:"search",fallback:"popover"},{name:"Download",icon:"download"},{name:"Reset",icon:"sync-alt",fallback:"function"}]},{id:"editor",target:"editor",category:"menu",multiple:!1,collapsed:!0,collapsible:!0,items:[{name:"Editor",icon:"puzzle-piece",container:".ask-modal-editor .ask-layout-content",fallback:"function"}]},{id:"studio",target:"studio",category:"menu",multiple:!1,collapsed:!0,collapsible:!0,items:[{name:"Filters",icon:"filter",container:".ask-modal-studio .ask-layout-content"},{name:"Masks",icon:"mask",container:".ask-modal-studio .ask-layout-content"},{name:"Remove colors",icon:"eraser",container:".ask-modal-studio .ask-layout-content"},{name:"Settings",icon:"cog",container:".ask-modal-studio .ask-layout-content"}]},{id:"custom",target:"custom",items:[]}]},v=(e=m.layout,t)=>{let n=["menu","panel","tabs"];if(null==e&&(e=m.layout),null==e.find(e=>"editor"==e.id)){let t=m.layout.find(e=>"editor"==e.id);e=[...e,t]}if(null==e.find(e=>"studio"==e.id)){let t=m.layout.find(e=>"studio"==e.id);e=[...e,t]}let r,i,a=(e=[...e.map(e=>({...e,category:n.indexOf(e.category)>-1?e.category:"menu",items:e.items.map(t=>"studio"==e.id||"editor"==e.id?{...t,container:".ask-modal-"+e.id+" .ask-layout-content"}:t)}))]).find(e=>"custom"==e.id);if(null==a){let t=m.layout.find(e=>"custom"==e.id);e=[...e,t]}else e=e.map(e=>e.id==a.id&&"custom"!=e.target?{...e,target:"custom"}:e);switch(t.type){case g.Rm:return t.state;case g.QF:return[...e,{id:t.id,target:t.target,category:t.category,multiple:t.multiple,collapsed:t.collapsed,collapsible:t.collapsible,items:t.collapsed}];case g.RZ:return r=e.findIndex(e=>e.id==t.id),r>-1&&e.splice(r,1),e;case g.ih:return i=p.Z.findMenu(t.id,e),e.map(e=>e.id==i.id?{...e,target:t.target}:e);case g.v0:return i=p.Z.findMenu(t.id,e),e.map(e=>e.id==i.id?{...e,collapsed:!0}:e);case g.C2:return i=p.Z.findMenu(t.id,e),e.map(e=>e.id==i.id?{...e,collapsed:!1}:e);case g.Yl:return i=p.Z.findMenu(t.id,e),e.map(e=>e.id==i.id?{...e,collapsed:!e.collapsed}:e);case g.vv:return i=p.Z.findItem(t.name,e),e.map(e=>e.id==i.parent.id?{...e,items:e.items.map(e=>e.name==t.name?{...e,active:!0}:e.name!=t.name&&0==i.parent.multiple?{...e,active:!1}:e)}:e);case g.hc:return i=p.Z.findItem(t.name,e),null==i?[...e,{id:"hidden",target:"hidden",items:[{name:t.name,active:!0}]}]:e.map(e=>e.id==i.parent.id?{...e,items:e.items.map(e=>e.name==t.name?{...e,active:!0}:e.name!=t.name&&0==i.parent.multiple?{...e,active:!1}:e)}:e);case g.dM:return i=p.Z.findItem(t.name,e),null==i?e:e.map(e=>e.id==i.parent.id?{...e,items:e.items.map(e=>e.name==t.name?{...e,active:!e.active}:e.name!=t.name&&0==i.parent.multiple?{...e,active:!1}:e)}:e);case g.yX:return i=p.Z.findMenu(t.id,e),e.map(e=>e.id==i.id?{...e,collapsible:!e.collapsible}:e);case g.mr:return i=p.Z.findItem(t.name,e),i?e.map(e=>e.id==i.parent.id?{...e,items:e.items.map(e=>e.name==t.name?{...e,active:!1}:e)}:e):e;case g.cS:return e.map(e=>({...e,items:e.items.map(e=>({...e,active:!1}))}));case g.mj:return i=p.Z.findMenu(t.id,e),e.map(e=>e.id==i.id?{...e,items:[...e.items,t.item]}:e);case g.ns:return i=p.Z.findItem(t.name,e),r=i.parent.items.findIndex(e=>e.name==t.name),e.map(e=>e.id==i.parent.id?{...e,items:[...e.items.slice(0,r),...e.items.slice(r+1)]}:e);case g.PU:i=p.Z.findItem(t.name,e);let n=i.parent.id;return r=i.parent.items.findIndex(e=>e.name==t.name),e=e.map(e=>{const{parent:a,...o}=i;if(e.id==i.parent.id){let i=[...e.items.slice(0,r),...e.items.slice(r+1)];return t.id!=n&&null!=t.id||i.splice(t.index,0,o),{...e,items:i}}if(t.id&&e.id==t.id){let n=[...e.items];return n.splice(t.index,0,o),{...e,items:n}}return e});default:return e}};var y=n(435);const b={},w=(e=b,t)=>{switch(null==e&&(e={}),e={...b,...e,menu:{...b.menu,...e.menu},modal:{...b.modal,...e.modal},drawer:{...b.drawer,...e.drawer},primary:{...b.primary,...e.primary},card:{...b.card,...e.card},tertiary:{...b.tertiary,...e.tertiary},secondary:{...b.secondary,...e.secondary}},t.type){case y.l:return{...b,...e,...t.state};case y.w:return{...e,[t.property]:"object"==typeof t.value&&null!==t.value?{...b[t.property],...e[t.property],...t.value}:t.value};default:return e}},C={container:"designer",position:"float",items:{general:[{name:"Position",icon:"crosshairs",fallback:"popover"},{name:"Transform",icon:"vector-square",fallback:"popover"}],group:[{name:"Studio",icon:"camera-retro",fallback:"function"},{name:"Color",icon:"vector-square",fallback:"inline"}],path:[{name:"Color",icon:"vector-square",fallback:"inline"},{name:"Stroke",icon:"border-style",fallback:"inline"}],text:[{name:"Color",icon:"vector-square",fallback:"inline"},{name:"Stroke",icon:"border-style",fallback:"inline"},{name:"Font family",icon:"font",fallback:"inline"},{name:"Curve text",icon:"bezier-curve",fallback:"popover"},{name:"Formatting",icon:"font",fallback:"inline"},{name:"Modify text",icon:"edit",fallback:"popover"}],"text-curved":[{name:"Color",icon:"vector-square",fallback:"inline"},{name:"Stroke",icon:"border-style",fallback:"inline"},{name:"Font family",icon:"font",fallback:"inline"},{name:"Curve text",icon:"bezier-curve",fallback:"popover"},{name:"Formatting",icon:"font",fallback:"inline"},{name:"Modify text",icon:"edit",fallback:"popover"}],"i-text":[{name:"Color",icon:"vector-square",fallback:"inline"},{name:"Stroke",icon:"border-style",fallback:"inline"},{name:"Font family",icon:"font",fallback:"inline"},{name:"Curve text",icon:"bezier-curve",fallback:"popover"},{name:"Formatting",icon:"font",fallback:"inline"},{name:"Modify text",icon:"edit",fallback:"popover"}],rect:[{name:"Color",icon:"vector-square",fallback:"inline"},{name:"Stroke",icon:"border-style",fallback:"inline"}],ellipse:[{name:"Color",icon:"vector-square",fallback:"inline"},{name:"Stroke",icon:"border-style",fallback:"inline"}],circle:[{name:"Color",icon:"vector-square",fallback:"inline"},{name:"Stroke",icon:"border-style",fallback:"inline"}],line:[{name:"Stroke",icon:"border-style",fallback:"inline"}],triangle:[{name:"Color",icon:"vector-square",fallback:"inline"},{name:"Stroke",icon:"border-style",fallback:"inline"}],polygon:[{name:"Color",icon:"vector-square",fallback:"inline"},{name:"Stroke",icon:"border-style",fallback:"inline"}],image:[{name:"Studio",icon:"camera-retro",fallback:"function"}]}},x=(e=C,t)=>(e={container:-1!=["body","designer"].indexOf(e.container)?e.container:"body",position:-1!=["top","bottom","float"].indexOf(e.position)?e.position:"float",items:{...C.items,...e.items}},t.type,e);var E=n(7772);const k=(e=[],t)=>{let n;switch(t.type){case E.k:return n=e.findIndex(e=>t.element==e.element),n>-1?e.map((e,r)=>r===n?Object.assign({},e,{active:!0,params:t.params}):e):[...e,{element:t.element,params:t.params,active:!0}];case E.e:return n=e.findIndex(e=>t.element==e.element),n>-1?e.map((e,t)=>t===n?{...e,active:!1}:e):e;default:return e}};var S=n(29);const _=(e=[],t)=>{let n,r=[...e];switch(t.type){case S.nC:return[...e,t.view];case S._z:return n=e.indexOf(t.view),n>-1&&r.splice(n,1),r;default:return e}},T=(e={},t,n)=>{switch(t.type){case S.nC:return null==e[t.view]?{...e,[t.view]:{originalSize:t.size,size:t.size,object:t.object}}:e;case S.y6:return{...e,[t.view]:{...e[t.view],size:e[t.view].size,originalSize:e[t.view].originalSize||e[t.view].size,object:e[t.view].object}};case S.MR:e={...e};for(let n in t.json)e[n]={...e[n],object:t.json[n].object,originalSize:t.json[n].originalSize||t.json[n].size,size:t.json[n].size};return e;case S.Oi:return{...e,[t.view]:{...e[t.view],object:t.json}};case S.x:case S.kX:e={...e};for(let n in t.json)e[n]={...e[n],object:t.json[n].object,originalSize:t.json[n].originalSize||t.json[n].size,size:t.json[n].size};return e;case S._z:return delete e[t.view],{...e};case S.HO:return{...e,[t.view]:{...e[t.view],size:t.size}};default:return e}},O=(e={},t,n)=>{switch(t.type){case S.py:return{forward:[],backward:[],initial:t.canvases};case S.MR:return{...e,backward:[...e.backward,{view:t.view,canvases:n}],forward:[]};case S.x:return{...e,backward:[...e.backward.slice(0,e.backward.length-1),...e.backward.slice(e.backward.length-1+1)],forward:[...e.forward,{view:t.view,canvases:n}]};case S.kX:return{...e,backward:[...e.backward,{view:t.view,canvases:n}],forward:[...e.forward.slice(0,e.forward.length-1),...e.forward.slice(e.forward.length-1+1)]};default:return e}},A={reducers:{currentView:(e=null,t)=>(t.type,e),views:_,history:O,templates:(e="",t)=>{switch(t.type){case S.vZ:return[...e,{thumbnail:t.thumbnail,canvases:t.canvases}];case S.zF:return[...e.slice(0,t.index),...e.slice(t.index+1)];default:return e}},canvases:T,selection:(e=null,t)=>{switch(t.type){case S.VY:return null==t.selection?null:t.selection;case S.sV:return!1;default:return e}},drawingAreas:(e={},t)=>{switch(t.type){case S.Ch:return t.drawingAreas;default:return e}}},actions:e=>(t={},n)=>{switch(n.type){case"UPDATE_FABRIC":return n.state;case"SET_VIEW":return{...t,currentView:n.view};case"ADD_VIEW":return{...t,views:_(t.views,n),canvases:T(t.canvases,n)};case"UPDATE_CANVAS":return{...t,views:_(t.views,n),history:O(t.history,n,t.canvases),canvases:T(t.canvases,n)};case"BACKWARD_CANVAS":case"FORWARD_CANVAS":case"RESET_CANVAS":return{...t,views:_(t.views,n),history:O(t.history,n,t.canvases),canvases:T(t.canvases,n,t.history[n.view])}}return e(t,n)}};var P=n(2847);const j=(e="frontend",t)=>{switch(t.type){case P.f:return t.mode;default:return e}};var M=n(3697);const I=(e="en",t)=>{switch(t.type){case M.l:return t.locale;default:return e}},R=(e={},t)=>{switch(t.type){case"UPDATE_DEFAULTS":return t.defaults;case"ADD_DEFAULT":return{...e,[t.name]:t.value};case"REMOVE_DEFAULT":const{[t.name]:n,...r}=e;return r;default:return e}},L=(e={},t)=>{switch(t.type){case"SET_TRANSLATIONS":return t.translations;default:return e}};var Z=n(3657);const D=[{name:"heart",src:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"> <title> heart </title> <path d="M14.75 1A5.24 5.24 0 0 0 10 4 5.24 5.24 0 0 0 0 6.25C0 11.75 10 19 10 19s10-7.25 10-12.75A5.25 5.25 0 0 0 14.75 1z"/> </svg>'},{name:"star",src:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"/></svg>'},{name:"circle",src:'<svg xmlns="http://www.w3.org/2000/svg" width="102px" height="102px" viewBox="-51 -51 102 102"> \x3c!-- The outer circle is mathematically existent and therefore drawn here, independent of visibility --\x3e <circle id="outercircle" cx="0" cy="0" r="50" style="fill :#BBBBBB; stroke :none;"/> <g style="fill:#000000; stroke:none;"> <circle cx="0" cy="0" r="50"/> </g> </svg>'},{name:"hexagon",src:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18 2l6 10.5-6 10.5h-12l-6-10.5 6-10.5z"/></svg>'}],F=(e=D,t)=>{let n;switch(t.type){case Z.k1:return[...e,{name:t.name,src:t.src}];case Z.YX:return n=e.findIndex(e=>t.name==e.name),n>-1&&e.splice(n,1),[...e];default:return e}},N={reducers:{selection:x,layout:v,theme:w,defaults:R,locale:I,translations:L,colors:(e=[],t)=>{let n;switch(t.type){case Z.JO:return[...e,{name:t.name,value:t.value,types:t.types,parameters:t.parameters}];case Z.AG:return n=e.findIndex(e=>t.name==e.name),n>-1&&e.splice(n,1),[...e];default:return e}},designs:(e=[],t)=>{let n;switch(t.type){case Z.kT:return[...e,{name:t.name,src:t.src,categories:t.categories,parameters:t.parameters}];case Z.WB:return n=e.findIndex(e=>t.name==e.name),n>-1&&e.splice(n,1),[...e];default:return e}},price:(e=[],t)=>{switch(t.type){case Z.NC:return t.price;default:return e}},pricingRules:(e=[],t)=>{switch(t.type){case Z.eK:return[...e,t.rule];case Z.MW:return[...e.slice(0,t.index),...e.slice(t.index+1)];default:return e}},masks:F,navigation:(e="thumbnail",t)=>{switch(t.type){case Z.ec:return t.navigation;default:return e}},designsCategories:F,printingMethods:(e=[],t)=>{let n;switch(t.type){case Z.ru:return[...e,t.name];case Z.QQ:return n=e.indexOf(t.name),n>-1&&e.splice(n,1),[...e];default:return e}},addons:(e=[],t)=>(t.type,e),fontFamily:(e=[],t)=>{switch(t.type){case Z.xV:case Z.v3:default:return e}},fabric:A,mode:j,modals:k},actions:e=>(t,n)=>{switch("RESET_STORE"===n.type&&(t=void 0),n.type){case"RESET_STORE":t=void 0;case"UPDATE_STORE":t={...t,...n.state}}return e(t,n)}};function B(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var z=B();z.withExtraArgument=B;const V=z;function U(e,t=null){return function e(t,n,r=null,i=null){for(var a in t){let o=t[a];if("object"==typeof o){e(o,W(n,a),t,a);let s=t.reducers,l=t.actions;s&&null!=r?(r[i]=f({...s,...G(n)}),l&&(r[i]=l(r[i]))):s&&(t=f({...s,...G(n)}),l&&(t=l(t)))}}return t}(e,t)}function H(e){let t=Object.assign({},e);return Object.keys(t).forEach(n=>t[n]="object"==typeof e[n]?H(e[n]):e[n]),Array.isArray(e)?(t.length=e.length)&&Array.from(t):t}function W(e,t){if("reducers"==t)return e;{let r={};for(let i in e){var n=i.split(".");n[0]==t&&n.length>1&&(r[n.slice(1).join(".")]=e[i])}return r}}function G(e){let t={};for(let n in e)-1==n.indexOf(".")&&(t[n]=e[n]);return t}const Y=function(e){const t=h(U(H(N)),e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(o(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return r=d.apply(void 0,s)(n.dispatch),a(a({},n),{},{dispatch:r})}}}(V));return t.asyncReducers={},t.defaultReducers=H(N),t.injectReducer=(e,n)=>{t.asyncReducers[e]=n,t.replaceReducer(U(H(N),t.asyncReducers))},t}(window.__ASK_PRELOADED_STATE__||{})},3740:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(5466),i=n(6116),a=(n(4860),n(104)),o=n(9762),s=n(7860),l=n(9879),c=n(3625);const u=r.memo(e=>{(0,r.useEffect)(()=>{0==n&&1==e.visible&&s(!0)});const t=(0,r.useRef)(null),[n,s]=(0,r.useState)(!1),u=r.createElement(a.Z,{in:e.visible,appear:!0,timeout:300,classNames:"ask-drawer"},r.createElement("div",{ref:t,className:"ask-drawer ask-drawer-"+(e.placement||"left")+("Personalization"==e.title?" ask-btf":"")},r.createElement("div",{className:"ask-drawer-mask",onClick:()=>e.onClose&&1==e.visible?e.onClose():null}),r.createElement("div",{className:"ask-drawer-wrapper"},r.createElement("div",{className:"ask-drawer-content"+(null!=e.className?" "+e.className:"")},e.title||e.closable?r.createElement("div",{className:"ask-drawer-header"},e.title?r.createElement("span",{className:"ask-drawer-title"},e.title):"",1==e.closable?r.createElement("span",{className:"ask-drawer-close",onClick:()=>e.onClose?e.onClose():null},r.createElement(c.Z,null,r.createElement(l.G,{icon:["fas","times"]}))):""):null,-1==["Designs","Image"].indexOf(e.title)?r.createElement(o.$B,{hideTracksWhenNotNeeded:!0,style:{width:"100%",height:"calc(100% - 53px)"}},r.createElement("div",{className:"ask-drawer-body"},e.children)):r.createElement("div",{style:{width:"100%",height:"calc(100% - 53px)"}},r.createElement("div",{className:"ask-drawer-body"},e.children))))));return e.container&&1==n?i.createPortal(u,document.querySelector(e.container)):1==n?u:null},(e,t)=>1!=e.visible&&1!=t.visible),h=(0,s.ZP)(u)`
	${e=>e.styles?`\n\t\t${e.styles.color?`\n\t\t\tcolor: ${e.styles.color};\n\t\t`:""}\n\t\t${e.styles.background?`\n\t\t\tbackground-color: ${e.styles.background};\n\t\t`:""}\n\t\t${e.styles.border?`\n\t\t\t& .ask-drawer-header{\n\t\t\t\tborder-color: ${e.styles.border};\n\t\t\t}\n\t\t`:""}\n\t`:""};
`;var f=n(5345),d=n(6681),p=n(4948),g=n(610);const m=(0,n(5110).$j)((e,t)=>{let n=t.fallback||"drawer";return{styles:e.theme[n]}})(e=>{let t=(0,r.useRef)(null),n=e.fallback||"drawer";if("custom"==e.target&&null==e.fallback){let a=document.querySelector(e.container);return a?i.createPortal(r.createElement(d.Z,{fallback:n,ref:t,callback:e.callback,name:e.name}),a):null}if("tabs"==e.category)return 1==e.active?r.createElement("div",{className:"ask-module-tabs ask-"+g.Z.slugify(e.name,{replacement:"-",lower:!0})},r.createElement(d.Z,{fallback:n,ref:t,callback:e.callback,name:e.name})):null;switch(n){case"drawer":return r.createElement(h,{styles:e.styles,className:"ask-"+g.Z.slugify(e.name,{replacement:"-",lower:!0}),key:e.name,title:g.Z.getTranslation(e.name),container:e.container||".ask-layout-content",closable:!0,onClose:()=>{null!=e.selection?p.Z.closeSelection(e.name,e.selection):p.Z.closeMenu(e.name)},visible:e.active},r.createElement(d.Z,{fallback:n,ref:t,callback:e.callback,name:e.name}));case"modal":return r.createElement(f.Z,{styles:e.styles,className:"ask-"+g.Z.slugify(e.name,{replacement:"-",lower:!0}),title:g.Z.getTranslation(e.name),visible:e.active,closable:!0,onClose:t=>{null!=e.selection?p.Z.closeSelection(e.name,e.selection):p.Z.closeMenu(e.name)},centered:!0},r.createElement(d.Z,{fallback:n,ref:t,callback:e.callback,name:e.name}));default:return null}})},6681:(t,n,r)=>{"use strict";r.d(n,{Z:()=>tn});var i=r(5466),a=r(7533),o=r(610),s=r(5110),l=r(4206),c=r(912),u=r(7613),h=r(8008),f=r(4948),d=r(9879),p=r(6592);const g=e=>i.createElement(i.Fragment,null,"backend"==e.mode&&i.createElement(u.Z,{className:"ask-mb-15",ghost:!0,block:!0,onClick:()=>{f.Z.openModal(p.Z)}},o.Z.getTranslation("Add view")),i.createElement(l.Z,{column:1,data:h.Z.getViews(),render:t=>i.createElement(c.Z,{onClick:()=>h.Z.setCurrentView(t),hoverable:!0,cursor:"pointer",className:"ask-list-item"+(h.Z.getCurrentView()==t?" ask-card-active":""),actions:"backend"==e.mode?[i.createElement("div",{onClick:n=>(n.stopPropagation(),f.Z.openModal(p.Z,{name:t,width:e.canvases[t].size.width,height:e.canvases[t].size.height}))},i.createElement(d.G,{icon:["fas","edit"]})),i.createElement("div",{onClick:e=>(e.stopPropagation(),h.Z.removeView(t))},i.createElement(d.G,{icon:["fas","trash"]}))]:null},t)})),m=(0,s.$j)((e,t)=>({views:e.fabric.views,canvases:e.fabric.canvases,mode:e.mode,currentView:e.fabric.currentView}))(g);var v=r(2536),y=r(6612),b=r(5345);const w=(0,s.$j)((e,t)=>({styles:e.theme.modal}))(e=>{let t=(0,i.useRef)(null);const{upload:n}=a.Z.getState().defaults;return i.createElement(b.Z,{centered:!0,title:"Create overlay",visible:e.active,onOk:()=>{t.current.submitForm()},onClose:()=>{e.closeModal(e.element),t.current.resetForm()}},i.createElement(v.Z,{ref:t,onUpdate:()=>t.current.resetForm(),onSubmit:n=>{h.Z.setOverlayImage(n.image.url),e.closeModal(e.element),t.current.resetForm()},initialValues:{}},i.createElement(v.Z.Item,{name:"image"},i.createElement(y.g,{accept:"jpeg,jpg,gif,svg,png",multiple:!1,action:null!=n&&n.action?n.action:"base64",method:null!=n&&n.method?n.method:"GET"},i.createElement(u.Z,null,o.Z.getTranslation("Click to upload"))))))});const C=i.memo(e=>{if(null==h.Z.getCanvas())return i.createElement(c.Z,null,o.Z.getTranslation("You need to create a view to access this menu"));let t=h.Z.getOverlay();return i.createElement(i.Fragment,null,"backend"==e.mode&&null==e.overlay&&i.createElement(u.Z,{className:"ask-mb-15",ghost:!0,block:!0,onClick:()=>{f.Z.openModal(w)}},o.Z.getTranslation("Add overlay")),i.createElement(l.Z,{column:1,data:null!=t?[t]:[],render:e=>i.createElement(u.Z,{block:!0,onClick:()=>h.Z.removeOverlay()},o.Z.getTranslation("Remove"))}))},()=>!1),x=(0,s.$j)((e,t)=>({overlay:h.Z.getOverlay(),canvases:e.fabric.canvases,mode:e.mode,view:h.Z.getCurrentView()}))(C);var E=r(2353),k=(r(1995),r(104)),S=r(6842),_=r(7860);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let O=({state:e})=>{e.styles.popper.minWidth=e.rects.reference.width+"px"};const A=(0,_.ZP)(e=>{let t;(0,i.useEffect)(()=>()=>{clearTimeout(t)});const[n,r]=(0,i.useState)(!1),[a,o]=(0,i.useState)(null),[s,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),{styles:h,attributes:f}=(0,S.D)(a,s,{modifiers:[{name:"arrow",options:{element:c}},{name:"offset",options:{offset:[0,10]}},{name:"sameWidth",enabled:1==e.sameWidth&&e.sameWidth,fn:O,phase:"beforeWrite",requires:["computeStyles"]}],placement:e.placement||"bottom-start"}),d=e=>{let n,i=e=>{n=e.target};document.addEventListener("mousemove",i,!0),clearTimeout(t),t=setTimeout(()=>{document.removeEventListener("mousemove",i,!0),s&&(s.contains(n)||a.contains(n))||r(!1)},200)};return i.createElement(i.Fragment,null,i.cloneElement(i.Children.only(e.children),{onMouseEnter:()=>{r(!0)},onMouseOut:d,ref:o}),i.createElement(k.Z,{unmountOnExit:!0,in:n,appear:!0,timeout:300,classNames:"ask-popover"},i.createElement("div",T({className:"ask-popover"+(e.className?" "+e.className:"")+" ask-popover-"+n,onMouseOut:"click"==e.trigger?null:d,ref:l,style:h.popper},f.popper),e.overlay,i.createElement("div",{ref:u,style:h.arrow}))))})`
	${e=>e.styles?`\n\t\t${e.styles.color?`\n\t\t\tcolor: ${e.styles.color};\n\t\t`:""}\n\t\t${e.styles.background?`\n\t\t\tbackground-color: ${e.styles.background};\n\t\t`:""}\n\t\t${e.styles.border?`\n\t\t\tborder-color: ${e.styles.border};\n\t\t`:""}\n\t`:""}
`,P=(0,s.$j)((e,t)=>({styles:e.theme.popover}),null,null,{forwardRef:!0})(A);const j=i.memo(e=>{if(null==h.Z.getCanvas())return i.createElement(c.Z,null,o.Z.getTranslation("You need to create a view to access this menu"));let t;const n=e=>{const n=t.result;h.Z.svgBoundingBox(n)},r=i.createElement(E.Z,null,i.createElement(E.Z.Item,{onClick:e=>(e.stopPropagation(),h.Z.drawBoundingBox("Rect"),f.Z.closeMenu("Drawing areas")),key:"single"},o.Z.getTranslation("Rectangle")),i.createElement(E.Z.Item,{onClick:e=>(e.stopPropagation(),h.Z.drawBoundingBox("Circle"),f.Z.closeMenu("Drawing areas")),key:"multiple"},o.Z.getTranslation("Circle")),i.createElement(E.Z.Item,{onClick:e=>(e.stopPropagation(),h.Z.drawBoundingBox("Triangle"),f.Z.closeMenu("Drawing areas")),key:"multiple"},o.Z.getTranslation("Triangle")),i.createElement(E.Z.Item,{onClick:e=>(e.stopPropagation(),h.Z.drawBoundingBox("Ellipse"),f.Z.closeMenu("Drawing areas")),key:"multiple"},o.Z.getTranslation("Ellipse")),i.createElement(E.Z.Item,{key:"multiple"},i.createElement("label",{htmlFor:"file"},o.Z.getTranslation("SVG")),i.createElement("input",{type:"file",id:"file",className:"ask-simple-input-upload",accept:".svg",onChange:e=>(e=>{t=new FileReader,t.onloadend=n,t.readAsText(e)})(e.target.files[0])})));return i.createElement(i.Fragment,null,"backend"==e.mode&&i.createElement(P,{sameWidth:!0,overlay:r},i.createElement(u.Z,{className:"ask-mb-15",block:!0},o.Z.getTranslation("Add drawing area")," ",i.createElement(d.G,{icon:["fas","caret-down"]}))),i.createElement(l.Z,{column:1,data:e.drawingAreas,render:t=>i.createElement(c.Z,{hoverable:!0,actions:"backend"==e.mode?[i.createElement("div",{onClick:()=>h.Z.setActiveObject(t)},i.createElement(d.G,{icon:["fas","edit"]})),i.createElement("div",{onClick:()=>h.Z.remove(t)},i.createElement(d.G,{icon:["fas","trash"]}))]:null},i.createElement("img",{className:"ask-mr-15",src:t.toDataURL({format:"jpeg",quality:.8,multiplier:1/(t.getScaledWidth()/32)})}),t.id)}))},()=>{let e=f.Z.getMenuItem("Drawing areas"),t=f.Z.getMenus().find(e=>"custom"==e.id).items;return!(e&&e.active||"panel"===e.parent.category||t.find(e=>"Drawing areas"==e.name))}),M=(0,s.$j)((e,t)=>({drawingAreas:h.Z.getDrawingAreas(),menu:f.Z.getMenuItem("Drawing areas"),mode:e.mode}))(j);r(8988);const I=i.forwardRef((e,t)=>{const{size:n,float:r,display:a,...o}=e;return i.createElement("span",{className:"ask-avatar ask-avatar-size-"+(null!=e.size?e.size:"s")+(null!=e.float?" ask-avatar-float-"+e.float:"")},i.createElement("img",e))});var R=r(3625),L=r(8507),Z=r(4559),D=r.n(Z),F=r(3400),N=r(3713);function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var z=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function V(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||z(r)&&z(i)))return!1;var r,i;return!0}const U=function(e,t){var n;void 0===t&&(t=V);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}};var H="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function W(e){cancelAnimationFrame(e.id)}function G(e,t){var n=H();var r={id:requestAnimationFrame((function i(){H()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}var Y=-1;var X=null;function $(e){if(void 0===e&&(e=!1),null===X||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?X="positive-descending":(t.scrollLeft=1,X=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),X}return X}var q=function(e){var t=e.columnIndex;e.data;return e.rowIndex+":"+t};function K(e){var t,n,r=e.getColumnOffset,a=e.getColumnStartIndexForOffset,o=e.getColumnStopIndexForStartIndex,s=e.getColumnWidth,l=e.getEstimatedTotalHeight,c=e.getEstimatedTotalWidth,u=e.getOffsetForColumnAndAlignment,h=e.getOffsetForRowAndAlignment,f=e.getRowHeight,d=e.getRowOffset,p=e.getRowStartIndexForOffset,g=e.getRowStopIndexForStartIndex,m=e.initInstanceProps,v=e.shouldResetStyleCacheOnItemSizeChange,y=e.validateProps;return n=t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=m(n.props,B(B(n))),n._resetIsScrollingTimeoutId=null,n._outerRef=void 0,n.state={instance:B(B(n)),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof n.props.initialScrollLeft?n.props.initialScrollLeft:0,scrollTop:"number"==typeof n.props.initialScrollTop?n.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},n._callOnItemsRendered=void 0,n._callOnItemsRendered=U((function(e,t,r,i,a,o,s,l){return n.props.onItemsRendered({overscanColumnStartIndex:e,overscanColumnStopIndex:t,overscanRowStartIndex:r,overscanRowStopIndex:i,visibleColumnStartIndex:a,visibleColumnStopIndex:o,visibleRowStartIndex:s,visibleRowStopIndex:l})})),n._callOnScroll=void 0,n._callOnScroll=U((function(e,t,r,i,a){return n.props.onScroll({horizontalScrollDirection:r,scrollLeft:e,scrollTop:t,verticalScrollDirection:i,scrollUpdateWasRequested:a})})),n._getItemStyle=void 0,n._getItemStyle=function(e,t){var i,a=n.props,o=a.columnWidth,l=a.direction,c=a.rowHeight,u=n._getItemStyleCache(v&&o,v&&l,v&&c),h=e+":"+t;if(u.hasOwnProperty(h))i=u[h];else{var p=r(n.props,t,n._instanceProps),g="rtl"===l;u[h]=i={position:"absolute",left:g?void 0:p,right:g?p:void 0,top:d(n.props,e,n._instanceProps),height:f(n.props,e,n._instanceProps),width:s(n.props,t,n._instanceProps)}}return i},n._getItemStyleCache=void 0,n._getItemStyleCache=U((function(e,t,n){return{}})),n._onScroll=function(e){var t=e.currentTarget,r=t.clientHeight,i=t.clientWidth,a=t.scrollLeft,o=t.scrollTop,s=t.scrollHeight,l=t.scrollWidth;n.setState((function(e){if(e.scrollLeft===a&&e.scrollTop===o)return null;var t=n.props.direction,c=a;if("rtl"===t)switch($()){case"negative":c=-a;break;case"positive-descending":c=l-i-a}c=Math.max(0,Math.min(c,l-i));var u=Math.max(0,Math.min(o,s-r));return{isScrolling:!0,horizontalScrollDirection:e.scrollLeft<a?"forward":"backward",scrollLeft:c,scrollTop:u,verticalScrollDirection:e.scrollTop<o?"forward":"backward",scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&W(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=G(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1)}))},n}(0,N.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return Q(e,t),y(e),null};var n=t.prototype;return n.scrollTo=function(e){var t=e.scrollLeft,n=e.scrollTop;void 0!==t&&(t=Math.max(0,t)),void 0!==n&&(n=Math.max(0,n)),this.setState((function(e){return void 0===t&&(t=e.scrollLeft),void 0===n&&(n=e.scrollTop),e.scrollLeft===t&&e.scrollTop===n?null:{horizontalScrollDirection:e.scrollLeft<t?"forward":"backward",scrollLeft:t,scrollTop:n,scrollUpdateWasRequested:!0,verticalScrollDirection:e.scrollTop<n?"forward":"backward"}}),this._resetIsScrollingDebounced)},n.scrollToItem=function(e){var t=e.align,n=void 0===t?"auto":t,r=e.columnIndex,i=e.rowIndex,a=this.props,o=a.columnCount,s=a.height,f=a.rowCount,d=a.width,p=this.state,g=p.scrollLeft,m=p.scrollTop,v=function(e){if(void 0===e&&(e=!1),-1===Y||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),Y=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Y}();void 0!==r&&(r=Math.max(0,Math.min(r,o-1))),void 0!==i&&(i=Math.max(0,Math.min(i,f-1)));var y=l(this.props,this._instanceProps),b=c(this.props,this._instanceProps)>d?v:0,w=y>s?v:0;this.scrollTo({scrollLeft:void 0!==r?u(this.props,r,n,g,this._instanceProps,w):g,scrollTop:void 0!==i?h(this.props,i,n,m,this._instanceProps,b):m})},n.componentDidMount=function(){var e=this.props,t=e.initialScrollLeft,n=e.initialScrollTop;if(null!=this._outerRef){var r=this._outerRef;"number"==typeof t&&(r.scrollLeft=t),"number"==typeof n&&(r.scrollTop=n)}this._callPropsCallbacks()},n.componentDidUpdate=function(){var e=this.props.direction,t=this.state,n=t.scrollLeft,r=t.scrollTop;if(t.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("rtl"===e)switch($()){case"negative":i.scrollLeft=-n;break;case"positive-ascending":i.scrollLeft=n;break;default:var a=i.clientWidth,o=i.scrollWidth;i.scrollLeft=o-a-n}else i.scrollLeft=Math.max(0,n);i.scrollTop=Math.max(0,r)}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&W(this._resetIsScrollingTimeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.columnCount,a=e.direction,o=e.height,s=e.innerRef,u=e.innerElementType,h=e.innerTagName,f=e.itemData,d=e.itemKey,p=void 0===d?q:d,g=e.outerElementType,m=e.outerTagName,v=e.rowCount,y=e.style,b=e.useIsScrolling,w=e.width,C=this.state.isScrolling,x=this._getHorizontalRangeToRender(),E=x[0],k=x[1],S=this._getVerticalRangeToRender(),_=S[0],T=S[1],O=[];if(r>0&&v)for(var A=_;A<=T;A++)for(var P=E;P<=k;P++)O.push((0,i.createElement)(t,{columnIndex:P,data:f,isScrolling:b?C:void 0,key:p({columnIndex:P,data:f,rowIndex:A}),rowIndex:A,style:this._getItemStyle(A,P)}));var j=l(this.props,this._instanceProps),M=c(this.props,this._instanceProps);return(0,i.createElement)(g||m||"div",{className:n,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,F.Z)({position:"relative",height:o,width:w,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},y)},(0,i.createElement)(u||h||"div",{children:O,ref:s,style:{height:j,pointerEvents:C?"none":void 0,width:M}}))},n._callPropsCallbacks=function(){var e=this.props,t=e.columnCount,n=e.onItemsRendered,r=e.onScroll,i=e.rowCount;if("function"==typeof n&&t>0&&i>0){var a=this._getHorizontalRangeToRender(),o=a[0],s=a[1],l=a[2],c=a[3],u=this._getVerticalRangeToRender(),h=u[0],f=u[1],d=u[2],p=u[3];this._callOnItemsRendered(o,s,h,f,l,c,d,p)}if("function"==typeof r){var g=this.state,m=g.horizontalScrollDirection,v=g.scrollLeft,y=g.scrollTop,b=g.scrollUpdateWasRequested,w=g.verticalScrollDirection;this._callOnScroll(v,y,m,w,b)}},n._getHorizontalRangeToRender=function(){var e=this.props,t=e.columnCount,n=e.overscanColumnCount,r=e.overscanColumnsCount,i=e.overscanCount,s=e.rowCount,l=this.state,c=l.horizontalScrollDirection,u=l.isScrolling,h=l.scrollLeft,f=n||r||i||1;if(0===t||0===s)return[0,0,0,0];var d=a(this.props,h,this._instanceProps),p=o(this.props,d,h,this._instanceProps),g=u&&"backward"!==c?1:Math.max(1,f),m=u&&"forward"!==c?1:Math.max(1,f);return[Math.max(0,d-g),Math.max(0,Math.min(t-1,p+m)),d,p]},n._getVerticalRangeToRender=function(){var e=this.props,t=e.columnCount,n=e.overscanCount,r=e.overscanRowCount,i=e.overscanRowsCount,a=e.rowCount,o=this.state,s=o.isScrolling,l=o.verticalScrollDirection,c=o.scrollTop,u=r||i||n||1;if(0===t||0===a)return[0,0,0,0];var h=p(this.props,c,this._instanceProps),f=g(this.props,h,c,this._instanceProps),d=s&&"backward"!==l?1:Math.max(1,u),m=s&&"forward"!==l?1:Math.max(1,u);return[Math.max(0,h-d),Math.max(0,Math.min(a-1,f+m)),h,f]},t}(i.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},n}var Q=function(e,t){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,t.instance};var J=K({getColumnOffset:function(e,t){return t*e.columnWidth},getColumnWidth:function(e,t){return e.columnWidth},getRowOffset:function(e,t){return t*e.rowHeight},getRowHeight:function(e,t){return e.rowHeight},getEstimatedTotalHeight:function(e){var t=e.rowCount;return e.rowHeight*t},getEstimatedTotalWidth:function(e){var t=e.columnCount;return e.columnWidth*t},getOffsetForColumnAndAlignment:function(e,t,n,r,i,a){var o=e.columnCount,s=e.columnWidth,l=e.width,c=Math.max(0,o*s-l),u=Math.min(c,t*s),h=Math.max(0,t*s-l+a+s);switch("smart"===n&&(n=r>=h-l&&r<=u+l?"auto":"center"),n){case"start":return u;case"end":return h;case"center":var f=Math.round(h+(u-h)/2);return f<Math.ceil(l/2)?0:f>c+Math.floor(l/2)?c:f;case"auto":default:return r>=h&&r<=u?r:h>u||r<h?h:u}},getOffsetForRowAndAlignment:function(e,t,n,r,i,a){var o=e.rowHeight,s=e.height,l=e.rowCount,c=Math.max(0,l*o-s),u=Math.min(c,t*o),h=Math.max(0,t*o-s+a+o);switch("smart"===n&&(n=r>=h-s&&r<=u+s?"auto":"center"),n){case"start":return u;case"end":return h;case"center":var f=Math.round(h+(u-h)/2);return f<Math.ceil(s/2)?0:f>c+Math.floor(s/2)?c:f;case"auto":default:return r>=h&&r<=u?r:h>u||r<h?h:u}},getColumnStartIndexForOffset:function(e,t){var n=e.columnWidth,r=e.columnCount;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getColumnStopIndexForStartIndex:function(e,t,n){var r=e.columnWidth,i=e.columnCount,a=e.width,o=t*r,s=Math.ceil((a+n-o)/r);return Math.max(0,Math.min(i-1,t+s-1))},getRowStartIndexForOffset:function(e,t){var n=e.rowHeight,r=e.rowCount;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getRowStopIndexForStartIndex:function(e,t,n){var r=e.rowHeight,i=e.rowCount,a=e.height,o=t*r,s=Math.ceil((a+n-o)/r);return Math.max(0,Math.min(i-1,t+s-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.columnWidth,e.rowHeight}});function ee(e){var t;t="undefined"!=typeof window?window:"undefined"!=typeof self?self:r.g;var n,i,a="undefined"!=typeof document&&document.attachEvent;if(!a){var o=(i=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){return t.setTimeout(e,20)},function(e){return i(e)}),s=(n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout,function(e){return n(e)}),l=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;l(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=o((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},u=!1,h="",f="animationstart",d="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g=document.createElement("fakeelement");if(void 0!==g.style.animationName&&(u=!0),!1===u)for(var m=0;m<d.length;m++)if(void 0!==g.style[d[m]+"AnimationName"]){h="-"+d[m].toLowerCase()+"-",f=p[m],u=!0;break}var v="resizeanim",y="@"+h+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",b=h+"animation: 1ms "+v+"; "}return{addResizeListener:function(n,r){if(a)n.attachEvent("onresize",r);else{if(!n.__resizeTriggers__){var i=n.ownerDocument,o=t.getComputedStyle(n);o&&"static"==o.position&&(n.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(y||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(t.createTextNode(n)),r.appendChild(i)}}(i),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=i.createElement("div")).className="resize-triggers";var s=i.createElement("div");s.className="expand-trigger",s.appendChild(i.createElement("div"));var u=i.createElement("div");u.className="contract-trigger",n.__resizeTriggers__.appendChild(s),n.__resizeTriggers__.appendChild(u),n.appendChild(n.__resizeTriggers__),l(n),n.addEventListener("scroll",c,!0),f&&(n.__resizeTriggers__.__animationListener__=function(e){e.animationName==v&&l(n)},n.__resizeTriggers__.addEventListener(f,n.__resizeTriggers__.__animationListener__))}n.__resizeListeners__.push(r)}},removeResizeListener:function(e,t){if(a)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(f,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}var te=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ae=function(e){function t(){var e,n,r;te(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var a=r._parentNode.offsetHeight||0,o=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,h=parseInt(s.paddingBottom,10)||0,f=a-u-h,d=o-l-c;(!t&&r.state.height!==f||!n&&r.state.width!==d)&&(r.setState({height:a-u-h,width:o-l-c}),i({height:a,width:o}))}},r._setRef=function(e){r._autoSizer=e},ie(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ne(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=ee(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disableHeight,a=e.disableWidth,o=e.style,s=this.state,l=s.height,c=s.width,u={overflow:"visible"},h={},f=!1;return r||(0===l&&(f=!0),u.height=0,h.height=l),a||(0===c&&(f=!0),u.width=0,h.width=c),(0,i.createElement)("div",{className:n,ref:this._setRef,style:re({},u,o)},!f&&t(h))}}]),t}(i.PureComponent);ae.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};const oe=ae;var se=r(9762);var le=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ue=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};const he=function(e){function t(){var e,n,r;le(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ue(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._lastRenderedStartIndex=-1,r._lastRenderedStopIndex=-1,r._memoizedUnloadedRanges=[],r._onItemsRendered=function(e){var t=e.visibleStartIndex,n=e.visibleStopIndex;r._lastRenderedStartIndex=t,r._lastRenderedStopIndex=n,r._ensureRowsLoaded(t,n)},r._setRef=function(e){r._listRef=e},ue(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ce(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){0}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var n=this.props,r=n.isItemLoaded,i=n.itemCount,a=n.minimumBatchSize,o=void 0===a?10:a,s=n.threshold,l=void 0===s?15:s,c=function(e){for(var t=e.isItemLoaded,n=e.itemCount,r=e.minimumBatchSize,i=e.startIndex,a=e.stopIndex,o=[],s=null,l=null,c=i;c<=a;c++){t(c)?null!==l&&(o.push(s,l),s=l=null):(l=c,null===s&&(s=c))}if(null!==l){for(var u=Math.min(Math.max(l,s+r-1),n-1),h=l+1;h<=u&&!t(h);h++)l=h;o.push(s,l)}if(o.length)for(;o[1]-o[0]+1<r&&o[0]>0;){var f=o[0]-1;if(t(f))break;o[0]=f}return o}({isItemLoaded:r,itemCount:i,minimumBatchSize:o,startIndex:Math.max(0,e-l),stopIndex:Math.min(i-1,t+l)});(this._memoizedUnloadedRanges.length!==c.length||this._memoizedUnloadedRanges.some((function(e,t){return c[t]!==e})))&&(this._memoizedUnloadedRanges=c,this._loadUnloadedRanges(c))}},{key:"_loadUnloadedRanges",value:function(e){for(var t=this,n=this.props.loadMoreItems||this.props.loadMoreRows,r=function(r){var i=e[r],a=e[r+1],o=n(i,a);null!=o&&o.then((function(){if(function(e){var t=e.lastRenderedStartIndex,n=e.lastRenderedStopIndex,r=e.startIndex,i=e.stopIndex;return!(r>n||i<t)}({lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:i,stopIndex:a})){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(i,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}}))},i=0;i<e.length;i+=2)r(i)}}]),t}(i.PureComponent);var fe=r(2809);function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let pe=({onScroll:e,forwardedRef:t,style:n,children:r})=>{const a=(0,i.useCallback)(e=>{t(e?e.view:null)},[]);return i.createElement(se.$B,{className:"List",ref:a,style:{...n,overflow:"hidden"},onScroll:e},r)},ge=i.forwardRef((e,t)=>i.createElement(pe,de({},e,{forwardedRef:t})));const me=e=>{let t=a.Z.getState().defaults.peacsy;const[n,r]=(0,i.useState)(0),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[f,p]=(0,i.useState)([]),[g,m]=(0,i.useState)(null),[v,y]=(0,i.useState)(null),[b,w]=(0,i.useState)(e.designs),[C,x]=(0,i.useState)(a.Z.getState().designsCategories),[E,k]=(0,i.useState)(o.Z.getTranslation("Loading"));(0,i.useEffect)(()=>{t&&(u(!0),_(n,s,f,e=>{w([...b,...e.data.data]),y(e.data.meta.total_item),m(!0),u(!1)},()=>{u(!1)}),T(e=>{x([...C,...e.data.data]),u(!1)},()=>{u(!1)}))},[]);const S=({columnIndex:e,isScrolling:n,rowIndex:r,style:a,...o})=>{let s=2*r+e,l=e=>e.price?{price:e.price}:null!=t&&t.price?{price:t.price}:{};return b[s]?i.createElement("div",{onClick:()=>h.Z.addDesign(b[s].name,b[s].value||b[s].src,{...b[s].parameters,...l(b[s])}),className:"ask-gallery-list-item",style:a},n?i.createElement(R.Z,null,i.createElement(d.G,{icon:["fas","spinner"],spin:!0})):i.createElement(I,{src:b[s].large||b[s].src})):null},_=(e=0,n="",i=[],a=(()=>{}),s=(()=>{}))=>{D()({method:"GET",url:`https://peacsy.com/api/images?key=${t.key}&lang=${t.lang||"en"}&q=${n}${i.length>0?"&categories="+i.join(","):""}${t.private?"&private=1":""}${t.favorites?"&favorites=1":""}`}).then((function(t){a(t),r(e+b.length-1),l(n),p(i)})).catch((function(e){s(e),k(o.Z.getTranslation("A problem has occured"))}))},T=(e=(()=>{}),n=(()=>{}))=>{D()({method:"GET",url:`https://peacsy.com/api/categories?key=${t.key}&lang=${t.lang||"en"}`}).then((function(t){e(t)})).catch((function(e){n(e),k(o.Z.getTranslation("A problem has occured"))}))},O=t=>{let n=2*t+0-e.designs.length,r=2*t+1-e.designs.length;return!(n>b.length-1)&&!(r>b.length-1)},A=()=>{t&&_(n,s,f,e=>{w([...b,...e.data.data])})};return 1==c?i.createElement("div",{className:"ask-p-24"},i.createElement(R.Z,null,i.createElement(d.G,{icon:["fas","spinner"],spin:!0}))):i.createElement(i.Fragment,null,i.createElement("div",{className:"ask-p-24"},i.createElement(L.Z,{onChange:o.Z.debounce(n=>{let r=n.target.value,i=e.designs,a=[...f];if(a.length>0){let e=a[a.length-1],t=(e,n=[])=>{if(null==e.children)return n;let r=e.children;for(let e=0;e<r.length;e++)return n.push(r[e].value),t(r[e],n);return n};a=[e,...t((e=>{let t=[...C];for(let n=0;n<e.length;n++){let r=t.find(t=>t.value==e[n]);if(e.length-1==n)return r;null!=r.children&&(t=r.children)}})(a))]}r&&(i=i.filter(e=>-1!==e.name.toLowerCase().indexOf(r.toLowerCase()))),a.length>0&&(i=i.filter(e=>a.some(t=>o.Z.stringToArray(e.categories).includes(t)))),t&&1==g?_(0,r,a,e=>{w([...i,...e.data.data]),y(e.data.meta.total_item)}):w([...i])},200),placeholder:o.Z.getTranslation("Search")})),C.length>0&&i.createElement("div",{className:"ask-px-24"},i.createElement(fe.Z,{onChange:n=>{let r=e.designs;if(n.length>0){let e=n[n.length-1],t=(e,n=[])=>{if(null==e.children)return n;let r=e.children;for(let e=0;e<r.length;e++)return n.push(r[e].value),t(r[e],n);return n};n=[e,...t((e=>{let t=[...C];for(let n=0;n<e.length;n++){let r=t.find(t=>t.value==e[n]);if(e.length-1==n)return r;null!=r.children&&(t=r.children)}})(n))]}s&&(r=r.filter(e=>-1!==e.name.toLowerCase().indexOf(s.toLowerCase()))),n.length>0&&(r=r.filter(e=>n.some(t=>o.Z.stringToArray(e.categories).includes(t)))),t&&1==g?_(0,s,n,e=>{w([...r,...e.data.data]),y(e.data.meta.total_item)}):w([...r])},changeOnSelect:!0,block:!0,options:C,placeholder:o.Z.getTranslation("Select a category")})),i.createElement(oe,null,({height:e,width:t})=>i.createElement(he,{isItemLoaded:O,minimumBatchSize:20,itemCount:v>b.length?Math.ceil(b.length/2)+1:Math.ceil(b.length/2),loadMoreItems:A,threshold:20},({onItemsRendered:n,ref:r})=>i.createElement(J,{className:"ask-gallery-list",useIsScrolling:!0,columnCount:2,onItemsRendered:e=>{const{visibleRowStartIndex:t,visibleRowStopIndex:r,visibleColumnStartIndex:i,overscanRowStartIndex:a,overscanRowStopIndex:o,visibleColumnStopIndex:s}=e;n({visibleStartIndex:2*t+i,visibleStopIndex:2*r+s,overscanStartIndex:a,overscanStopIndex:o})},columnWidth:t/2,rowCount:Math.ceil(b.length/2),rowHeight:120,width:t,ref:r,height:e-112,outerElementType:ge},S))))},ve=(0,s.$j)((e,t)=>({designs:e.designs}))(me);var ye=r(2716),be=r(9745),we=r(9416),Ce=r.n(we);r(246);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let Ee=e=>{let t;return t=e.handleChange?{onChange:t=>(e.handleChange(t),e.onChange?e.onChange(t):null),onBlur:e.handleBlur,value:e.value,defaultValue:e.defaultValue}:{onChange:e.onChange,onBlur:e.onBlur,defaultValue:e.defaultValue,value:e.value},i.createElement(i.Fragment,null,i.createElement("input",xe({name:e.name,id:e.name+e.id},t,{type:"radio",className:"ask-radio"})),e.label&&i.createElement("label",{className:"ask-form-label",htmlFor:e.name+e.id},e.label," "))};Ee.Card=e=>{let t=Ce()();return i.createElement(c.Z,null,i.createElement(Ee,xe({id:t},e)))};const ke=Ee;var Se=r(4625);function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const Te=e=>{let t;return t=e.handleChange?{onChange:t=>{if(Array.isArray((0,Se.u9)(e.values,e.name))){const t=(0,Se.u9)(e.values,e.name),n=t.indexOf(e.checkValue);-1===n?t.push(e.checkValue):t.splice(n,1),e.setFieldValue(e.name,t)}else e.setFieldValue(e.name,!(0,Se.u9)(e.values,e.name)),e.onChange&&e.onChange(t)},onBlur:e.handleBlur,checked:Array.isArray((0,Se.u9)(e.values,e.name))?(0,Se.u9)(e.values,e.name).indexOf(e.checkValue)>-1||!1:(0,Se.u9)(e.values,e.name)||!1,defaultChecked:e.defaultChecked}:{onChange:e.onChange,onBlur:e.onBlur,defaultChecked:e.defaultChecked,checked:e.value},i.createElement(i.Fragment,null,e.before,i.createElement("input",_e({name:e.name},t,{type:"checkbox",className:"ask-checkbox"+("true"==e.switch?"switch":"")})),e.label&&i.createElement("label",{className:"ask-form-label",htmlFor:e.name},e.label," ",1==e.required&&i.createElement("span",{className:"ask-form-required"},"* ")),e.after)};const Oe=e=>{const[t,n]=(0,i.useState)("canvas"),[r,s]=(0,i.useState)("png"),[l,c]=(0,i.useState)(!1),f=(0,i.useRef)(null);let d,p,g=e=>{f.current.setFieldTouched("target",!1),f.current.setFieldValue("target",""),n(e.target.value)},m=e=>{-1==["pdf"].indexOf(e.target.value)&&f.current.setFieldValue("showMarks",null),-1==["png","jpeg"].indexOf(e.target.value)&&f.current.setFieldValue("dpi",72),s(e.target.value)},y=e=>{c(e.target.checked)},b=h.Z.getObjects().filter(e=>"Tools"!=e.elementGroup);switch(r){case"pdf":p=i.createElement(v.Z.Item,{label:o.Z.getTranslation("crop marks"),name:"showMarks"},i.createElement(Te,{onChange:y}));break;default:p=null}if(null!=h.Z.getCanvas())if("canvas"==t)d=i.createElement(v.Z.Item,{name:"target",required:!0},i.createElement(ke.Card,{label:i.createElement("img",{className:"ask-mw-100",src:h.Z.getCanvas().toDataURL()}),value:h.Z.getCanvas().lowerCanvasEl.id}));else if("boxes"==t){let e=h.Z.getDrawingAreas();d=0==e.length?i.createElement(v.Z.Item,{name:"target",required:!0},i.createElement(ye.Z,null)):i.createElement(i.Fragment,null,i.createElement(v.Z.Item,{name:"target",required:!0},e.map((e,t)=>i.createElement(ke.Card,{label:i.createElement("img",{className:"ask-mw-100",src:e.toDataURL({left:e.left,top:e.top,width:e.getScaledWidth(),height:e.getScaledHeight()})}),key:t,value:e.id}))))}else d=i.createElement(v.Z.Item,{name:"target",required:!0},b.map((e,t)=>i.createElement(ke.Card,{label:i.createElement("img",{className:"ask-mw-100",src:e.toDataURL()}),key:t,value:e.id})));return 0==b.length?i.createElement(ye.Z,null):i.createElement(v.Z,{ref:f,onSubmit:e=>{h.Z.makeDownload(e)},initialValues:{scope:"canvas",format:"png",dpi:72,showMarks:!1,marks:{offset:.125,bleed:.125,margin:.2,unit:"in"},unit:"px"}},i.createElement(v.Z.Item,{label:o.Z.getTranslation("Scope"),name:"scope"},i.createElement(be.Z,{block:!0,onChange:g},i.createElement(be.Z.Option,{value:"canvas"},o.Z.getTranslation("Canvas")),i.createElement(be.Z.Option,{value:"boxes"},o.Z.getTranslation("Drawing areas")),i.createElement(be.Z.Option,{value:"elements"},o.Z.getTranslation("Layers and elements")))),d,i.createElement(v.Z.Item,{label:o.Z.getTranslation("Format"),name:"format"},i.createElement(be.Z,{onChange:m,block:!0},i.createElement(be.Z.Option,{value:"png"},"PNG"),i.createElement(be.Z.Option,{value:"jpeg"},"JPEG"),a.Z.getState().addons.indexOf("jspdf")>-1&&i.createElement(be.Z.Option,{value:"pdf"},"PDF"),i.createElement(be.Z.Option,{value:"svg"},"SVG"))),["png","jpeg"].indexOf(r)>-1&&i.createElement(v.Z.Item,{label:o.Z.getTranslation("Dpi"),name:"dpi",required:!0},i.createElement(L.Z,null)),p,1==l&&i.createElement(i.Fragment,null,i.createElement(v.Z.Item,{label:o.Z.getTranslation("Crop marks offset"),name:"marks.offset"},i.createElement(L.Z,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Bleed"),name:"marks.bleed"},i.createElement(L.Z,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Margin"),name:"marks.margin"},i.createElement(L.Z,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Unit marks"),name:"marks.unit"},i.createElement(be.Z,{block:!0},i.createElement(be.Z.Option,{value:"px"},"Pixel"),i.createElement(be.Z.Option,{value:"cm"},"Centimeter"),i.createElement(be.Z.Option,{value:"mm"},"Millimeter"),i.createElement(be.Z.Option,{value:"in"},"Inch")))),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Width"),name:"size"},i.createElement(L.Z,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Unit"),name:"unit"},i.createElement(be.Z,{block:!0},i.createElement(be.Z.Option,{value:"px"},"Pixel"),i.createElement(be.Z.Option,{value:"cm"},"Centimeter"),i.createElement(be.Z.Option,{value:"mm"},"Millimeter"),i.createElement(be.Z.Option,{value:"in"},"Inch"))),i.createElement(v.Z.Item,{name:"submit"},i.createElement(u.Z,{method:"submit",type:"primary"},o.Z.getTranslation("Submit"))))};r(3074);const Ae=i.memo(e=>i.createElement(Oe,null),(e,t)=>{let n=f.Z.getMenuItem("Download");return 1!=t.active&&"panel"!==n.parent.category}),Pe=(0,s.$j)((e,t)=>({canvases:e.fabric.canvases,active:f.Z.getMenuItem("Download").active,view:h.Z.getCurrentView()}))(Ae);var je=r(7462);r(612);const Me=i.forwardRef((e,t)=>{let n=(0,i.useRef)(null);const[r,a]=(0,i.useState)(e.activeKey||e.defaultActiveKey||null),o=i.Children.toArray(e.children);return(0,i.useEffect)(()=>{let t=n.current;t.addEventListener("click",n=>{if(n.target.matches(".ask-accordion-title"))if(n.target.parentElement.classList.contains("active"))n.target.parentElement.classList.remove("active");else{if(1==e.mono){var r=t.querySelectorAll(".ask-accordion-item");Array.prototype.forEach.call(r,(function(e){e.classList.remove("active")}))}n.target.parentElement.classList.add("active")}})},[]),(0,i.useEffect)(()=>{a(e.activeKey)},[e.activeKey]),i.createElement("div",{ref:n,className:"ask-accordion"},o.map((t,n)=>i.cloneElement(t,{className:e.className,active:r,setActive:a,itemKey:t.key.substring(2),onChange:e.onChange||null,index:n})))}),Ie=(0,_.ZP)(Me)`
	${e=>e.styles&&`\n\t\t${e.styles.accordion&&e.styles.accordion.color?`\n\t\t\tcolor: ${e.styles.accordion.color};\n\t\t`:""}\n\t\t${e.styles.accordion&&e.styles.accordion.background?`\n\t\t\tbackground-color: ${e.styles.accordion.background};\n\t\t`:""}\n\t\t${e.styles.accordion&&e.styles.accordion.border?`\n\t\t\tborder-color: ${e.styles.accordion.border};\n\t\t`:""}\n\t\t${e.styles.accordion&&e.styles.accordion.activeColor?`\n\t\t\t&.active{\n\t\t\t\tcolor: ${e=>e.styles?e.styles.activeColor:store.getState().theme.accordion.activeColor};\n\t\t\t}\n\t\t`:""}\n\t\t${e.styles.accordion&&e.styles.accordion.activeBackgroundColor?`\n\t\t\t&.active{\n\t\t\t\tbackground-color: ${e=>e.styles?e.styles.activeBackgroundColor:store.getState().theme.accordion.activeBackgroundColor}\n\t\t\t}\n\t\t`:""}\n\t\t${e.styles.accordion&&e.styles.accordion.hoverColor?`\n\t\t\t&.active{\n\t\t\t\tcolor: ${e=>e.styles?e.styles.hoverColor:store.getState().theme.accordion.hoverColor};\n\t\t\t}\n\t\t`:""}\n\t\t${e.styles.accordion&&e.styles.accordion.hoverBackgroundColor?`\n\t\t\t&:hover{\n\t\t\t\tbackground-color: ${e=>e.styles?e.styles.hoverBackgroundColor:store.getState().theme.accordion.hoverBackgroundColor};\n\t\t\t}\n\t\t`:""}\n\t`}
`;Ie.Item=e=>{const{children:t,title:n,...r}=e;return i.createElement("div",{className:"ask-accordion-item"+(e.itemKey==e.active?" active":"")+(e.className?" "+e.className:"")},i.createElement("div",{className:"ask-accordion-title","data-value":n,onClick:()=>(null!=e.onChange&&e.itemKey!=e.active&&e.onChange([e.index,e.title]),e.setActive(e.itemKey))},n),i.createElement("div",{className:"ask-accordion-panel"},i.Children.toArray(e.children)))};const Re=(0,s.$j)((e,t)=>({styles:e.theme}))(Ie);var Le=r(5538);const Ze=(0,s.$j)((e,t)=>({styles:e.theme.modal}))(e=>{let t=(0,i.useRef)(null);const{upload:n}=a.Z.getState().defaults;return i.createElement(b.Z,{centered:!0,title:null!=e.params.item?null!=e.params.duplication?o.Z.getTranslation("Duplicate an element"):o.Z.getTranslation("Edit an element"):o.Z.getTranslation("Add an element"),visible:e.active,onOk:()=>{t.current.submitForm()},onClose:()=>{e.closeModal(e.element),t.current.resetForm()}},i.createElement(v.Z,{ref:t,onUpdate:()=>t.current.resetForm(),onSubmit:n=>{null!=e.params.item?null!=e.params.duplication?h.Z.addElement(n.name,n.category,n.icon,n.variations,{bringtofront:n.bringtofront,selectable:n.selectable,evented:n.evented}):h.Z.updateItem(e.params.item,n.name,n.category,n.icon,n.variations,{bringtofront:n.bringtofront,selectable:n.selectable,evented:n.evented}):h.Z.addElement(n.name,n.category,n.icon,n.variations,{bringtofront:n.bringtofront,selectable:n.selectable,evented:n.evented}),e.closeModal(e.element),t.current.resetForm()},initialValues:{selectable:!0,evented:!0,...e.params.item}},i.createElement(v.Z.Item,{label:o.Z.getTranslation("Name"),name:"name",required:!0},i.createElement(L.Z,{placeholder:o.Z.getTranslation("Name")})),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Category"),name:"category"},i.createElement(L.Z,{placeholder:o.Z.getTranslation("Category")})),i.createElement(v.Z.Item,{name:"icon",label:o.Z.getTranslation("Icon"),info:o.Z.getTranslation("You can replace the original icon with your own icon")},i.createElement(y.g,{accept:"jpeg,jpg,gif,png",multiple:!1,action:null!=n&&n.action?n.action:"base64",method:null!=n&&n.method?n.method:"GET"},i.createElement(u.Z,null,o.Z.getTranslation("Click to upload")))),i.createElement(v.Z.Item,{name:"bringtofront",label:o.Z.getTranslation("Bring to front")},i.createElement(Te,null)),i.createElement(v.Z.Item,{name:"selectable",label:o.Z.getTranslation("Selectable")},i.createElement(Te,null)),i.createElement(v.Z.Item,{name:"evented",label:o.Z.getTranslation("Evented")},i.createElement(Te,null)),i.createElement(v.Z.List,{name:"variations"},(e,{add:r,remove:a,name:s})=>i.createElement(i.Fragment,null,e.map((e,r)=>i.createElement(c.Z,{key:r,className:"ask-list-item",actions:[i.createElement("div",{onClick:()=>a(r)},i.createElement(d.G,{icon:["fas","trash"]}))]},i.createElement(v.Z.Item,{label:o.Z.getTranslation("Variation name"),name:`${s}.${r}.name`,required:!0},i.createElement(L.Z,{placeholder:o.Z.getTranslation("Variation name")})),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Price"),name:`${s}.${r}.price`},i.createElement(L.Z,{placeholder:o.Z.getTranslation("Price")})),i.createElement(v.Z.Item,{info:o.Z.getTranslation("Variation image"),name:`${s}.${r}.image`,required:!0},i.createElement(y.g,{accept:"jpeg,jpg,gif,svg,png",multiple:!1,action:null!=n&&n.action?n.action:"base64",method:null!=n&&n.method?n.method:"GET"},i.createElement(u.Z,null,o.Z.getTranslation("Click to upload")))),i.createElement(v.Z.Item,{name:`${s}.${r}.color`,required:!0},i.createElement(Le.Z,null)),i.createElement(v.Z.Item,{name:`${s}.${r}.icon`,label:o.Z.getTranslation("Icon"),info:o.Z.getTranslation("You can replace the original icon color with your own icon")},i.createElement(y.g,{accept:"jpeg,jpg,gif,png",multiple:!1,action:null!=n&&n.action?n.action:"base64",method:null!=n&&n.method?n.method:"GET"},i.createElement(u.Z,null,o.Z.getTranslation("Click to upload")))),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Active"),name:`${s}.${r}.active`,validate:e=>!e.variations.find(e=>1==e.active)&&o.Z.getTranslation("You must set atleast one active variation")},i.createElement(Te,{onChange:()=>{for(let e=0;e<t.current.values.variations.length;e++)e!=r&&t.current.setFieldValue(`${s}.${e}.active`,!1,!1)}})))),i.createElement(u.Z,{className:"ask-mt-15",block:!0,onClick:()=>r()},o.Z.getTranslation("Add variation"))))))});const De=(0,s.$j)((e,t)=>({styles:e.theme.modal}))(e=>{let t=(0,i.useRef)(null);const{upload:n}=a.Z.getState().defaults;return i.createElement(b.Z,{centered:!0,title:null!=e.params.item?null!=e.params.duplication?o.Z.getTranslation("Duplicate an element"):o.Z.getTranslation("Edit an element"):o.Z.getTranslation("Add an element"),visible:e.active,onOk:()=>{t.current.submitForm()},onClose:()=>{e.closeModal(e.element),t.current.resetForm()}},i.createElement(v.Z,{ref:t,onUpdate:()=>t.current.resetForm(),onSubmit:n=>{null!=e.params.item?null!=e.params.duplication?h.Z.addElement(n.name,n.category,n.icon,n.derivatives,{bringtofront:n.bringtofront,selectable:n.selectable,evented:n.evented}):h.Z.updateItem(e.params.item,n.name,n.category,n.icon,n.derivatives,{bringtofront:n.bringtofront,selectable:n.selectable,evented:n.evented}):h.Z.addElement(n.name,n.category,n.icon,n.derivatives,{bringtofront:n.bringtofront,selectable:n.selectable,evented:n.evented}),e.closeModal(e.element),t.current.resetForm()},initialValues:{selectable:!0,evented:!0,...e.params.item}},i.createElement(v.Z.Item,{label:o.Z.getTranslation("Name"),name:"name",required:!0},i.createElement(L.Z,{placeholder:o.Z.getTranslation("Name")})),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Category"),name:"category"},i.createElement(L.Z,{placeholder:o.Z.getTranslation("Category")})),i.createElement(v.Z.Item,{name:"icon",label:o.Z.getTranslation("Icon"),info:o.Z.getTranslation("You can replace the original icon with your own icon")},i.createElement(y.g,{accept:"jpeg,jpg,gif,png",multiple:!1,action:null!=n&&n.action?n.action:"base64",method:null!=n&&n.method?n.method:"GET"},i.createElement(u.Z,null,o.Z.getTranslation("Click to upload")))),i.createElement(v.Z.Item,{name:"bringtofront",label:o.Z.getTranslation("Bring to front")},i.createElement(Te,null)),i.createElement(v.Z.Item,{name:"selectable",label:o.Z.getTranslation("Selectable")},i.createElement(Te,null)),i.createElement(v.Z.Item,{name:"evented",label:o.Z.getTranslation("Evented")},i.createElement(Te,null)),i.createElement(v.Z.List,{name:"derivatives"},(e,{add:r,remove:a,name:s})=>{let l=s;return i.createElement(i.Fragment,null,e.map((e,r)=>{let s=r;return i.createElement(c.Z,{key:r,className:"ask-list-item",actions:[i.createElement("div",{onClick:()=>a(r)},i.createElement(d.G,{icon:["fas","trash"]}))]},i.createElement(v.Z.Item,{label:o.Z.getTranslation("Derivative name"),name:`${l}.${r}.name`,required:!0},i.createElement(L.Z,{placeholder:o.Z.getTranslation("Derivative name")})),i.createElement(v.Z.Item,{name:`${l}.${r}.icon`,label:o.Z.getTranslation("Icon"),info:o.Z.getTranslation("You can replace the original icon with your own icon")},i.createElement(y.g,{accept:"jpeg,jpg,gif,png",multiple:!1,action:null!=n&&n.action?n.action:"base64",method:null!=n&&n.method?n.method:"GET"},i.createElement(u.Z,null,o.Z.getTranslation("Click to upload")))),i.createElement(v.Z.List,{name:`${l}.${r}.variations`},(e,{add:r,remove:a,name:l})=>{let h=l;return i.createElement(i.Fragment,null,e.map((e,r)=>{let l=r;return i.createElement(c.Z,{className:"ask-list-item",key:r,actions:[i.createElement("div",{onClick:()=>a(r)},i.createElement(d.G,{icon:["fas","trash"]}))]},i.createElement(v.Z.Item,{label:o.Z.getTranslation("Variation name"),name:`${h}.${r}.name`,required:!0},i.createElement(L.Z,{placeholder:o.Z.getTranslation("Variation name")})),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Price"),name:`${h}.${r}.price`},i.createElement(L.Z,{placeholder:o.Z.getTranslation("Price")})),i.createElement(v.Z.Item,{info:o.Z.getTranslation("Variation image"),name:`${h}.${r}.image`,required:!0},i.createElement(y.g,{accept:"jpeg,jpg,gif,svg,png",multiple:!1,action:null!=n&&n.action?n.action:"base64",method:null!=n&&n.method?n.method:"GET"},i.createElement(u.Z,null,o.Z.getTranslation("Click to upload")))),i.createElement(v.Z.Item,{name:`${h}.${r}.color`,required:!0},i.createElement(Le.Z,null)),i.createElement(v.Z.Item,{name:`${h}.${r}.icon`,label:o.Z.getTranslation("Icon"),info:o.Z.getTranslation("You can replace the original color icon with your own icon")},i.createElement(y.g,{accept:"jpeg,jpg,gif,png",multiple:!1,action:null!=n&&n.action?n.action:"base64",method:null!=n&&n.method?n.method:"GET"},i.createElement(u.Z,null,o.Z.getTranslation("Click to upload")))),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Active"),name:`${h}.${r}.active`,validate:(e,t)=>{let n=e.derivatives;for(let e=0;e<n.length;e++){let t=n[e].variations;if(null!=t&&t.find(e=>1==e.active))return!1}return o.Z.getTranslation("You must set atleast one active variation")}},i.createElement(Te,{onChange:()=>{for(let e=0;e<t.current.values.derivatives.length;e++){let n=t.current.values.derivatives[e].variations;if(n)for(let r=0;r<n.length;r++)r==l&&e==s||t.current.setFieldValue(`derivatives.${e}.variations.${r}.active`,!1,!1)}}})))}),i.createElement(u.Z,{className:"ask-mt-15",block:!0,onClick:()=>r()},o.Z.getTranslation("Add variation")))}))}),i.createElement(u.Z,{className:"ask-mt-15",block:!0,onClick:()=>r()},o.Z.getTranslation("Add derivative")))})))});const Fe=(0,s.$j)((e,t)=>({styles:e.theme.modal}))(e=>{let t=Object.keys(h.Z.canvases).map((function(e){return{id:e,canvas:h.Z.canvases[e]}}));return i.createElement(b.Z,{centered:!0,closable:!0,title:null!=e.params.name?o.Z.getTranslation("Edit an element"):o.Z.getTranslation("Add an element"),visible:e.active,onClose:()=>{e.closeModal(e.element)}},t.map((t,n)=>i.createElement(c.Z,{title:t.id,key:n,className:"ask-mb-15"},i.createElement(l.Z,{column:1,data:t.canvas.getObjects().filter(e=>"Elements"==e.itemGroup),render:t=>i.createElement(i.Fragment,null,i.createElement(I,{float:"left",display:"flex",size:"xs",src:t.toDataURL()}),i.createElement(u.Z,{onClick:()=>(t=>{null!=t.variations?f.Z.openModal(Ze,{item:t,duplication:!0}):null!=t.derivatives&&f.Z.openModal(De,{item:t,duplication:!0}),e.closeModal(e.element)})(t),className:"ask-ml-15"},i.createElement(d.G,{icon:["fas","copy"]})))}))))});const Ne=i.memo(e=>{if(null==h.Z.getCanvas())return i.createElement(c.Z,null,o.Z.getTranslation("You need to create a view to access this menu"));const t=i.createElement(E.Z,null,i.createElement(E.Z.Item,{onClick:e=>(e.stopPropagation(),f.Z.openModal(Ze)),key:"single"},o.Z.getTranslation("Single")),i.createElement(E.Z.Item,{onClick:e=>(e.stopPropagation(),f.Z.openModal(De)),key:"multiple"},o.Z.getTranslation("Multiple"))),n=e.items.reduce((e,t)=>{const n=""==t.category?"uncategorized":t.category;return e[n]||(e[n]=[]),e[n].push(t),e},{}),{uncategorized:r,...a}=n;return i.createElement(i.Fragment,null,"backend"==e.mode&&i.createElement("div",{className:"ask-row ask-mb-15"},i.createElement("div",{className:"ask-col-xs-8"},i.createElement(P,{sameWidth:!0,overlay:t},i.createElement(u.Z,{block:!0},o.Z.getTranslation("Add")," ",i.createElement(d.G,{icon:["fas","caret-down"]})))),i.createElement("div",{className:"ask-col-xs-4"},i.createElement(u.Z,{onClick:()=>f.Z.openModal(Fe),block:!0,type:"primary"},i.createElement(d.G,{icon:["fas","copy"]})))),null!=a&&Object.keys(a).length>0&&i.createElement(Re,{mono:!0},Object.keys(a).map((t,n)=>i.createElement(Re.Item,{title:t,key:n},i.createElement(l.Z,{column:1,data:a[t]?a[t].reverse():[],render:t=>i.createElement(c.Z,{onMouseOver:e=>h.Z.mouseOverObject(t),onMouseOut:e=>h.Z.mouseOutObject(t),cursor:"pointer",onClick:e=>(h.Z.getCanvas().discardActiveObject(),h.Z.setActiveObject(t),f.Z.forceOpenMenu("Personalization")),hoverable:!0,flex:!0,actions:"backend"==e.mode?[i.createElement("div",{onClick:e=>(e.stopPropagation(),h.Z.bringForward(t))},i.createElement(d.G,{icon:["fas","caret-down"],rotation:180})),i.createElement("div",{onClick:e=>(e.stopPropagation(),h.Z.sendBackward(t))},i.createElement(d.G,{icon:["fas","caret-down"]})),i.createElement("div",{onClick:e=>(e.stopPropagation(),null!=t.derivatives?f.Z.openModal(De,{item:t}):f.Z.openModal(Ze,{item:t}))},i.createElement(d.G,{icon:["fas","edit"]})),i.createElement("div",{onClick:e=>(e.stopPropagation(),h.Z.remove(t))},i.createElement(d.G,{icon:["fas","trash"]}))]:null},i.createElement("span",{style:{maxWidth:"20%"},className:"ask-image ask-mr-15"},i.createElement(je.Z,{placement:"top",content:null!=t.derivatives?o.Z.getTranslation("Multiple"):o.Z.getTranslation("Single")},i.createElement("img",{className:"ask-mw-100",src:null!=t.icon&&""!=t.icon?t.icon.url:t.toDataURL({format:"jpeg",quality:.8,multiplier:1/(t.getScaledWidth()/32)})}))),i.createElement("span",{className:"ask-title"},t.name))})))),(null!=r&&r.length>0||(null==a||0==Object.keys(a).length)&&(null==r||0==r.length))&&i.createElement(l.Z,{column:1,data:r?r.reverse():[],render:t=>i.createElement(c.Z,{onMouseOver:e=>h.Z.mouseOverObject(t),onMouseOut:e=>h.Z.mouseOutObject(t),cursor:"pointer",onClick:e=>(h.Z.getCanvas().discardActiveObject(),h.Z.setActiveObject(t),f.Z.forceOpenMenu("Personalization")),hoverable:!0,flex:!0,actions:"backend"==e.mode?[i.createElement("div",{onClick:e=>(e.stopPropagation(),h.Z.bringForward(t))},i.createElement(d.G,{icon:["fas","caret-down"],rotation:180})),i.createElement("div",{onClick:e=>(e.stopPropagation(),h.Z.sendBackward(t))},i.createElement(d.G,{icon:["fas","caret-down"]})),i.createElement("div",{onClick:e=>(e.stopPropagation(),null!=t.derivatives?f.Z.openModal(De,{item:t}):f.Z.openModal(Ze,{item:t}))},i.createElement(d.G,{icon:["fas","edit"]})),i.createElement("div",{onClick:e=>(e.stopPropagation(),h.Z.remove(t))},i.createElement(d.G,{icon:["fas","trash"]}))]:null},i.createElement("span",{style:{maxWidth:"20%"},className:"ask-image ask-mr-15"},i.createElement(je.Z,{placement:"top",content:null!=t.derivatives?o.Z.getTranslation("Multiple"):o.Z.getTranslation("Single")},i.createElement("img",{className:"ask-mw-100",src:null!=t.icon&&""!=t.icon?t.icon.url:t.toDataURL({format:"jpeg",quality:.8,multiplier:1/(t.getScaledWidth()/32)})}))),i.createElement("span",{className:"ask-title"},t.name))}))},()=>{let e=f.Z.getMenuItem("Elements"),t=f.Z.getMenus().find(e=>"custom"==e.id).items;return!(e&&e.active||"panel"===e.parent.category||t.find(e=>"Elements"==e.name))}),Be=(0,s.$j)((e,t)=>({items:h.Z.getItems(),mode:e.mode}))(Ne);var ze=r(9837);class Ve extends i.Component{render(){return 0==h.Z.getCanvases("toArray").length?null:i.createElement("div",{className:"ask-p-10",style:{width:"200px"}},i.createElement(ze.Z,{min:1,max:2,step:.01,value:h.Z.getZoom(),onChange:e=>h.Z.setZoom(e.target.value)}))}}const Ue=Ve,He=(0,s.$j)((e,t)=>({canvas:e.fabric.canvases}))(Ue);var We=r(2774),Ge=r(4968);r(9293);let Ye=!1,Xe=e=>{const t=i.Children.toArray(e.children),[n,r]=(0,i.useState)(e.activeKey||e.defaultActiveKey||(()=>t[0].key.substring(2)));let a,o,s,l,c,u;const h=(0,i.useRef)(null),f=(0,i.useRef)(null),d=(0,i.useRef)(null),p=(0,i.useRef)(null);let g=e=>{a=!0;let t=window.getComputedStyle(h.current);if(u=t.transform||t.webkitTransform||t.mozTransform,"none"!=u){let e=u.match(/matrix.*\((.+)\)/)[1].split(", ");c=0-parseInt(e[4]),l=-(h.current.offsetWidth-f.current.offsetWidth+parseInt(e[4]))}else c=0,l=-(h.current.offsetWidth-f.current.offsetWidth);s=h.current.getBoundingClientRect(),o=e.clientX-Math.ceil(s.left)},m=e=>{if(1!=a)return;Ye=!0;let t=window.getComputedStyle(h.current);if(u=t.transform||t.webkitTransform||t.mozTransform,"none"!=u){let e=u.match(/matrix.*\((.+)\)/)[1].split(", ");var n=parseInt(e[4])+c}else n=0;if(1==Ye){let t=e.clientX-Math.ceil(s.left)-o-c;(n>l&&t+c<n||n<c&&t+c>n)&&(h.current.style.transform=`translate(${t}px,0)`)}},v=e=>{Ye=!1,a=!1},y=e=>{e.clientX,Math.ceil(s.left);a=!1},b=()=>{p.current.style.height="calc( 100% - "+f.current.offsetHeight+"px )"};return(0,i.useEffect)(()=>(h.current.offsetWidth>f.current.offsetWidth&&(h.current.classList.add("ask-movable"),h.current.addEventListener("mousedown",g),h.current.addEventListener("mousemove",m),h.current.addEventListener("mouseleave",v),h.current.addEventListener("mouseup",y)),b(),window.addEventListener("resize",b),()=>{h.current.removeEventListener("mousedown",g),h.current.removeEventListener("mousemove",m),h.current.removeEventListener("mouseleave",v),h.current.removeEventListener("mouseup",y),window.removeEventListener("resize",b)}),[]),(0,i.useEffect)(()=>{b()}),(0,i.useEffect)(()=>{let e=h.current.getElementsByClassName("active")[0];d.current.style.transform=`translate(${e.offsetLeft}px, 0)`,d.current.style.width=e.offsetWidth+"px",b()},[n]),i.createElement("div",{className:"ask-tabs",style:e.style||null},i.createElement("nav",{ref:f,className:"ask-tabs-header-wrapper"},i.createElement("div",{className:"ask-tabs-header-inner"},i.createElement("div",{ref:h,className:"ask-tabs-header ask-mb-15"},t.map((t,a)=>i.cloneElement(t,{type:"header",active:n,setActive:r,itemKey:t.key.substring(2),onChange:e.onChange||null,index:a})),i.createElement("span",{ref:d,className:"ask-tabs-slider",role:"presentation"})))),i.createElement("div",{ref:p,className:"ask-tabs-content"},t.map((e,t)=>i.cloneElement(e,{type:"panel",active:n,setActive:r,itemKey:e.key.substring(2)}))))};Xe.TabPane=e=>{switch(e.type){case"header":return i.createElement(u.Z,{onClick:()=>{1==Ye||e.setActive(e.itemKey),Ye=!1,null!=e.onChange&&e.itemKey!=e.active&&e.onChange([e.index,e.title])},type:"link",className:"ask-tabs-header-tab"+(e.itemKey==e.active?" active":"")},e.title);case"panel":return i.createElement("div",{className:"ask-tabs-tabpane"+(e.itemKey==e.active?" active":""),id:"ask-tab-panel-"+e.itemKey},e.children)}};const $e=Xe;function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const Ke=e=>{let t=e.object||e.path,n=null!=t.group?t.group.printingMethod:t.printingMethod;return null!=h.Z.getPrintingMethods()&&h.Z.getPrintingMethods().length>0&&h.Z.getColors().length>0&&"Form"!=t.itemType?i.createElement(Ge.Z,{trigger:"click",portal:document.getElementsByTagName("BODY")[0],placement:"bottom",content:i.createElement($e,{activeKey:e.method},h.Z.getPrintingMethods().map(r=>i.createElement($e.TabPane,{title:r.name,key:r.name},i.createElement(se.$B,{hideTracksWhenNotNeeded:!0,style:{maxWidth:"350px",height:"120px"},renderView:e=>i.createElement("div",qe({},e,{style:{...e.style,marginBottom:0,overflowX:"hidden"}}))},i.createElement("div",{className:"ask-colors-list ask-row ask-row-nogutter"},h.Z.getColors().filter(e=>o.Z.stringToArray(e.printingtypes).some(e=>e==r.name)).map((a,s)=>i.createElement("div",{onClick:()=>e.onChange(a.value,r.name),key:s,className:"ask-color-item-wrapper ask-col-xs-3"},i.createElement("span",{className:"ask-color-item",style:{...o.Z.getFillStyle(a.value)}},a.value==o.Z.getFill(t[e.property])&&n==r.name&&i.createElement(d.G,{className:"ask-current-color",icon:["fas","check-circle"]})))))))))},i.createElement("span",{className:"ask-color-item",style:{...o.Z.getFillStyle(o.Z.getFill(t[e.property])),display:"inline-block"}})):h.Z.getColors().length>0&&"Form"!=t.itemType?i.createElement(Ge.Z,{trigger:"click",portal:document.getElementsByTagName("BODY")[0],placement:"bottom",content:i.createElement(se.$B,{hideTracksWhenNotNeeded:!0,className:"ask-colors-list",style:{width:"350px",height:"120px"},renderView:e=>i.createElement("div",qe({},e,{style:{...e.style,marginBottom:0,overflowX:"hidden"}}))},i.createElement("div",{className:"ask-colors-list ask-row ask-row-nogutter"},h.Z.getColors().map((n,r)=>i.createElement("div",{onClick:()=>e.onChange(n.value),key:r,className:"ask-color-item-wrapper ask-col-xs-3"},i.createElement("span",{className:"ask-color-item",style:{...o.Z.getFillStyle(n.value)}},n.value==o.Z.getFill(t[e.property])&&i.createElement(d.G,{className:"ask-current-color",icon:["fas","check-circle"]}))))))},i.createElement("span",{className:"ask-color-item",style:{...o.Z.getFillStyle(o.Z.getFill(t[e.property])),height:"2em",width:"2em",display:"inline-block"}})):i.createElement(Le.Z,{value:o.Z.getFill(t[e.property]),onChange:t=>e.onChange(t)})};function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let Je=e=>i.createElement(Ke,Qe({property:"fill"},e)),et=e=>i.createElement(E.Z.Item,null,i.createElement(Je,{object:e.object,method:e.object.printingMethod,onChange:(e,t)=>h.Z.setFill(e,t)})),tt=e=>{let t=i.createElement(se.$B,{hideTracksWhenNotNeeded:!0,style:{maxWidth:"350px",height:"120px"},renderView:e=>i.createElement("div",Qe({},e,{style:{...e.style,marginBottom:0,overflowX:"hidden"}}))},i.createElement("div",{className:"ask-colors-list ask-row ask-row-nogutter"},e.object._objects.map((t,n)=>i.createElement("div",{onMouseOver:e=>h.Z.mouseOverObject(t),onMouseOut:e=>h.Z.mouseOutObject(t),key:n,className:"ask-color-item-wrapper ask-col-xs-3"},i.createElement(Je,{method:e.object.printingMethod,path:t,onChange:(e,t)=>h.Z.setPathFill(e,n,t)})))));return 1==e.wrapper&&(t=i.createElement(Ge.Z,{trigger:"click",portal:document.getElementsByTagName("BODY")[0],placement:"bottom",content:i.createElement("div",{style:{width:"250px",maxHeight:"200px"}},t)},i.createElement(E.Z.Item,null,i.createElement(d.G,{icon:["fas","palette"]})))),t};const nt=i.forwardRef((e,t)=>{const{wrapper:n=!0,...r}=e;let a=h.Z.getActiveObject();if(null==a)return null;switch(a.type){case"group":return i.createElement(tt,{wrapper:n,object:a});default:return i.createElement(et,{wrapper:n,object:a})}});const rt=e=>{let t=null,n=e.object;if(null!=n)if(null!=n.variations){let e=We.Z.getActiveVariation(n.variations);t=i.createElement("div",{className:"ask-variations"},i.createElement("div",{className:"ask-colors-list ask-row"},n.variations.map((t,r)=>"group"==n.type&&r>0?null:"group"==n.type?i.createElement("div",{key:r,className:"ask-col-xs-12"},i.createElement(nt,{wrapper:!1,object:n})):i.createElement("div",{key:r,onClick:()=>h.Z.setActiveVariation(n,r),className:"ask-color-item-wrapper ask-col-xs-3"},i.createElement(je.Z,{placement:"top",content:t.name},t.icon&&null!=t.icon.url?i.createElement("span",{className:"ask-color-item",style:{backgroundImage:"url("+t.icon.url+")"}},e.indexVariation==r&&i.createElement(d.G,{className:"ask-current-color",icon:["fas","check-circle"]})):i.createElement("span",{className:"ask-color-item",style:{backgroundColor:t.color}},e.indexVariation==r&&i.createElement(d.G,{className:"ask-current-color",icon:["fas","check-circle"]})))))))}else if(null!=n.derivatives){let e=We.Z.getActiveVariation(n.derivatives);t=i.createElement("div",{className:"ask-derivatives"},i.createElement(Re,{mono:!0,onChange:e=>h.Z.setActiveVariation(n,0,e[0]),activeKey:e.derivativeName},n.derivatives.map((t,r)=>i.createElement(Re.Item,{title:null!=t.icon?i.createElement("img",{className:"ask-mw-100",src:t.icon.url}):t.name,key:t.name},i.createElement("div",{className:"ask-variations"},i.createElement("div",{className:"ask-colors-list ask-row"},t.variations.map((t,a)=>"group"==n.type&&a>0?null:"group"==n.type?i.createElement("div",{key:a,className:"ask-col-xs-12"},i.createElement(nt,{wrapper:!1,object:n})):i.createElement("div",{onClick:()=>h.Z.setActiveVariation(n,a,r),key:a,className:"ask-color-item-wrapper ask-col-xs-3"},i.createElement(je.Z,{placement:"top",content:t.name},t.icon&&null!=t.icon.url?i.createElement("span",{className:"ask-color-item",style:{backgroundImage:"url("+t.icon.url+")"}},e.indexDerivative==r&&e.indexVariation==a&&i.createElement(d.G,{className:"ask-current-color",icon:["fas","check-circle"]})):i.createElement("span",{className:"ask-color-item",style:{backgroundColor:t.color}},e.indexDerivative==r&&e.indexVariation==a&&i.createElement(d.G,{className:"ask-current-color",icon:["fas","check-circle"]})))))))))))}return t},it=(0,s.$j)((e,t)=>({selection:e.fabric.selection,object:h.Z.lastElement,canvas:e.fabric.canvases}))(rt);const at=e=>{(0,i.useEffect)(()=>{n.current.values.text&&delete h.Z.getCanvas().toggleMarker,null!=n.current&&(null==h.Z.getCanvas().currentText?n.current.resetForm():n.current.setFieldValue("text",h.Z.getCanvas().currentText.text))});let t,n=(0,i.useRef)(h.Z.getCanvas().currentText?h.Z.getCanvas().currentText.text:null);return null!=h.Z.getCanvas()&&h.Z.getCanvas().toggleMarker&&h.Z.getCanvas().toggleMarker.markerConstraints.maxChars&&(t=h.Z.getCanvas().toggleMarker.markerConstraints.maxChars),null!=h.Z.getCanvas()&&h.Z.getCanvas().currentText&&h.Z.getCanvas().currentText.marker.markerConstraints&&h.Z.getCanvas().currentText.marker.markerConstraints.maxChars&&(t=h.Z.getCanvas().currentText.marker.markerConstraints.maxChars),i.createElement(v.Z,{ref:n,onSubmit:e=>{h.Z.addText(e.text),null!=n.current&&(null==h.Z.getCanvas().currentText?n.current.resetForm():n.current.setFieldValue("text",h.Z.getCanvas().currentText.text))}},i.createElement(v.Z.Item,{name:"text",required:!0},i.createElement(L.Z.TextArea,{maxLength:t,onInput:e=>{null!=h.Z.getCanvas()&&h.Z.getCanvas().toggleMarker&&h.Z.getCanvas().toggleMarker.markerConstraints&&h.Z.getCanvas().toggleMarker.markerConstraints.lineBreaks&&1==h.Z.getCanvas().toggleMarker.markerConstraints.lineBreaks&&(e.target.value=e.target.value.replace(/\n/g,"")),null!=h.Z.getCanvas()&&h.Z.getCanvas().toggleMarker&&h.Z.getCanvas().toggleMarker.markerConstraints&&h.Z.getCanvas().toggleMarker.markerConstraints.transform&&"uppercase"==h.Z.getCanvas().toggleMarker.markerConstraints.transform?e.target.value=e.target.value.toUpperCase():null!=h.Z.getCanvas()&&h.Z.getCanvas().toggleMarker&&h.Z.getCanvas().toggleMarker.markerConstraints&&h.Z.getCanvas().toggleMarker.markerConstraints.transform&&"lowercase"==h.Z.getCanvas().toggleMarker.markerConstraints.transform&&(e.target.value=e.target.value.toLowerCase()),null!=h.Z.getCanvas()&&h.Z.getCanvas().currentText&&h.Z.getCanvas().currentText.markerConstraints&&h.Z.getCanvas().currentText.markerConstraints.lineBreaks&&1==h.Z.getCanvas().currentText.markerConstraints.lineBreaks&&(e.target.value=e.target.value.replace(/\n/g,"")),null!=h.Z.getCanvas()&&h.Z.getCanvas().currentText&&h.Z.getCanvas().currentText.markerConstraints&&h.Z.getCanvas().currentText.markerConstraints.transform&&"uppercase"==h.Z.getCanvas().currentText.markerConstraints.transform?e.target.value=e.target.value.toUpperCase():null!=h.Z.getCanvas()&&h.Z.getCanvas().currentText&&h.Z.getCanvas().currentText.markerConstraints&&h.Z.getCanvas().currentText.markerConstraints.transform&&"lowercase"==h.Z.getCanvas().currentText.markerConstraints.transform&&(e.target.value=e.target.value.toLowerCase()),h.Z.getCanvas().currentText&&(h.Z.getCanvas().currentText.set({text:e.target.value}),h.Z.getCanvas().renderAll())}})),i.createElement(v.Z.Item,{name:"submit"},!h.Z.getCanvas().currentText&&i.createElement(u.Z,{type:"primary",method:"submit"},o.Z.getTranslation("Add text"))))};const ot=()=>null==h.Z.getCanvas()?i.createElement(c.Z,null,o.Z.getTranslation("You need to create a view to access this menu")):i.createElement(at,null);function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class lt extends i.Component{constructor(...e){super(...e),st(this,"form",i.createRef()),st(this,"onSubmit",e=>{h.Z.addQrCode(e.text),this.form.current.resetForm()})}render(){return i.createElement(v.Z,{ref:this.form,onSubmit:this.onSubmit},i.createElement(v.Z.Item,{name:"text",required:!0},i.createElement(L.Z.TextArea,null)),i.createElement(v.Z.Item,{name:"submit"},i.createElement(u.Z,{type:"primary",method:"submit"},o.Z.getTranslation("Add Qr Code"))))}}const ct=lt;const ut=()=>null==h.Z.getCanvas()?i.createElement(c.Z,null,o.Z.getTranslation("You need to create a view to access this menu")):i.createElement(ct,null);const ht=()=>i.createElement(E.Z,{mode:"horizontal"},i.createElement(E.Z.Item,{onClick:()=>h.Z.align("top"),key:"top"},i.createElement("span",{style:{margin:0},"aria-label":"menu",className:"anticon"},i.createElement(d.G,{icon:["fas","position-top"]}))),i.createElement(E.Z.Item,{onClick:()=>h.Z.align("right"),key:"right"},i.createElement("span",{style:{margin:0},"aria-label":"menu",className:"anticon"},i.createElement(d.G,{icon:["fas","position-right"]}))),i.createElement(E.Z.Item,{onClick:()=>h.Z.align("left"),key:"left"},i.createElement("span",{style:{margin:0},"aria-label":"menu",className:"anticon"},i.createElement(d.G,{icon:["fas","position-left"]}))),i.createElement(E.Z.Item,{onClick:()=>h.Z.align("bottom"),key:"bottom"},i.createElement("span",{style:{margin:0},"aria-label":"menu",className:"anticon"},i.createElement(d.G,{icon:["fas","position-bottom"]}))));const ft=()=>{let e=h.Z.getActiveObject();return i.createElement("div",{className:"ask-p-10",style:{width:"200px"}},i.createElement("div",null,o.Z.getTranslation("Angle")),i.createElement(ze.Z,{min:0,max:360,step:1,value:e.angle,onChange:e=>h.Z.setAngle(e.target.value)}),i.createElement("div",{className:"ask-mt-10"},o.Z.getTranslation("Scale")),i.createElement(ze.Z,{min:1,max:5,step:.1,value:e.scaleX,onChange:e=>h.Z.setScale(e.target.value)}),null!=e.strokeWidth&&i.createElement(i.Fragment,null,i.createElement("div",{className:"ask-mt-10"},o.Z.getTranslation("Stroke width")),i.createElement(ze.Z,{min:0,max:20,step:.1,value:e.strokeWidth,onChange:e=>h.Z.setStrokeWidth(e.target.value)})))};let dt=e=>i.createElement(Ke,e);const pt=i.forwardRef((e,t)=>{let n=h.Z.getActiveObject();return null==n?null:i.createElement(E.Z.Item,null,i.createElement(dt,{property:"stroke",object:n,method:n.printingMethod,onChange:(e,t)=>h.Z.setStroke(e,t)}))});function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class mt extends i.Component{constructor(...e){super(...e),gt(this,"state",{font:h.Z.getActiveObject().fontFamily}),gt(this,"changeFont",e=>{this.setState({font:e.target.value}),h.Z.setFont(e.target.value,h.Z.getActiveObject())})}render(){return o.Z.fontLoaded.sort((e,t)=>e.fontFamily>t.fontFamily?1:-1),i.createElement(be.Z,{style:{fontFamily:this.state.font,padding:"2px"},onChange:this.changeFont,value:this.state.font},o.Z.fontLoaded.map((e,t)=>i.createElement(be.Z.Option,{style:{fontFamily:e.fontFamily},key:t,value:e.fontFamily},e.fontFamily)))}}const vt=mt;r(8589);function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const bt=e=>{const[t,n]=(0,i.useState)((0,Se.u9)(e.values,e.name)||e.defaultValue||!1);let r;return(0,i.useEffect)(()=>{null!=(0,Se.u9)(e.values,e.name)&&(null!=e.setFieldValue&&e.setFieldValue(e.name,(0,Se.u9)(e.values,e.name)||!1),n((0,Se.u9)(e.values,e.name)||!1))},[(0,Se.u9)(e.values,e.name)]),(0,i.useEffect)(()=>{null!=e.defaultValue&&e.defaultValue!==t&&(null!=e.setFieldValue&&e.setFieldValue(e.name,e.defaultValue||!1),n(e.defaultValue||!1))},[e.defaultValue]),r=null!=e.defaultValue?{onChange:()=>{null!=e.setFieldValue&&e.setFieldValue(e.name,!t),null!=e.onChange&&e.onChange(!t),n(!t)},defaultChecked:t}:null!=e.setFieldValue?{checked:t,onChange:()=>{null!=e.onChange&&e.onChange(!t),null!=e.setFieldValue&&e.setFieldValue(e.name,!t)}}:{checked:t,onChange:()=>{null!=e.onChange&&e.onChange(!t),n(!t)}},i.createElement("label",{className:"ask-switch-label"+(e.className?" "+e.className:""),style:{display:"flex",alignItems:"center"}},i.createElement("span",{className:"switch"},i.createElement("input",yt({type:"checkbox"},r)),i.createElement("span",{className:"slider round"})),e.children&&i.createElement("span",{className:"ask-switch-title"},e.children))};const wt=e=>{let t=h.Z.getActiveObject();return i.createElement("div",{className:"ask-p-10"},i.createElement(bt,{className:"ask-mb-10",value:"text-curved"==t.type,onChange:e=>h.Z.curveText(t,e)}),i.createElement(c.Z,null,i.createElement(ze.Z,{className:"ask-mb-5",value:t.radius||0,onChange:e=>h.Z.setRadius(t,e),min:0,max:150,step:1}),i.createElement(ze.Z,{className:"ask-mb-5",value:t.spacing||0,onChange:e=>h.Z.setSpacing(t,e),min:0,max:100,step:1}),i.createElement(bt,{value:"text-curved"==t.type&&1==t.reverse,onChange:e=>h.Z.reverseCurveText(t,e)})))};class Ct extends i.Component{constructor(...e){var t,n,r;super(...e),r=(e,t)=>{this.setState({font:e}),h.Z.setFont(e,h.Z.getActiveObject())},(n="textFormatting")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}render(){return i.createElement(i.Fragment,null,i.createElement(u.Z,{type:"link",onClick:()=>h.Z.setFontBold(h.Z.getActiveObject())},i.createElement(d.G,{icon:["fas","bold"]})),i.createElement(u.Z,{type:"link",onClick:()=>h.Z.setFontItalic(h.Z.getActiveObject()),style:{marginLeft:10}},i.createElement(d.G,{icon:["fas","italic"]})),i.createElement(u.Z,{type:"link",onClick:()=>h.Z.setFontUnderline(h.Z.getActiveObject()),style:{marginLeft:10}},i.createElement(d.G,{icon:["fas","underline"]})))}}const xt=Ct;const Et=()=>{const[e,t]=(0,i.useState)(h.Z.getActiveObject().text);return i.createElement("div",{style:{padding:"12px 16px"}},i.createElement(L.Z.TextArea,{onChange:e=>(e=>{t(e),h.Z.setText(e,h.Z.getActiveObject())})(e),defaultValue:e}))};const kt=()=>{if(null==h.Z.getCanvas())return i.createElement(c.Z,null,o.Z.getTranslation("You need to create a view to access this menu"));let e=h.Z.getCanvas("studio")?h.Z.getCanvas("studio").getObjects()[0]:h.Z.getCanvas().getObjects().find(e=>"Layers"==e.itemGroup&&"image"==e.type);if(null==e)return i.createElement(c.Z,null,o.Z.getTranslation("No image found"));let t=fabric.Image.filters;const[n,r]=(0,i.useState)(e.toObject());let a=(n,i,a={})=>{h.Z.applyFilter(i,n&&new t[i]({...a}),e),r(e.toObject())};return null==n?i.createElement(ye.Z,null):i.createElement(i.Fragment,null,i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Black and white")),i.createElement(bt,{onChange:e=>a(e,"BlackWhite"),value:!!h.Z.getFilter("BlackWhite",e)}),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Brownie")),i.createElement(bt,{onChange:e=>a(e,"Brownie"),value:!!h.Z.getFilter("Brownie",e)}),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Vintage")),i.createElement(bt,{onChange:e=>a(e,"Vintage"),value:!!h.Z.getFilter("Vintage",e)}),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Polaroid")),i.createElement(bt,{onChange:e=>a(e,"Polaroid"),value:!!h.Z.getFilter("Polaroid",e)}),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Kodachrome")),i.createElement(bt,{onChange:e=>a(e,"Kodachrome"),value:!!h.Z.getFilter("Kodachrome",e)}),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Sepia")),i.createElement(bt,{onChange:e=>a(e,"Sepia"),value:!!h.Z.getFilter("Sepia",e)}),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Invert")),i.createElement(bt,{onChange:e=>a(e,"Invert"),value:!!h.Z.getFilter("Invert",e)}),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Technicolor")),i.createElement(bt,{onChange:e=>a(e,"Technicolor"),value:!!h.Z.getFilter("Technicolor",e)}),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Convolute")),i.createElement(bt,{onChange:e=>a(e,"Convolute",{matrix:[1,1,1,1,.7,-1,-1,-1,-1]}),value:!!h.Z.getFilters("Convolute",e).find(e=>e.matrix.toString()==[1,1,1,1,.7,-1,-1,-1,-1].toString())}),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Noise")),i.createElement(bt,{onChange:e=>a(e,"Noise",{noise:100}),value:!!h.Z.getFilter("Noise",e)},i.createElement(ze.Z,{value:null!=h.Z.getFilter("Noise",e)?h.Z.getFilter("Noise",e).noise:100,onChange:t=>(h.Z.applyFilterValue("Noise","noise",t.target.value,e),r(e.toObject())),min:0,max:1e3,step:1})),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Pixelate")),i.createElement(bt,{onChange:e=>a(e,"Pixelate",{blocksize:.1}),value:!!h.Z.getFilter("Pixelate",e)},i.createElement(ze.Z,{value:null!=h.Z.getFilter("Pixelate",e)?h.Z.getFilter("Pixelate",e).blocksize:.1,onChange:t=>(h.Z.applyFilterValue("Pixelate","blocksize",t.target.value,e),r(e.toObject())),min:1,max:20,step:.1})),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Blur")),i.createElement(bt,{onChange:e=>a(e,"Blur",{blur:.1}),value:!!h.Z.getFilter("Blur",e)},i.createElement(ze.Z,{value:null!=h.Z.getFilter("Blur",e)?h.Z.getFilter("Blur",e).blur:.1,onChange:t=>(h.Z.applyFilterValue("Blur","blur",t.target.value,e),r(e.toObject())),min:0,max:1,step:.01})))};const St=e=>{let t=a.Z.getState().fabric,n=Object.keys(t),r=i.useRef();return i.createElement(v.Z,{ref:r,initialValues:{indexes:["views","canvases","templates","drawingAreas","sizes","frames"]},onSubmit:e=>{h.Z.save(e.name,e.indexes),r.current.resetForm()}},i.createElement(v.Z.Item,{name:"indexes"},n.map((e,t)=>i.createElement(Te,{after:i.createElement("br",null),className:"test",key:t,label:o.Z.getTranslation(o.Z.capitalize(o.Z.decamelize(e," "))),type:"card",checkValue:e}))),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Name"),name:"name",required:!0},i.createElement(L.Z,{placeholder:o.Z.getTranslation("File name")})),i.createElement(v.Z.Item,{name:"submit"},i.createElement(u.Z,{method:"submit"},o.Z.getTranslation("Save"))))};class _t extends i.Component{render(){return null==h.Z.getCanvas()?i.createElement(c.Z,null,o.Z.getTranslation("You need to create a view to access this menu")):i.createElement(St,null)}}const Tt=_t;function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let At=({onScroll:e,forwardedRef:t,style:n,children:r})=>{const a=(0,i.useCallback)(e=>{t(e?e.view:null)},[]);return i.createElement(se.$B,{className:"List",ref:a,style:{...n,overflow:"hidden"},onScroll:e},r)},Pt=i.forwardRef((e,t)=>i.createElement(At,Ot({},e,{forwardedRef:t}))),jt=e=>{const{lang:t,high_resolution:n,key:r,...a}=e.parameters,[s,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[f,p]=(0,i.useState)(1),[g,m]=(0,i.useState)(""),[v,y]=(0,i.useState)(o.Z.getTranslation("Loading"));(0,i.useEffect)(()=>{b(f,g,e=>{l(e.data.hits),u(e.data.totalHits)})},[]);let b=(e=1,i="",a)=>{D()({method:"GET",url:`https://pixabay.com/api/?lang=${t||"en"}&response_group=${1==n?"high_resolution":"image_details"}&key=${r}&q=${i}&page=${e}`}).then((function(t){a(t),p(e+1),m(i)})).catch((function(e){l(null),p(1),m(""),y(o.Z.getTranslation("A problem has occured"))}))};const w=({columnIndex:e,isScrolling:t,rowIndex:n,style:r,...o})=>{let l=2*n+e;return s[l]?i.createElement("div",{className:"ask-gallery-list-item",onClick:()=>{h.Z.addUpload(s[l].id,s[l].largeImageURL,{...s[l].parameters,...a})},style:r},t?i.createElement(R.Z,null,i.createElement(d.G,{icon:["fas","spinner"],spin:!0})):i.createElement(I,{src:s[l].largeImageURL})):null},C=e=>{let t=2*e+1;return!(2*e+0>s.length-1)&&!(t>s.length-1)},x=(e,t)=>{b(f,g,e=>{l([...s,...e.data.hits])})};switch(s){case null:return i.createElement(i.Fragment,null,i.createElement("div",{className:"ask-px-24"},v));default:return i.createElement(i.Fragment,null,i.createElement("div",{className:"ask-px-24"},i.createElement(L.Z,{onChange:o.Z.debounce(e=>{b(1,e,e=>{l(e.data.hits),u(e.data.totalHits)})},200),placeholder:o.Z.getTranslation("Search")})),i.createElement(oe,null,({height:e,width:t})=>i.createElement(he,{isItemLoaded:C,minimumBatchSize:20,itemCount:c>s.length?Math.ceil(s.length/2)+1:Math.ceil(s.length/2),loadMoreItems:x,threshold:20},({useOverscanForLoading:n,onItemsRendered:r,ref:a})=>i.createElement(J,{className:"ask-gallery-list",useIsScrolling:!0,columnCount:2,columnWidth:t/2,rowCount:Math.ceil(s.length/2),rowHeight:120,width:t,height:e-32,ref:a,onItemsRendered:e=>{const{visibleRowStartIndex:t,visibleRowStopIndex:n,visibleColumnStartIndex:i,overscanRowStartIndex:a,overscanRowStopIndex:o,visibleColumnStopIndex:s}=e;r({visibleStartIndex:2*t+i,visibleStopIndex:2*n+s,overscanStartIndex:a,overscanStopIndex:o})},outerElementType:Pt},w))))}};function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let It=e=>{const{client_id:t,redirect_uri:n,client_secret:r,...a}=e.parameters,[s,l]=(0,i.useState)(null),[c,f]=(0,i.useState)(null);let p=e=>{let r,i;null==s&&(r=window.open(`https://www.facebook.com/v7.0/dialog/oauth?client_id=${t}&redirect_uri=${n}&scope=user_photos&state={"st=askdesigner,ds=askdesigner"}`,"_blank","toolbar=0,location=0,menubar=0"),o.Z.poll(()=>{try{i=r.location.href.indexOf(n)>-1}catch(e){i=!1}return 0!=i},2e4,150).then(()=>{let e=o.Z.getParams(r.location.href);g(e.code),r.close()}).catch(()=>{r.close()}))},g=e=>{D()({method:"GET",url:`https://graph.facebook.com/v7.0/oauth/access_token?client_id=${t}&redirect_uri=${n}&client_secret=${r}&code=${e}`}).then((function(e){l(e.data.access_token),m(e.data.access_token)})).catch((function(e){console.log(e)}))},m=e=>{D()({method:"GET",url:"https://graph.facebook.com/me/photos?type=uploaded&fields=source&access_token="+e}).then((function(e){f(e.data.data)})).catch((function(e){console.log(e)}))};const v=({onScroll:e,forwardedRef:t,style:n,children:r})=>{const a=(0,i.useCallback)(e=>{t(e?e.view:null)},[]);return i.createElement(se.$B,{className:"List",ref:a,style:{...n,overflow:"hidden"},onScroll:e},r)},y=i.forwardRef((e,t)=>i.createElement(v,Mt({},e,{forwardedRef:t}))),b=i.forwardRef(({style:e,...t},n)=>i.createElement("div",Mt({ref:n,style:{...e}},t))),w=({columnIndex:e,isScrolling:t,rowIndex:n,style:r,...o})=>{let s=2*n+e;return null!=c[s]&&i.createElement("div",{className:"ask-gallery-list-item",onClick:()=>{h.Z.addUpload(c[s].id,c[s].source,{...c[s].parameters,...a})},style:r},t?i.createElement(R.Z,null,i.createElement(d.G,{icon:["fas","spinner"],spin:!0})):i.createElement(I,{src:c[s].source}))};switch(c){case null:return i.createElement("div",{className:"ask-px-24"},i.createElement(u.Z,{onClick:p},o.Z.getTranslation("Connect")));default:return i.createElement(oe,null,({height:e,width:t})=>i.createElement(J,{className:"ask-gallery-list",useIsScrolling:!0,columnCount:2,columnWidth:t/2,rowCount:Math.ceil(c.length/2),rowHeight:120,width:t,height:e,outerElementType:y,innerElementType:b},w))}};function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let Lt=e=>{const{client_id:t,redirect_uri:n,client_secret:r,...a}=e.parameters,[s,l]=(0,i.useState)(null),[c,f]=(0,i.useState)(null);let p=e=>{let r,i;null==s&&(r=window.open(`https://api.instagram.com/oauth/authorize?client_id=${t}&redirect_uri=${n}&scope=user_profile,user_media&response_type=code`,"_blank","toolbar=0,location=0,menubar=0"),o.Z.poll(()=>{try{i=r.location.href.indexOf(n)>-1}catch(e){i=!1}return 0!=i},2e4,150).then(()=>{let e=o.Z.getParams(r.location.href);g(e.code),r.close()}).catch(()=>{r.close()}))},g=e=>{let i=new FormData;i.set("client_id",t),i.set("client_secret",r),i.set("grant_type","authorization_code"),i.set("redirect_uri",n),i.set("code",e),D()({method:"POST",url:"https://api.instagram.com/oauth/access_token",data:i,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){l(e.data.access_token),m(e.data.access_token)})).catch((function(e){console.log(e)}))},m=e=>{D()({method:"GET",url:"https://graph.instagram.com/me/media?fields=id,media_type,media_url,username,timestamp&access_token="+e}).then((function(e){f(e.data.data)})).catch((function(e){console.log(e)}))};const v=({onScroll:e,forwardedRef:t,style:n,children:r})=>{const a=(0,i.useCallback)(e=>{t(e?e.view:null)},[]);return i.createElement(se.$B,{className:"List",ref:a,style:{...n,overflow:"hidden"},onScroll:e},r)},y=i.forwardRef((e,t)=>i.createElement(v,Rt({},e,{forwardedRef:t}))),b=i.forwardRef(({style:e,...t},n)=>i.createElement("div",Rt({ref:n,style:{...e}},t))),w=({columnIndex:e,isScrolling:t,rowIndex:n,style:r,...o})=>{let s=2*n+e;return null!=c[s]&&i.createElement("div",{className:"ask-gallery-list-item",onClick:()=>{h.Z.addUpload(c[s].id,c[s].media_url,{...c[s].parameters,...a})},style:r},t?i.createElement(R.Z,null,i.createElement(d.G,{icon:["fas","spinner"],spin:!0})):i.createElement(I,{src:c[s].media_url}))};switch(c){case null:return i.createElement("div",{className:"ask-px-24"},i.createElement(u.Z,{onClick:p},o.Z.getTranslation("Connect")));default:return i.createElement(oe,null,({height:e,width:t})=>i.createElement(J,{className:"ask-gallery-list",useIsScrolling:!0,columnCount:2,columnWidth:t/2,rowCount:Math.ceil(c.length/2),rowHeight:120,width:t,height:e,outerElementType:y,innerElementType:b},w))}};function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let Dt=({onScroll:e,forwardedRef:t,style:n,children:r})=>{const a=(0,i.useCallback)(e=>{t(e?e.view:null)},[]);return i.createElement(se.$B,{className:"List",ref:a,style:{...n,overflow:"hidden"},onScroll:e},r)},Ft=i.forwardRef((e,t)=>i.createElement(Dt,Zt({},e,{forwardedRef:t}))),Nt=e=>{const{key:t,lang:n,...r}=e.parameters,[a,s]=(0,i.useState)(null),[l,c]=(0,i.useState)(null),[u,f]=(0,i.useState)(0),[p,g]=(0,i.useState)(""),[m,v]=(0,i.useState)(null),[y,b]=(0,i.useState)([]),[w,C]=(0,i.useState)(o.Z.getTranslation("Loading"));(0,i.useEffect)(()=>{},[]),(0,i.useEffect)(()=>{E(u,l,"",e=>{e.data.result?(b(e.data.result),v(e.data.count)):(b([]),v(0))})},[l]);const x=({columnIndex:e,isScrolling:t,rowIndex:n,style:a,...o})=>{let s=2*n+e;return y[s]?i.createElement("div",{onClick:()=>{h.Z.addUpload(y[s].id,y[s].url_big,{...y[s].parameters,...r})},className:"ask-gallery-list-item",style:a},t?i.createElement(R.Z,null,i.createElement(d.G,{icon:["fas","spinner"],spin:!0})):i.createElement(I,{src:y[s].url_big})):null},E=(e=0,r="",i="",a)=>{D()({method:"GET",url:`https://api.depositphotos.com?dp_apikey=${t}&dp_lang=${n||"en"}&dp_command=search&dp_search_offset=${e}&dp_search_query=${r}${i?"+"+i:""}`}).then((function(t){a(t),f(e+y.length-1),g(i),c(r)})).catch((function(e){C(o.Z.getTranslation("A problem has occured"))}))},k=e=>{let t=2*e+1;return!(2*e+0>y.length-1)&&!(t>y.length-1)},S=(e,t)=>{E(u,l,p,e=>{b([...y,...e.data.result])})};return i.createElement(i.Fragment,null,i.createElement("div",{className:"ask-px-24"},i.createElement(L.Z,{onChange:o.Z.debounce(e=>{E(0,l,e.target.value,e=>{b(e.data.result),v(e.data.count)})},200),placeholder:o.Z.getTranslation("Search"),className:"ask-search-depositphotos"})),i.createElement(oe,null,({height:e,width:t})=>i.createElement(he,{isItemLoaded:k,minimumBatchSize:20,itemCount:m>y.length?Math.ceil(y.length/2)+1:Math.ceil(y.length/2),loadMoreItems:S,threshold:20},({onItemsRendered:n,ref:r})=>i.createElement(J,{className:"ask-gallery-list",useIsScrolling:!0,columnCount:2,onItemsRendered:e=>{const{visibleRowStartIndex:t,visibleRowStopIndex:r,visibleColumnStartIndex:i,overscanRowStartIndex:a,overscanRowStopIndex:o,visibleColumnStopIndex:s}=e;n({visibleStartIndex:2*t+i,visibleStopIndex:2*r+s,overscanStartIndex:a,overscanStopIndex:o})},columnWidth:t/2,rowCount:Math.ceil(y.length/2),rowHeight:120,width:t,ref:r,height:e-32,outerElementType:Ft},x))))},Bt=e=>{const{upload:t}=a.Z.getState().defaults,{addOnUpload:n}=a.Z.getState().defaults,{closeMenuOnUpload:r}=a.Z.getState().defaults;return i.createElement("div",{className:"ask-px-24"},i.createElement(y.g.Dropzone,{multiple:!0,onItemClick:e=>h.Z.addUpload(e.name,e.url,{price:null!=t?t.price:null}),onItemUploaded:e=>1==n?(1==r&&f.Z.closeMenu("Image"),h.Z.addUpload(e.name,e.url)):null,action:null!=t&&t.action?t.action:"base64",method:null!=t&&t.method?t.method:"GET",accept:"jpeg,jpg,gif,svg,png",afterUpload:e=>{1==a.Z.getState().defaults.addOnUpload&&(f.Z.closeAllMenus(),h.Z.addUpload(e.name,e.url))}},o.Z.getTranslation("Click or drop your files here")))};const zt=e=>{if(null==h.Z.getCanvas())return i.createElement(c.Z,{className:"ask-m-24"},o.Z.getTranslation("You need to create a view to access this menu"));let t=a.Z.getState().defaults.facebook,n=a.Z.getState().defaults.instagram,r=a.Z.getState().defaults.pixabay,s=a.Z.getState().defaults.depositphotos;return i.createElement($e,null,i.createElement($e.TabPane,{title:i.createElement(je.Z,{placement:"top",content:"Upload"},i.createElement("span",null,i.createElement(R.Z,null,i.createElement(d.G,{icon:["fas","upload"]})))),key:"test"},i.createElement(Bt,null)),null!=t&&null!=t.client_id&&t.client_secret&&null!=t.redirect_uri&&i.createElement($e.TabPane,{title:i.createElement(je.Z,{placement:"top",content:"Facebook"},i.createElement("span",null,i.createElement(R.Z,null,i.createElement(d.G,{icon:["fab","facebook-square"]})))),key:"test2"},i.createElement(It,{parameters:t})),null!=n&&null!=n.client_id&&n.client_secret&&null!=n.redirect_uri&&i.createElement($e.TabPane,{title:i.createElement(je.Z,{placement:"top",content:"Instagram"},i.createElement("span",null,i.createElement(R.Z,null,i.createElement(d.G,{icon:["fab","instagram"]})))),key:"test3"},i.createElement(Lt,{parameters:n})),null!=s&&null!=s.key&&i.createElement($e.TabPane,{title:i.createElement(je.Z,{placement:"top",content:"Deposit photos"},i.createElement("span",null,i.createElement(R.Z,null,i.createElement(d.G,{icon:["fab","deposit-photos"]})))),key:"test4"},i.createElement(Nt,{parameters:s})),null!=r&&null!=r.key&&i.createElement($e.TabPane,{title:i.createElement(je.Z,{placement:"top",content:"Pixabay"},i.createElement("span",null,i.createElement(R.Z,null,i.createElement(d.G,{icon:["fab","pixabay"]})))),key:"test5"},i.createElement(jt,{parameters:r})))};const Vt=t=>{let n=fabric.Image.filters,r=h.Z.getCanvas("studio").getObjects()[0];const[a,s]=(0,i.useState)(r.toObject());let l=(e,t,i={})=>{h.Z.applyFilter(t,e&&new n[t]({...i}),r),s(r.toObject())};return null==a?i.createElement(ye.Z,null):i.createElement(i.Fragment,null,i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Brightness")),i.createElement(bt,{onChange:e=>l(e,"Brightness",{brightness:.1}),value:!!h.Z.getFilter("Brightness",r)},i.createElement(ze.Z,{value:null!=h.Z.getFilter("Brightness",r)?h.Z.getFilter("Brightness",r).brightness:.1,onChange:e=>(h.Z.applyFilterValue("Brightness","brightness",e.target.value,r),s(r.toObject())),min:-1,max:1,step:.01})),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Contrast")),i.createElement(bt,{onChange:e=>l(e,"Contrast",{contrast:.1}),value:!!h.Z.getFilter("Contrast",r)},i.createElement(ze.Z,{value:null!=h.Z.getFilter("Contrast",r)?h.Z.getFilter("Contrast",r).contrast:.1,onChange:e=>(h.Z.applyFilterValue("Contrast","contrast",e.target.value,r),s(r.toObject())),min:-1,max:1,step:.01})),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Saturation")),i.createElement(bt,{onChange:e=>l(e,"Saturation",{saturation:0}),value:!!h.Z.getFilter("Saturation",r)},i.createElement(ze.Z,{value:null!=h.Z.getFilter("Saturation",r)?h.Z.getFilter("Saturation",r).saturation:0,onChange:e=>(h.Z.applyFilterValue("Saturation","saturation",e.target.value,r),s(r.toObject())),min:-1,max:1,step:.01})),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Hue")),i.createElement(bt,{onChange:e=>l(e,"HueRotation",{rotation:0}),value:!!h.Z.getFilter("HueRotation",r)},i.createElement(ze.Z,{value:null!=h.Z.getFilter("HueRotation",r)?h.Z.getFilter("HueRotation",r).rotation:0,onChange:e=>(h.Z.applyFilterValue("HueRotation","rotation",e.target.value,r),s(r.toObject())),min:-2,max:2,step:.01})),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Grayscale")),i.createElement(bt,{onChange:e=>l(e,"Grayscale"),value:!!h.Z.getFilter("Grayscale",r)},i.createElement(be.Z,{block:!0,value:null!=h.Z.getFilter("Grayscale",r)?h.Z.getFilter("Grayscale",r).mode:"average",onChange:t=>(h.Z.applyFilterValue("Grayscale","mode",e.target.value,r),s(r.toObject()))},i.createElement(be.Z.Option,{value:"average"},o.Z.getTranslation("Average")),i.createElement(be.Z.Option,{value:"luminosity"},o.Z.getTranslation("Luminosity")),i.createElement(be.Z.Option,{value:"lightness"},o.Z.getTranslation("Lightness")))),i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Gamma")),i.createElement(bt,{onChange:e=>l(e,"Gamma",{gamma:[1,1,1]}),value:!!h.Z.getFilter("Gamma",r)},i.createElement(ze.Z,{className:"ask-mb-5",value:null!=h.Z.getFilter("Gamma",r)?h.Z.getFilter("Gamma",r).gamma[0]:1,onChange:e=>(h.Z.applyFilterValue("Gamma",["gamma","0"],e.target.value,r),s(r.toObject())),min:.2,max:2.2,step:.01}),i.createElement(ze.Z,{className:"ask-mb-5",value:null!=h.Z.getFilter("Gamma",r)?h.Z.getFilter("Gamma",r).gamma[1]:1,onChange:e=>(h.Z.applyFilterValue("Gamma",["gamma","1"],e.target.value,r),s(r.toObject())),min:.2,max:2.2,step:.01}),i.createElement(ze.Z,{className:"ask-mb-5",value:null!=h.Z.getFilter("Gamma",r)?h.Z.getFilter("Gamma",r).gamma[2]:1,onChange:e=>(h.Z.applyFilterValue("Gamma",["gamma","2"],e.target.value,r),s(r.toObject())),min:.2,max:2.2,step:.01})))};var Ut=r(6496);const Ht=e=>{let t,n=(0,i.useRef)(null),r=fabric.Image.filters,a=h.Z.getCanvas("studio").getObjects()[0];const[s,p]=(0,i.useState)(a.toObject());let g=()=>{let e=i.createElement("div",{style:{height:"30px"},ref:n});(0,Ut.Z)({key:"removeColor",container:".ask-modal-studio .ask-layout-content",position:"absolute",content:e,delay:0}),h.Z.eyeDropper("studio",{onMove:e=>{if(null!=e.target){var r=e.target.canvas.contextContainer;t=e.target.canvas.getPointer(e.originalEvent);var i=r.getImageData(Math.round(t.x),Math.round(t.y),1,1).data;n.current.style.backgroundColor=`rgb(${i[0]},${i[1]},${i[2]})`}},onMouseUp:e=>{if(Ut.Z.close("removeColor"),null!=e.target){var n=e.target.canvas.contextContainer;t=e.target.canvas.getPointer(e.originalEvent);var i=n.getImageData(Math.round(t.x),Math.round(t.y),1,1).data;((e,t,n={})=>{h.Z.addFilter(e&&new r[t]({...n}),a),p(a.toObject())})(!0,"RemoveColor",{color:`rgb(${i[0]},${i[1]},${i[2]})`,distance:.2})}}})};return null==s?i.createElement(ye.Z,null):i.createElement(i.Fragment,null,i.createElement(u.Z,{onClick:()=>(g(),f.Z.closeMenu("Remove colors")),className:"ask-mb-15",block:!0,type:"primary"},i.createElement(R.Z,null,i.createElement(d.G,{icon:["fas","eye-dropper"]}))),i.createElement(l.Z,{column:1,data:h.Z.getFilters("RemoveColor",a),render:e=>i.createElement(c.Z,{hoverable:!0,actions:[i.createElement("div",{onClick:()=>(h.Z.removeFilter(e.color,"color",a),p(a.toObject()))},i.createElement(d.G,{icon:["fas","trash"]}))]},i.createElement("span",{className:"ask-title"},o.Z.getTranslation("Color")),i.createElement(Le.Z,{block:!0,value:e.color,onChange:t=>(h.Z.applyFilterValueByProp(e.color,"color","color",t,a),p(a.toObject()))}),i.createElement("span",{className:"ask-title ask-mt-10"},o.Z.getTranslation("Distance")),i.createElement(ze.Z,{value:e.distance,onChange:t=>(h.Z.applyFilterValueByProp(e.color,"distance","color",t.target.value,a),p(a.toObject())),min:0,max:1,step:.01}))}))};const Wt=e=>{let t=a.Z.getState().masks,n=i.createElement(i.Fragment,null,i.createElement("p",null,o.Z.getTranslation("Once you have finished placing your mask, click on finish")),i.createElement(u.Z,{className:"ask-mr-10",onClick:()=>(Ut.Z.close("addMask"),h.Z.resetMask("studio")),type:"danger"},o.Z.getTranslation("Cancel")),i.createElement(u.Z,{onClick:()=>(h.Z.setMask("studio"),Ut.Z.close("addMask")),type:"primary"},o.Z.getTranslation("Finish")));return i.createElement(i.Fragment,null,i.createElement(u.Z,{className:"ask-mb-10",onClick:()=>h.Z.resetMask("studio"),block:!0,type:"primary"},o.Z.getTranslation("Reset mask")),i.createElement(l.Z,{column:2,data:t,render:e=>i.createElement(c.Z,{noPadding:!0,onClick:()=>(h.Z.addMask(e.src,"studio"),f.Z.closeMenu("Masks"),(0,Ut.Z)({key:"addMask",container:".ask-modal-studio .ask-layout-content",position:"absolute",content:n,delay:0})),hoverable:!0},i.createElement(je.Z,{placement:"top",content:e.name},o.Z.isValidURL(e.src)?i.createElement("img",{className:"ask-mw-100",src:e.src}):i.createElement("div",{className:"ask-mw-100",dangerouslySetInnerHTML:{__html:e.src}})))}))};const Gt=i.memo(e=>null==h.Z.getCanvas()?i.createElement(c.Z,null,o.Z.getTranslation("You need to create a view to access this menu")):i.createElement(l.Z,{column:1,data:e.layers.reverse(),render:e=>i.createElement(c.Z,{hoverable:!0,flex:!0,actions:[i.createElement("div",{onClick:()=>h.Z.bringForward(e)},i.createElement(d.G,{icon:["fas","caret-down"],rotation:180})),i.createElement("div",{onClick:()=>h.Z.sendBackward(e)},i.createElement(d.G,{icon:["fas","caret-down"]})),i.createElement("div",{onClick:()=>h.Z.remove(e)},i.createElement(d.G,{icon:["fas","trash"]}))]},i.createElement("span",{style:{maxWidth:"20%"},className:"ask-image ask-mr-15"},i.createElement("img",{className:"ask-mw-100",src:e.toDataURL({format:"jpeg",quality:.8,multiplier:1/(e.getScaledWidth()/32)})})),i.createElement("span",{className:"ask-title"},o.Z.getTranslation(e.name)))}),()=>{let e=f.Z.getMenuItem("Layers"),t=f.Z.getMenus().find(e=>"custom"==e.id).items;return!(e&&e.active||"panel"===e.parent.category||t.find(e=>"Layers"==e.name))}),Yt=(0,s.$j)((e,t)=>({layers:h.Z.getLayers(),canvases:e.fabric.canvases}))(Gt);var Xt=r(3235);const $t=(0,s.$j)((e,t)=>({styles:e.theme.modal}))(e=>{const{upload:t}=a.Z.getState().defaults;let n=(0,i.useRef)(null),r={...Xt.vI.definitions.fas},s=(e,t,n)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${t}" viewBox="0 0 ${e} ${t}"><path d="${n}" /></svg>`;const l={type:"Design",icon:s(r.thumbtack[0],r.thumbtack[1],r.thumbtack[4]),constraints:{lockRotation:!0,lockMovementX:!0,lockMovementY:!0,lockScaling:!0,freePlacement:!1,alignCenterOnResize:!1,originX:"center",originY:"center"}},[c,f]=(0,i.useState)("Design");return(0,i.useEffect)(()=>{null!=e.params.type&&c!=e.params.type?f(e.params.type):f("Design")},[e.params.type]),(0,i.useEffect)(()=>{null!=n.current&&c!=n.current.values.type&&f(n.current.values.type)},[n.current]),i.createElement(b.Z,{centered:!0,title:null!=e.params.name?"Edit marker":"Create marker",visible:e.active,onOk:()=>{n.current.submitForm()},onClose:()=>{e.closeModal(e.element),n.current.resetForm()}},i.createElement(v.Z,{ref:n,onUpdate:()=>n.current.resetForm(),onSubmit:t=>{if(null==t.custom_icon||o.Z.isEmpty(t.custom_icon))r=t.icon;else var r=t.custom_icon;null!=e.params.id?h.Z.updateMarker(r,e.params.id,{markerType:t.type,markerIcon:t.icon,markerConstraints:t.constraints}):h.Z.placeMarker(r,{markerType:t.type,markerIcon:t.icon,markerConstraints:t.constraints}),e.closeModal(e.element),n.current.resetForm()},initialValues:{...l,constraints:{...l.constraints,...e.params.constraints},type:e.params.type||l.type,icon:e.params.icon||l.icon}},i.createElement(v.Z.Item,{name:"type",label:o.Z.getTranslation("Type"),required:!0},i.createElement(be.Z,{onChange:e=>{f(e)}},i.createElement(be.Z.Option,{value:"Design"},o.Z.getTranslation("Design")),i.createElement(be.Z.Option,{value:"Text"},o.Z.getTranslation("Text")),i.createElement(be.Z.Option,{value:"Upload"},o.Z.getTranslation("Upload")))),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Icon"),name:"icon",required:!0},i.createElement(be.Z,null,Object.keys(r).map(e=>i.createElement(be.Z.Option,{key:e,value:s(r[e][0],r[e][1],r[e][4])},e)))),i.createElement(v.Z.Item,{name:"custom_icon",label:o.Z.getTranslation("Custom icon"),info:o.Z.getTranslation("You can use your own icon")},i.createElement(y.g,{accept:"jpeg,jpg,gif,png,svg",multiple:!1,action:null!=t&&t.action?t.action:"base64",method:null!=t&&t.method?t.method:"GET"},i.createElement(u.Z,null,o.Z.getTranslation("Click to upload")))),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Price"),name:"constraints.price"},i.createElement(L.Z,{placeholder:o.Z.getTranslation("Price")})),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Drawing area"),name:"constraints.drawingArea"},i.createElement(be.Z,null,i.createElement(be.Z.Option,{value:""},"None"),h.Z.getDrawingAreas().map(e=>i.createElement(be.Z.Option,{key:e.id,value:e.id},e.id)))),i.createElement(v.Z.Item,{name:"constraints.originX",label:"originX"},i.createElement(be.Z,null,i.createElement(be.Z.Option,{value:"center"},o.Z.getTranslation("Center")),i.createElement(be.Z.Option,{value:"left"},o.Z.getTranslation("Left")),i.createElement(be.Z.Option,{value:"right"},o.Z.getTranslation("Right")))),i.createElement(v.Z.Item,{name:"constraints.originY",label:"originY"},i.createElement(be.Z,null,i.createElement(be.Z.Option,{value:"center"},o.Z.getTranslation("Center")),i.createElement(be.Z.Option,{value:"top"},o.Z.getTranslation("Top")),i.createElement(be.Z.Option,{value:"bottom"},o.Z.getTranslation("Bottom")))),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Align center on resize"),name:"constraints.alignCenterOnResize"},i.createElement(Te,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Free placement"),name:"constraints.freePlacement"},i.createElement(Te,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Prevent rotation"),name:"constraints.lockRotation"},i.createElement(Te,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Prevent scaling"),name:"constraints.lockScaling"},i.createElement(Te,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Prevent horizontal movements"),name:"constraints.lockMovementX"},i.createElement(Te,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Prevent vertical movements"),name:"constraints.lockMovementY"},i.createElement(Te,null)),"Text"==c&&i.createElement(v.Z.Item,{label:o.Z.getTranslation("Max characters length"),name:"constraints.maxChars"},i.createElement(L.Z,null)),"Text"==c&&i.createElement(v.Z.Item,{label:o.Z.getTranslation("Prevent line breaks"),name:"constraints.lineBreaks"},i.createElement(Te,null)),"Text"==c&&i.createElement(v.Z.Item,{name:"constraints.transform",label:o.Z.getTranslation("Text transform")},i.createElement(be.Z,null,i.createElement(be.Z.Option,{value:"normal"},o.Z.getTranslation("Normal")),i.createElement(be.Z.Option,{value:"uppercase"},o.Z.getTranslation("Uppercase")),i.createElement(be.Z.Option,{value:"lowercase"},o.Z.getTranslation("Lowercase")))),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Width"),name:"constraints.width"},i.createElement(L.Z,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Height"),name:"constraints.height"},i.createElement(L.Z,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Max width"),name:"constraints.maxWidth"},i.createElement(L.Z,null)),i.createElement(v.Z.Item,{label:o.Z.getTranslation("Max height"),name:"constraints.maxHeight"},i.createElement(L.Z,null))))});const qt=e=>{if(null==h.Z.getCanvas())return i.createElement(c.Z,null,o.Z.getTranslation("You need to create a view to access this menu"));const[t,n]=(0,i.useState)(e.markers);return(0,i.useEffect)(()=>{h.Z.getMarkers().toString()!=t.toString()&&n(h.Z.getMarkers())}),i.createElement(i.Fragment,null,"backend"==e.mode&&i.createElement(u.Z,{className:"ask-mb-15",ghost:!0,block:!0,onClick:()=>{f.Z.openModal($t)}},o.Z.getTranslation("Create marker")),i.createElement(l.Z,{column:1,data:t,render:t=>i.createElement(c.Z,{onClick:e=>"backend"==a.Z.getState().mode?(h.Z.setActiveObject(t),f.Z.closeAllMenus()):null,cursor:"pointer",hoverable:!0,actions:"backend"==e.mode?[i.createElement("div",{onClick:e=>(e.stopPropagation(),f.Z.openModal($t,{id:t.id,type:t.markerType,icon:t.markerIcon,constraints:t.markerConstraints}))},i.createElement(d.G,{icon:["fas","edit"]})),i.createElement("div",{onClick:e=>(e.stopPropagation(),h.Z.remove(t),n(h.Z.getMarkers()))},i.createElement(d.G,{icon:["fas","trash"]}))]:null},i.createElement("span",{style:{maxWidth:"20%"},className:"ask-image ask-mr-15"},i.createElement("img",{src:t.toDataURL({format:"jpeg",quality:.8,multiplier:1/(t.getScaledWidth()/32)})})),i.createElement("span",{className:"ask-title"},t.id))}))},Kt=(0,s.$j)((e,t)=>({markers:h.Z.getMarkers(),canvases:e.fabric.canvases,mode:e.mode}))(qt);const Qt=e=>null==h.Z.getCanvas()?i.createElement(c.Z,null,o.Z.getTranslation("You need to create a view to access this menu")):i.createElement(i.Fragment,null,"backend"==e.mode&&i.createElement(u.Z,{className:"ask-mb-15",ghost:!0,block:!0,onClick:()=>{h.Z.addTemplate()}},o.Z.getTranslation("Save template")),i.createElement(l.Z,{column:2,data:e.templates,render:(t,n)=>i.createElement(c.Z,{onClick:()=>{h.Z.loadTemplate(t.canvases)},hoverable:!0,actions:"backend"==e.mode?[i.createElement("div",{onClick:e=>{e.stopPropagation(),h.Z.removeTemplate(n),o.Z.initEvent("contentChanged",[])}},i.createElement(d.G,{icon:["fas","trash"]}))]:null},i.createElement(I,{src:t.thumbnail}))})),Jt=(0,s.$j)((e,t)=>({templates:e.fabric.templates,mode:e.mode}))(Qt);const en={views:m,designs:ve,text:ot,elements:Be,download:Pe,zoom:He,personalization:it,drawingAreas:M,qrCode:ut,position:ht,transform:ft,color:nt,stroke:pt,fontFamily:vt,formatting:xt,modifyText:Et,curveText:wt,image:zt,settings:Vt,filters:kt,save:Tt,removeColors:Ht,masks:Wt,templates:Jt,markers:Kt,layers:Yt,load:()=>{let e;const t=t=>{const n=e.result;h.Z.load(JSON.parse(n))};return i.createElement("div",{className:"upload-expense"},i.createElement("label",{htmlFor:"file",className:"ask-btn ask-btn-block"},o.Z.getTranslation("Click to upload")),i.createElement("input",{type:"file",id:"file",className:"ask-simple-input-upload",accept:".json",onChange:n=>(n=>{e=new FileReader,e.onloadend=t,e.readAsText(n)})(n.target.files[0]),onClick:e=>{e.target.value=null}}))},overlay:x,freeDrawing:i.lazy(()=>r.e(799).then(r.bind(r,1698))),textPath:i.lazy(()=>r.e(48).then(r.bind(r,7256))),sizes:i.lazy(()=>r.e(629).then(r.bind(r,2355))),frames:i.lazy(()=>r.e(940).then(r.bind(r,1599))),forms:i.lazy(()=>r.e(790).then(r.bind(r,8182))),services:i.lazy(()=>r.e(894).then(r.bind(r,3307)))},tn=i.forwardRef((e,t)=>{const n=en[o.Z.camelize(e.name.toLowerCase())];if(null!=a.Z.getState().addons&&a.Z.getState().addons.indexOf(e.name.toLowerCase())>-1)return i.createElement(i.Suspense,{fallback:i.createElement(d.G,{spin:!0,icon:["fas","spinner"]})},i.createElement(n,null));if(n){let r=i.createElement(n,null);switch(e.fallback){case"inline":return i.createElement("span",{onClick:e=>{e.stopPropagation()},className:"ask-module-container",ref:t},r);case"popover":default:return i.createElement("div",{onClick:e=>{e.stopPropagation()},className:"ask-module-container",ref:t},r)}}else switch((0,i.useEffect)(()=>{e.callback&&e.callback(t.current)},[]),e.fallback){case"inline":case"popover":return i.createElement("span",{onClick:e=>{e.stopPropagation()},className:"ask-module-container",ref:t});default:return i.createElement("div",{onClick:e=>{e.stopPropagation()},className:"ask-module-container",ref:t})}})},6496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(5466),i=n(6116),a=n(9416),o=n.n(a),s=n(7533),l=n(5110);n(381);let c={};function u({container:e="body",delay:t=3500,position:n="fixed",positionY:a="top",key:u=o()(),content:h="",positionX:f="right"}={}){let d,p=document.querySelector(`${e} > .ask-alert-${f}.ask-alert-${a}`);if(null!=c[e+"|"+f+"|"+a]&&c[e+"|"+f+"|"+a].find(e=>e.key==u))return;null==p?(p=document.createElement("div"),p.classList.add("ask-alerts"),p.classList.add("ask-alert-"+f),p.classList.add("ask-alert-"+a),p.style.position=n,document.querySelector(e).appendChild(p)):i.unmountComponentAtNode(p);let g=r.createElement("div",{key:u,className:"ask-alert ask-alert-start",onMouseEnter:e=>{clearTimeout(d)},onMouseLeave:e=>{t>0&&(d=setTimeout(()=>{m()},t))}},h),m=()=>{let t=c[e+"|"+f+"|"+a].findIndex(e=>e.key==u);t>-1&&(p.children[t].classList.remove("ask-alert-start"),p.children[t].classList.remove("ask-alert-done"),p.children[t].classList.add("ask-alert-end"),setTimeout(()=>{let t=c[e+"|"+f+"|"+a].findIndex(e=>e.key==u);p.children[t].classList.add("ask-alert-hide"),c[e+"|"+f+"|"+a].splice(t,1),i.unmountComponentAtNode(p),i.render(r.createElement(l.zt,{store:s.Z},c[e+"|"+f+"|"+a].map(e=>({...e,props:{...e.props,className:e.props.className.indexOf("ask-alert-start")>-1?e.props.className.replace("ask-alert-start","ask-alert-done")+" ask-alert-done":e.props.className}}))),p)},200))};null==c[e+"|"+f+"|"+a]&&(c[e+"|"+f+"|"+a]=[]),c[e+"|"+f+"|"+a].push(g),i.render(r.createElement(l.zt,{store:s.Z},c[e+"|"+f+"|"+a]),p),t>0&&(d=setTimeout(()=>{m()},t))}u.close=e=>{for(const t in c){let n=c[t].findIndex(t=>t.key==e);if(n>-1){let r=t.split("|"),a=document.querySelector(`${r[0]} > .ask-alert-${r[1]}.ask-alert-${r[2]}`);a.children[n].classList.remove("ask-alert-start"),a.children[n].classList.remove("ask-alert-done"),a.children[n].classList.add("ask-alert-end"),setTimeout(()=>{let n=c[t].findIndex(t=>t.key==e);a.children[n].classList.add("ask-alert-hide"),c[t].splice(n,1),i.unmountComponentAtNode(a),i.render(c[t].map(e=>({...e,props:{...e.props,className:e.props.className.indexOf("ask-alert-start")>-1?e.props.className.replace("ask-alert-start","ask-alert-done")+" ask-alert-done":e.props.className}})),a)},200);break}}};const h=u},7613:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5466),i=n(5110),a=(n(933),n(7860));const o=r.forwardRef((e,t)=>r.createElement("button",{disabled:e.disabled||null,type:e.method||"button",onMouseLeave:e.onMouseLeave,onClick:e.onClick,onMouseOut:e.onMouseOut,onMouseEnter:e.onMouseEnter,ref:t,className:"ask-btn"+(e.block?" ask-btn-block":"")+(e.square?" ask-btn-square":"")+(null!=e.type?" ask-btn-"+e.type:"")+(e.className?" "+e.className:"")},r.createElement("span",null,e.children))),s=(0,a.ZP)(o)`
	${e=>e.styles&&`\n\t\t${e.styles.secondary&&e.styles.secondary.background?`\n\t\t\tbackground-color: ${e.styles.secondary.background};\n\t\t`:""}\n\t\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\t\tcolor: ${e.styles.secondary.color};\n\t\t`:""}\n\t\t${e.styles.secondary&&e.styles.secondary.border?`\n\t\t\tborder-color: ${e.styles.secondary.border};\n\t\t`:""}\n\t\t&:hover{\n\t\t\t${e.styles.secondary&&e.styles.secondary.hoverBorderColor?`\n\t\t\t\tbox-shadow: 0 0 5px ${e.styles.secondary.hoverBorderColor};\n\t\t\t\tbox-shadow: 0 0 5px ${e.styles.secondary.hoverBorderColor};\n\t\t\t`:""}\n\t\t\t${e.styles.secondary&&e.styles.secondary.hoverBackgroundColor?`\n\t\t\t\tbackground-color: ${e.styles.secondary.hoverBackgroundColor};\n\t\t\t`:""}\n\t\t\t${e.styles.secondary&&e.styles.secondary.hoverColor?`\n\t\t\t\tcolor: ${e.styles.secondary.hoverColor};\n\t\t\t`:""}\n\t\t\t${e.styles.secondary&&e.styles.secondary.hoverBorderColor?`\n\t\t\t\tborder-color: ${e.styles.secondary.hoverBorderColor};\n\t\t\t`:""}\n\t\t}\n\t\t.ask-btn-group &:hover{\n\t\t\t${e.styles.secondary&&e.styles.secondary.border?`\n\t\t\t\tborder-color: ${e.styles.secondary.border};\n\t\t\t`:""}\n\t\t}\n\t\t&.ask-btn-primary{\n\t\t\t${e.styles.primary&&e.styles.primary.background?`\n\t\t\t\tbackground-color: ${e.styles.primary.background};\n\t\t\t`:""}\n\t\t\t${e.styles.primary&&e.styles.primary.color?`\n\t\t\t\tcolor: ${e.styles.primary.color};\n\t\t\t`:""}\n\t\t\t${e.styles.primary&&e.styles.primary.border?`\n\t\t\t\tborder-color: ${e.styles.primary.border};\n\t\t\t`:""}\n\t\t}\n\t\t&.ask-btn-primary:hover{\n\t\t\t${e.styles.primary&&e.styles.primary.hoverBackgroundColor?`\n\t\t\t\tbackground-color: ${e.styles.primary.hoverBackgroundColor};\n\t\t\t`:""}\n\t\t\t${e.styles.primary&&e.styles.primary.hoverColor?`\n\t\t\t\tcolor: ${e.styles.primary.hoverColor};\n\t\t\t`:""}\n\t\t\t${e.styles.primary&&e.styles.primary.hoverBorderColor?`\n\t\t\t\tborder-color: ${e.styles.primary.hoverBorderColor};\n\t\t\t`:""}\n\t\t}\n\t\t&.ask-btn-tertiary{\n\t\t\t${e.styles.tertiary&&e.styles.tertiary.background?`\n\t\t\t\tbackground-color: ${e.styles.tertiary.background};\n\t\t\t`:""}\n\t\t\t${e.styles.tertiary&&e.styles.tertiary.color?`\n\t\t\t\tcolor: ${e.styles.tertiary.color};\n\t\t\t`:""}\n\t\t\t${e.styles.tertiary&&e.styles.tertiary.border?`\n\t\t\t\tborder-color: ${e.styles.tertiary.border};\n\t\t\t`:""}\n\t\t}\n\t\t&.ask-btn-tertiary:hover{\n\t\t\t${e.styles.tertiary&&e.styles.tertiary.hoverBackgroundColor?`\n\t\t\t\tbackground-color: ${e.styles.tertiary.hoverBackgroundColor};\n\t\t\t`:""}\n\t\t\t${e.styles.tertiary&&e.styles.tertiary.hoverColor?`\n\t\t\t\tcolor: ${e.styles.tertiary.hoverColor};\n\t\t\t`:""}\n\t\t\t${e.styles.tertiary&&e.styles.tertiary.hoverBorderColor?`\n\t\t\t\tborder-color: ${e.styles.tertiary.hoverBorderColor};\n\t\t\t`:""}\n\t\t}\n\t`}
`;s.Group=(e,t)=>r.createElement("div",{className:"ask-btn-group"},e.children);const l=(0,i.$j)((e,t)=>({styles:e.theme}),null,null,{forwardRef:!0})(s)},912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(5466),i=n(5110),a=(n(3092),n(7860));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let s=r.forwardRef((e,t)=>{const{actions:n,hoverable:i,flex:a,cursor:s,noPadding:l,children:c,dispatch:u,...h}=e;return r.createElement("div",o({},h,{className:"ask-card"+(0==e.bordered?"":" ask-card-bordered")+("pointer"==s?" ask-cursor-pointer":"")+(i?" ask-card-hoverable":"")+(e.className?" "+e.className:"")}),e.title?r.createElement("div",{className:"ask-card-header"},e.title?r.createElement("span",{className:"ask-card-title"},e.title):""):null,r.createElement("div",{className:"ask-card-body"+(1==e.noPadding?" ask-p-0":"")+(1==e.flex?" ask-d-flex":"")},e.children),n?r.createElement("ul",{className:"ask-card-actions"},n.map((e,t)=>r.createElement("li",{key:t,style:{width:100/n.length+"%"}},e))):null)});const l=(0,a.ZP)(s)`
	${e=>e.styles&&`\n\t\t${e.styles.card&&e.styles.card.color?`\n\t\t\tcolor: ${e.styles.card.color};\n\t\t`:""}\n\t\t${e.styles.card&&e.styles.card.background?`\n\t\t\tbackground-color: ${e.styles.card.background};\n\t\t`:""}\n\t\t${e.styles.card&&e.styles.card.border?`\n\t\t\tborder-color: ${e.styles.card.border};\n\t\t`:""}\n\t\t& .ask-card-actions{\n\t\t\t${e.styles.card&&e.styles.card.border?`\n\t\t\t\tborder-color: ${e.styles.card.border};\n\t\t\t`:""}\n\t\t}\n\t\t& .ask-card-actions>li:not(:last-child){\n\t\t\t${e.styles.card&&e.styles.card.border?`\n\t\t\t\tborder-color: ${e.styles.card.border};\n\t\t\t`:""}\n\t\t}\n\t\t& .ask-card-actions>li:hover{\n\t\t\t${e.styles.card&&e.styles.card.hoverColor?`\n\t\t\t\tcolor: ${e.styles.card.hoverColor};\n\t\t\t`:""}\n\t\t}\n\t\t& .ask-card-header{\n\t\t\t${e.styles.card&&e.styles.card.border?`\n\t\t\t\tborder-color: ${e.styles.card.border};\n\t\t\t`:""}\n\t\t}\n\t`}
`,c=(0,i.$j)((e,t)=>({styles:e.theme}))(l)},2809:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(5466),i=n(3625),a=n(4968),o=n(7613),s=n(2353),l=n(4313),c=(n(2280),n(9879)),u=n(5518),h=n(7860),f=n(5110);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let p,g=(e,t,n,o,h,f=[])=>{let d=(e,n=!1)=>{let r=[...f,e];if(1==n&&p(!1),h(r),null!=t.setFieldValue&&t.setFieldValue(t.name,r),null!=t.onChange){let e=t.options,n=[];for(let t=0;t<r.length;t++){let i=r[t],a=e.findIndex(e=>e.value==i);if(!(a>-1))break;if(n.push(e[a]),!(null!=e[a].children&&e[a].children.length>0))break;e=e[a].children}t.onChange(r,n)}},m=[];for(let p=0;p<e.length;p++){let v=e[p],y=v.label||v.value;m.push(r.createElement(s.Z.Item,{key:p},null!=v.children&&v.children.length>0?r.createElement(a.Z,{className:"ask-cascader-container",placement:"right-start",trigger:"click",position:"fixed",visibility:o[n]==y&&null!=o[n+1],customStyles:(e,t)=>{if(null!=t.reference){let n=l.Z.closest(e,".ask-cascader-container");return{...t,popper:{...t.popper,transform:"translate("+n.clientWidth+"px, -1px)"}}}return t},content:r.createElement(s.Z,null,g(v.children,t,n+1,o,h,[...f,y]))},r.createElement("span",{onClick:()=>1==t.changeOnSelect?d(y):null,className:"ask-cascader-item-wrapper"+(o[n]==y?" ask-cascader-item-active":"")},r.createElement("span",{className:"ask-cascader-label"},y),v.children?r.createElement(i.Z,{className:"ask-cascader-expand"},r.createElement(c.G,{icon:u.I4f})):null)):r.createElement("span",{className:"ask-cascader-item-wrapper"+(o[n]==y?" ask-cascader-item-active":""),onClick:()=>d(y,!0)},y,null!=v.children&&v.children.length>0?r.createElement(i.Z,{className:"ask-cascader-expand"},r.createElement(c.G,{icon:u.I4f})):null)))}return m},m=r.forwardRef((e,t)=>{const[n,l]=(0,r.useState)(e.value||[]),[h,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{l(e.value||[])},[e.value]);const{children:m,...v}=e;return r.createElement(r.Fragment,null,e.label&&r.createElement("label",{className:"ask-form-label ask-form-label-inline ask-ml-10"+(e.className?" "+e.className:""),htmlFor:e.name},e.label," ",1==e.required&&r.createElement("span",{className:"ask-form-required"},"* ")),r.createElement(a.Z,{getVisibility:(e,t)=>{p=t},className:"ask-cascader-container",placement:"bottom-start",trigger:"click",offset:[0,0],content:r.createElement(s.Z,null,g(e.options,e,0,n,l))},r.createElement(o.Z,d({},e,{className:"ask-button-cascader",onMouseEnter:()=>{f(!0)},onMouseLeave:e=>{f(!1)}}),0!=n.length?n.join(" / "):e.placeholder||"Select",1==h&&n.length>0?r.createElement(i.Z,{className:"ask-button-cascader-arrow"},r.createElement(c.G,{onClick:t=>{t.stopPropagation(),t.preventDefault(),null!=e.onBlur&&e.onBlur(e.name,!0),l([]),null!=e.setFieldValue&&e.setFieldValue(e.name,[]),e.onChange([],[]),p(!1)},icon:u.nYk})):r.createElement(i.Z,{className:"ask-button-cascader-arrow"},r.createElement(c.G,{icon:u.eW2})))))});const v=(0,h.ZP)(m)`
	${e=>e.styles?`\n\t${e.styles.secondary&&e.styles.secondary.background?`\n\t\tbackground-color: ${e.styles.secondary.background};\n\t`:""}\n\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\tcolor: ${e.styles.secondary.color};\n\t`:""}\n\t${e.styles.secondary&&e.styles.secondary.border?`\n\t\tborder-color: ${e.styles.secondary.border};\n\t`:""}\n\t&:hover{\n\t\t${e.styles.secondary&&e.styles.secondary.hoverBackgroundColor?`\n\t\t\tbackground-color: ${e.styles.secondary.hoverBackgroundColor};\n\t\t`:""}\n\t\t${e.styles.secondary&&e.styles.secondary.hoverBorderColor?`\n\t\t\tborder-color: ${e.styles.secondary.hoverBorderColor};\n\t\t`:""}\n\t}\n\t& input{\n\t\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\t\tcolor: ${e.styles.secondary.color};\n\t\t`:""}\n\t}\n\t& input::placeholder{\n\t\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\t\tcolor: ${e.styles.secondary.color};\n\t\t\topacity: 0.5;\n\t\t`:""}\n\t}\n\t`:""}
`,y=(0,f.$j)((e,t)=>({styles:e.theme}))(v)},5538:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(5466),i=n(4625),a=n(5663),o=n.n(a);n(8847);const s=e=>{let t=(0,r.useRef)(null);return(0,r.useEffect)(()=>(t.current=o().create({el:".picker",default:(0,i.u9)(e.values,e.name)||e.value||"#000000",theme:"nano",comparison:!1,swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 1)","rgba(156, 39, 176, 1)","rgba(103, 58, 183, 1)","rgba(63, 81, 181, 1)","rgba(33, 150, 243, 1)","rgba(3, 169, 244, 1)","rgba(0, 188, 212, 1)","rgba(0, 150, 136, 1)","rgba(76, 175, 80, 1)","rgba(139, 195, 74, 1)","rgba(205, 220, 57, 1)","rgba(255, 235, 59, 1)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgb:!0,input:!0}}}).on("init",t=>{null!=e.setFieldValue&&e.setFieldValue(e.name,(0,i.u9)(e.values,e.name)||e.value||"#000000")}).on("hide",(t,n)=>{null!=e.onBlur&&e.onBlur(e.name,!0)}).on("change",(t,n)=>{null!=e.onChange&&e.onChange(t.toHEXA().toString()),null!=e.setFieldValue&&e.setFieldValue(e.name,t.toHEXA().toString())}),()=>{t.current.destroyAndRemove()}),[e.name]),(0,r.useEffect)(()=>{null!=t.current&&(null!=e.setFieldValue&&e.setFieldValue(e.name,(0,i.u9)(e.values,e.name)||e.value||"#000000"),t.current.setColor((0,i.u9)(e.values,e.name)||e.value||"#000000"))},[(0,i.u9)(e.values,e.name)]),r.createElement(r.Fragment,null,e.label&&r.createElement("label",{className:"ask-form-label",htmlFor:e.name},e.label," ",1==e.required&&r.createElement("span",{className:"ask-form-required"},"* ")),r.createElement("span",{className:"ask-picker-wrapper"},r.createElement("span",{className:"picker"})))}},2716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(5466),i=(n(4313),n(9879)),a=n(3625),o=(n(2818),n(610));const s=function(e){return r.createElement("div",{className:"ask-empty"+(e.className?" "+e.className:"")},r.createElement("div",{className:"ask-empty-image"},r.createElement(a.Z,null,r.createElement(i.G,{icon:["fas","folder-open"],size:"3x"}))),0!=e.message&&r.createElement("div",{className:"ask-empty-text"},null==e.message?o.Z.getTranslation("No data"):e.message))}},2536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(5466),i=n(4625),a=n(5380),o=n.n(a),s=n(610);n(1801);const l=e=>{e=r.Children.toArray(e);let t={};for(let i=0;i<e.length;i++){let a=e[i];if(a.type===r.Fragment){let e=r.Children.toArray(a.props.children);for(let i=0;i<e.length;i++){let a=e[i],l=r.Children.toArray(a.props.children);if(l.length>0&&l[0].type.name&&["Checkbox","Radio"].indexOf(l[0].type.name)>-1){if(l.length>1)var n=o().create(null,a.props.name,[]);else n=o().create(null,a.props.name,!1);t=s.Z.merge(t,n)}else{n=o().create(null,a.props.name,"List"==a.type.name?[]:"");t=s.Z.merge(t,n)}}}else{let e=r.Children.toArray(a.props.children);if(e.length>0&&e[0].type.name&&["Checkbox","Radio"].indexOf(e[0].type.name)>-1){n=o().create(null,a.props.name,!1);t=s.Z.merge(t,n)}else{n=o().create(null,a.props.name,"List"==a.type.name?[]:"");t=s.Z.merge(t,n)}}}return t};let c=r.forwardRef((e,t)=>{let n={};const{children:a,...o}=e;return r.createElement(i.J9,{enableReinitialize:!0,innerRef:t,initialValues:{...l(a),...e.initialValues},validate:e=>((e,t,n)=>{const r={};for(let t in n){let a=n[t];if(1!=a.required||null!=(0,i.u9)(e,t)&&""!==(0,i.u9)(e,t)&&0!=(0,i.u9)(e,t).length||(r[t]="Required"),null!=a.validate){a.validate(e)&&(r[t]=a.validate(e))}}return r})(e,0,n),onSubmit:e.onSubmit},e=>r.createElement("form",{onSubmit:e.handleSubmit},s.Z.recursiveMap(a,t=>r.cloneElement(t,{...o,...e,scheme:n}))))});const u=e=>{const{children:t,scheme:n,...i}=e;return(0,r.useEffect)(()=>{1==e.isSubmitting&&0==e.getFieldMeta(e.name).touched&&e.setFieldTouched(e.name,!0)},[e.isSubmitting]),n[e.name]=e,r.createElement("div",{className:"ask-form-item"},s.Z.recursiveMap(t,e=>r.cloneElement(e,{...i,scheme:n})),e.info&&r.createElement("div",{className:"ask-form-info"},r.createElement("span",null,e.info)),e.getFieldMeta(e.name).touched&&e.errors[e.name]?r.createElement("div",{className:"ask-form-error"},e.errors[e.name]):null)},h=e=>{const{children:t,name:n,scheme:a,...o}=e;a[e.name]=e;return r.createElement("div",{className:"ask-form-list "+e.name},s.Z.recursiveMap(t((0,i.u9)(e.values,e.name)||[],{name:n,add:()=>{null==(0,i.u9)(e.values,e.name)?e.setFieldValue(n,[{}]):e.setFieldValue(n,[...(0,i.u9)(e.values,e.name),{}])},remove:t=>{for(let e in a){e.startsWith(n+"."+t)&&delete a[e];let r=e.split(n).pop().split(".");r[1]&&r[1]>t&&(r[1]=r[1]-1,a[n+r.join(".")]={...a[e]},delete a[e])}e.setFieldValue(n,[...(0,i.u9)(e.values,e.name).slice(0,t),...(0,i.u9)(e.values,e.name).slice(t+1)])}}),e=>e.type==u||e.type==h?r.cloneElement(e,{...o,scheme:a}):e))};c.Item=u,c.List=h;const f=c},4313:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(5466);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=new class{constructor(){i(this,"debounce",(e,t,n)=>{let r;return function(){let i=this,a=arguments,o=()=>{r=null,n||e.apply(i,...a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(i,a)}}),i(this,"transformProperty","string"==typeof("undefined"!=typeof window&&window.document.documentElement.style.transform)?"transform":"WebkitTransform"),i(this,"getInputsByValue",(e,t)=>{for(var n=[],r=0;r<t.length;r++)t[r].value==e&&n.push(t[r]);return n}),i(this,"giveToChildren",(e,t={})=>{if(e.type==r.Fragment)return{...e,props:{...e.props,children:e.props.children.map((e,n)=>0==n?e.map((e,n)=>"ask-list-item"==e.props.className?{...e,props:{...e.props,children:e.props.children.map((e,n)=>r.cloneElement(e,{...e.ref,...e.props,...t,key:n,index:n}))}}:e):e)}};if(null==e.children)return e.children;if("string"==typeof e.children)return e.children;if(!Array.isArray(e.children))return r.cloneElement(e.children,{...e.children.ref,...e.children.props,...t});return r.Children.toArray(e.children).map((e,n)=>"string"==typeof e?e:e.type==r.Fragment?r.cloneElement(e,{...e.ref,...e.props,...t,key:n,index:n,children:e.props.children.map((e,n)=>r.cloneElement(e,{...e.ref,...e.props,...t,key:n,index:n}))}):r.cloneElement(e,{...e.ref,...e.props,...t,key:n,index:n}))}),i(this,"getFormValues",(e,t)=>{let n=e.split("."),r=t;for(let e=0;e<n.length;e++){if(null==r[n[e]]){r="";break}r=r[n[e]]}return r}),i(this,"getPathsSelectedMenus",(e,t)=>{if(null==e||0==e.length)return[];var n=[0],r=[t.children.length],i=[0],a=[...e];const o=[...t.children],s=[];for(;o.length;){const e=o.shift();if("string"!=typeof e)for(let t of a)if(null!=e.props.id&&t==e.props.id){s.push([...i]);let e=a.indexOf(t);if(e>-1&&(a.splice(e,1),0==a.length))return s}r.length>0&&"string"!=typeof e&&(r[r.length-1]--,(0==r[r.length-1]&&!Array.isArray(e.props.children)||0==r[r.length-2]&&0==r[r.length-1])&&(r.pop(),n.pop(),i.pop(),0==r[r.length-1]&&(r.pop(),n.pop(),i.pop()))),null!=e.props&&null!=e.props.children&&"string"!=typeof e.props.children&&(n.push(-1),r.push(e.props.children.length),o.unshift(...e.props.children),i.push(null)),n[n.length-1]++,i[i.length-1]=n[n.length-1]}return s}),i(this,"getLinkedMenu",(e,t=[],n)=>{let r=!1;if(0==t.length)return 1==r?i:[];let i=t.map((e,t)=>(e[0]!=n&&1!=r||(r=!0),[...e.slice(1)]));return 1==r?{active:!0,keys:i}:{active:!1,keys:[]}}),i(this,"findNode",(e,t)=>{let n=t.children;for(let t in n){let r=n[t];if(null!=r.props){if(null!=r.props.id&&r.props.id===e)return t;const n=this.findNode(e,r.props);if(n)return t+n}}}),i(this,"isEmpty",e=>Array.isArray(e)?0===e.length:0===Object.keys(e).length)}closest(e,t){var n,r;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(e){return"function"==typeof document.body[e]&&(n=e,!0)}));e;){if((r=e.parentElement)&&r[n](t))return r;e=r}return null}}},3625:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5466);n(4313);const i=function(e){return r.createElement("span",{className:"ask-icon"+(e.className?" "+e.className:"")},e.children)}},8507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(5466),i=(n(6365),n(7860)),a=n(5110),o=n(9879),s=n(5518),l=n(4625);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const u=e=>{(0,r.useEffect)(()=>{null!=e.value&&null!=e.setFieldValue&&e.setFieldValue(e.name,e.value)},[(0,l.u9)(e.values,e.name)]);let t={};return t=e.handleChange?{onChange:t=>(e.handleChange(t),e.onChange?e.onChange(t):null),onBlur:e.handleBlur,value:(0,l.u9)(e.values,e.name)||""}:{onChange:e.onChange,onBlur:e.onBlur,defaultValue:e.defaultValue,value:e.value},e.onInput&&(t.onInput=e.onInput),r.createElement("input",c({placeholder:e.placeholder,type:e.type,className:"ask-input",id:e.name,name:e.name},t,{disabled:e.disabled}))},h=r.forwardRef((e,t)=>r.createElement(r.Fragment,null,e.label&&r.createElement("label",{className:"ask-form-label ask-form-label-inline ask-ml-10"+(e.className?" "+e.className:""),htmlFor:e.name},e.label," ",1==e.required&&r.createElement("span",{className:"ask-form-required"},"* ")),r.createElement("span",{className:"ask-input-wrapper"+(e.className?" "+e.className:"")},null!=e.prefix&&r.createElement("span",{className:"ask-prefix"},e.prefix),r.createElement(u,c({type:"text"},e)),null!=e.suffix&&r.createElement("span",{className:"ask-suffix"},e.suffix))));const f=(0,i.ZP)((function(e){let t={};t=e.handleChange?{onChange:e.handleChange,onBlur:e.handleBlur,value:(0,l.u9)(e.values,e.name)}:{onChange:e.onChange,onBlur:e.onBlur},null!=e.maxLength&&(t.maxLength=e.maxLength),e.onInput&&(t.onInput=e.onInput);let n=(0,r.useRef)(null);return r.createElement("span",{ref:n,className:"ask-input-wrapper"},e.label&&r.createElement("label",{className:"ask-form-label ask-form-label-inline ask-ml-10"+(e.className?" "+e.className:""),htmlFor:e.name},e.label," ",1==e.required&&r.createElement("span",{className:"ask-form-required"},"* ")),r.createElement("textarea",c({disabled:e.disabled},t,{id:e.name,className:"ask-input"+(e.className?" "+e.className:"")})))}))`
	${e=>e.styles?`\n\t\t${e.styles.secondary&&e.styles.secondary.background?`\n\t\t\tbackground-color: ${e.styles.secondary.background};\n\t\t`:""}\n\t\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\t\tcolor: ${e.styles.secondary.color};\n\t\t`:""}\n\t\t${e.styles.secondary&&e.styles.secondary.border?`\n\t\tborder-color: ${e.styles.secondary.border};\n\t\t`:""}\n\t`:""}
`;const d=(0,i.ZP)(h)`
	${e=>e.styles?`\n\t\t${e.styles.secondary&&e.styles.secondary.background?`\n\t\t\tbackground-color: ${e.styles.secondary.background};\n\t\t`:""}\n\t\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\t\tcolor: ${e.styles.secondary.color};\n\t\t`:""}\n\t\t${e.styles.secondary&&e.styles.secondary.border?`\n\t\t\tborder-color: ${e.styles.secondary.border};\n\t\t`:""}\n\t\t&:hover{\n\t\t\t${e.styles.secondary&&e.styles.secondary.hoverBackgroundColor?`\n\t\t\t\tbackground-color: ${e.styles.secondary.hoverBackgroundColor};\n\t\t\t`:""}\n\t\t\t${e.styles.secondary&&e.styles.secondary.hoverBorderColor?`\n\t\t\t\tborder-color: ${e.styles.secondary.hoverBorderColor};\n\t\t\t`:""}\n\t\t}\n\t\t& input{\n\t\t\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\t\t\tcolor: ${e.styles.secondary.color};\n\t\t\t`:""}\n\t\t}\n\t\t& input::placeholder{\n\t\t\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\t\t\tcolor: ${e.styles.secondary.color};\n\t\t\t\topacity: 0.5;\n\t\t\t`:""}\n\t\t}\n\t\t& .ask-prefix, & .ask-suffix{\n\t\t\t${e.styles.secondary&&e.styles.secondary.background?`\n\t\t\t\tbackground-color: ${e.styles.secondary.background};\n\t\t\t`:""}\n\t\t}\n\t`:""}
`,p=(e,t)=>({styles:e.theme});d.TextArea=(0,a.$j)(p,null,null,{forwardRef:!0})(f),d.Password=function(e){let[t,n]=(0,r.useState)("password");return r.createElement("span",{className:"ask-input-group"},null!=e.prefix&&r.createElement("span",{className:"ask-prefix"},e.prefix),r.createElement(u,c({},e,{className:"ask-password",type:t})),r.createElement("span",{onClick:e=>{n("password"==t?"text":"password")},className:"ask-password-toggle"},"password"==t?r.createElement(o.G,{icon:s.Aq}):r.createElement(o.G,{icon:s.Mdf})),null!=e.suffix&&r.createElement("span",{className:"ask-suffix"},e.suffix))},d.Search=function(e){let t=(0,r.useRef)(null),n=(0,r.useRef)(null),i=null!=e.onSearch?e.onSearch:null;return r.createElement("span",{ref:t,className:"ask-input-group"},null!=e.prefix&&r.createElement("span",{className:"ask-prefix"},e.prefix),r.createElement(u,c({},e,{type:"text"})),r.createElement("button",{onClick:()=>{i(n.current.value)},className:"ask-search-button"},r.createElement(o.G,{icon:s.wn1})),null!=e.suffix&&r.createElement("span",{className:"ask-suffix"},e.suffix))},d.Hidden=function(e){return r.createElement(u,c({type:"hidden"},e))};const g=(0,a.$j)(p,null,null,{forwardRef:!0})(d)},4206:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(5466),i=n(2716);n(861);const a=function(e){let t=e.data||[];switch(t.length){case 0:return 1==e.hideEmpty?null:r.createElement(i.Z,null);default:return null==e.column?r.createElement("div",{className:"ask-list"+(e.className?" "+e.className:"")},t.map((t,n)=>r.createElement("div",{key:n,className:"ask-list-item"},e.render(t,n)))):r.createElement("div",{className:"ask-row"},t.map((t,n)=>r.createElement("div",{key:n,className:"ask-list-item ask-col-xs-"+12/e.column},e.render(t,n))))}}},2353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(5466),i=(n(5704),n(4968)),a=n(7613),o=n(7462),s=n(4313),l=n(104);n(9509);const c=function(e){const[t,n]=(0,r.useState)(e.collapsed);return r.createElement(r.Fragment,null,s.Z.giveToChildren(e,{onClick:()=>{n(!t),"function"==typeof e.children.props.onClick&&e.children.props.onClick(e.children.props.id)}}),r.createElement(l.Z,{unmountOnExit:!0,in:t,appear:!0,timeout:150,classNames:"ask-collapse"},e.content))};var u=n(3625),h=n(4948),f=n(7860),d=n(9879),p=n(7533);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const m=(e,t,n,i)=>{let a=n.icon||null;return r.createElement("li",g({},i,{onClick:e=>{null!=n.onClick&&n.onClick(e),null!=n.onMenuClick&&n.onMenuClick(n.id),null!=n.onMenuItemClick&&n.onMenuItemClick()},onMouseEnter:e=>{null!=n.onMouseEnter&&n.onMouseEnter(e)},onMouseOut:e=>{null!=n.onMouseOut&&n.onMouseOut(e)}}),a?r.createElement(u.Z,null,a):null,r.createElement("span",{className:"ask-menu-content"},e))},v=(0,f.ZP)(e=>{const t=(0,r.useRef)(null),{children:n,onMenuClick:i,className:a,style:o,depth:l=0,selectedKeys:c,...u}=e;return r.createElement("ul",{ref:t,className:["ask-menu",0==l?"ask-menu-root":"",a,"ask-menu-"+(null!=u.mode?u.mode:"list")].filter(Boolean).join(" "),style:o},s.Z.giveToChildren(e,{...u,onMenuClick:i,selectedKeys:s.Z.getPathsSelectedMenus(c||[],e),depth:l+1}))})`
	background: ${e=>e.styles?e.styles.background:p.Z.getState().theme.menu.background};
	color: ${e=>e.styles?e.styles.color:p.Z.getState().theme.menu.color};
	border-color: ${e=>e.styles?e.styles.border:p.Z.getState().theme.menu.border};
	& button{
		color: ${e=>e.styles?e.styles.color:p.Z.getState().theme.menu.color};
	}
	& button:hover{
		color: ${e=>e.styles?e.styles.hoverColor:p.Z.getState().theme.menu.hoverColor};
	}
`,y=r.forwardRef((e,t)=>{const{children:n,active:i=s.Z.getLinkedMenu(e.depth,e.selectedKeys,e.index).active,className:a,style:l,depth:c=1,content:u=s.Z.giveToChildren(e),...h}=e;let f=m(u,0,h,{className:["ask-menu-item",!0===h.disabled?"ask-menu-item-disabled":"",a,1==i?"ask-menu-item-active":"",1==e.collapsed?"ask-menu-item-collapsed":""].filter(Boolean).join(" "),style:l,title:h.title,ref:t});return r.createElement(o.Z,{placement:e.tooltipPlacement||"right",enabled:1==c&&1==h.collapsed&&(null==e.option||"popover"!=e.option.fallback),content:u},f)}),b=(0,f.ZP)(y)`
	&:hover {
		color: ${e=>e.styles?e.styles.hoverColor:p.Z.getState().theme.menu.hoverColor};
		background-color: ${e=>e.styles?e.styles.hoverBackgroundColor:p.Z.getState().theme.menu.hoverBackgroundColor};
	}
	&.ask-menu-item-active{
		color: ${e=>e.styles?e.styles.activeColor:p.Z.getState().theme.menu.activeColor};
		background-color: ${e=>e.styles?e.styles.activeBackgroundColor:p.Z.getState().theme.menu.activeBackgroundColor};
	}
`,w=r.forwardRef((e,t)=>1==e.collapsible?r.createElement(a.Z,{className:"ask-collapsible-button ask-btn-tertiary",square:!0,block:!0,onClick:()=>h.Z.toggleBlock(e.id)},r.createElement(d.G,{icon:["fas",1==e.collapsed?"plus":"minus"]})):null);v.Collapsible=w,v.Item=b,v.Submenu=e=>{const{children:t,depth:n,className:a,disabled:o,style:l,title:u,id:h,active:f=s.Z.getLinkedMenu(e.depth,e.selectedKeys,e.index).active,...d}=e;switch(d.mode){case"horizontal":return r.createElement(i.Z,{placement:1==n?"bottom":void 0,content:r.createElement("ul",{className:"ask-submenu",style:l,title:u},s.Z.giveToChildren(e,{...d,selectedKeys:s.Z.getLinkedMenu(n,e.selectedKeys,e.index).keys,depth:n+1}))},m(u,0,e,{className:["ask-menu-item ask-submenu-item",!0===o?"ask-menu-item-disabled":"",a,1==f?"ask-menu-item-active":""].filter(Boolean).join(" ")}));case"inline":return r.createElement(c,{collapsed:1==f,content:r.createElement("ul",{className:"ask-submenu",style:l,title:u},s.Z.giveToChildren(e,{...d,selectedKeys:void 0,depth:n+1}))},m(u,0,e,{className:["ask-menu-item ask-submenu-item",!0===o?"ask-menu-item-disabled":"",a,1==f?"ask-menu-item-active":""].filter(Boolean).join(" ")}));default:return r.createElement(i.Z,{placement:1==n?"right-start":void 0,content:r.createElement("ul",{className:"ask-submenu",style:l,title:u},s.Z.giveToChildren(e,{...d,selectedKeys:void 0,depth:n+1}))},m(u,0,e,{className:["ask-menu-item ask-submenu-item",!0===o?"ask-menu-item-disabled":"",a,1==f?"ask-menu-item-active":""].filter(Boolean).join(" ")}))}};const C=v},5345:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(5466),i=n(6116),a=(n(7815),n(104)),o=n(9762),s=n(9879),l=n(5518),c=n(3625),u=n(7613),h=n(7860),f=n(610);const d=r.memo(e=>{(0,r.useEffect)(()=>{0==n&&1==e.visible&&h(!0)}),(0,r.useEffect)(()=>{e.onInit&&e.onInit()},[]);const t=(0,r.useRef)(null),[n,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{1==e.visible&&(e.onOpen&&e.onOpen(),1==e.fullScreen&&(document.getElementsByTagName("body")[0].style.overflow="hidden"))},[e.visible]);const d=r.createElement(a.Z,{in:e.visible,appear:!0,timeout:300,classNames:"ask-modal"},r.createElement("div",{style:0==n?{display:"none"}:{},ref:t,className:"ask-modal"+(null!=e.name?" ask-modal-"+e.name:"")+(!0===e.centered?" ask-modal-centered":"")+(null==e.visible?" ask-modal-exit-done":"")+("Personalization"==e.title?" ask-btf":"")},r.createElement("div",{className:"ask-modal-mask",onClick:()=>{e.onClose&&e.onClose(),1==e.fullScreen&&(document.getElementsByTagName("body")[0].style.overflow="initial")}}),r.createElement("div",{className:"ask-modal-wrapper",style:{height:1==e.fullScreen?"100%":"calc(100% - 115px)",width:1==e.fullScreen&&"100%"}},r.createElement("div",{className:"ask-modal-content"+(null!=e.className?" "+e.className:"")},e.title||e.closable?r.createElement("div",{className:"ask-modal-header"},e.title?r.createElement("span",{className:"ask-modal-title"},f.Z.getTranslation(e.title)):"",1==e.closable?r.createElement("span",{className:"ask-modal-close",onClick:()=>{e.onClose&&e.onClose(),1==e.fullScreen&&(document.getElementsByTagName("body")[0].style.overflow="initial")}},r.createElement(c.Z,null,r.createElement(s.G,{icon:l.NBC}))):""):null,r.createElement(o.$B,{style:{width:"100%",height:(e.title||e.closable)&&"function"==typeof e.onOk?"calc(100% - 115px)":e.title||e.closable||"function"==typeof e.onOk?"calc(100% - 53px)":""}},r.createElement("div",{className:"ask-modal-body"+(1==e.noPadding?" ask-p-0":"")},e.children)),"function"==typeof e.onOk?r.createElement("div",{className:"ask-modal-footer"},r.createElement(u.Z,{className:"ask-mr-10",onClick:()=>{e.onClose&&e.onClose(),1==e.fullScreen&&(document.getElementsByTagName("body")[0].style.overflow="initial")}},"Close"),r.createElement(u.Z,{className:"ask-mr-10",onClick:()=>{e.onOk&&e.onOk(),1==e.fullScreen&&(document.getElementsByTagName("body")[0].style.overflow="initial")}},e.onOkText||"OK")):null))));return e.container&&1==n?i.createPortal(d,document.querySelector(e.container)):d},(e,t)=>1!=e.active&&1!=t.active&&1!=e.visible&&1!=t.visible),p=(0,h.ZP)(d)`
	${e=>e.styles?`\n\t\t${e.styles.color?`\n\t\t\tcolor: ${e.styles.color};\n\t\t`:""}\n\t\t${e.styles.background?`\n\t\t\tbackground-color: ${e.styles.background};\n\t\t`:""}\n\t\t${e.styles.border?`\n\t\t\t& .ask-modal-footer, & .ask-modal-header{\n\t\t\t\tborder-color: ${e.styles.border};\n\t\t\t}\n\t\t`:""}\n\t`:""};
`},9745:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(5466),i=(n(7195),n(4625)),a=n(7860),o=n(5110);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const l=(0,a.ZP)(e=>{let t;return t=e.handleChange?{onChange:t=>(e.handleChange(t),e.onChange?e.onChange(t):null),onBlur:e.handleBlur,value:(0,i.u9)(e.values,e.name)||"",defaultValue:e.defaultValue}:{onChange:e.onChange,onBlur:e.onBlur,defaultValue:e.defaultValue,value:e.value},r.createElement("span",{className:"ask-input-wrapper"+(e.className?" "+e.className:"")},e.label&&r.createElement("label",{className:"ask-form-label ask-form-label-inline ask-ml-10"+(e.className?" "+e.className:""),htmlFor:e.name},e.label," ",1==e.required&&r.createElement("span",{className:"ask-form-required"},"* ")),r.createElement("select",s({style:e.style,className:"ask-input"},t,{id:e.name,name:e.name}),r.Children.toArray(e.children)))})`
${e=>e.styles?`\n\t${e.styles.secondary&&e.styles.secondary.background?`\n\t\tbackground-color: ${e.styles.secondary.background};\n\t`:""}\n\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\tcolor: ${e.styles.secondary.color};\n\t`:""}\n\t${e.styles.secondary&&e.styles.secondary.border?`\n\t\tborder-color: ${e.styles.secondary.border};\n\t`:""}\n\t&:hover{\n\t\t${e.styles.secondary&&e.styles.secondary.hoverBackgroundColor?`\n\t\t\tbackground-color: ${e.styles.secondary.hoverBackgroundColor};\n\t\t`:""}\n\t\t${e.styles.secondary&&e.styles.secondary.hoverBorderColor?`\n\t\t\tborder-color: ${e.styles.secondary.hoverBorderColor};\n\t\t`:""}\n\t}\n\t& input{\n\t\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\t\tcolor: ${e.styles.secondary.color};\n\t\t`:""}\n\t}\n\t& input::placeholder{\n\t\t${e.styles.secondary&&e.styles.secondary.color?`\n\t\t\tcolor: ${e.styles.secondary.color};\n\t\t\topacity: 0.5;\n\t\t`:""}\n\t}\n\t& .ask-prefix, & .ask-suffix{\n\t\t${e.styles.secondary&&e.styles.secondary.background?`\n\t\t\tbackground-color: ${e.styles.secondary.background};\n\t\t`:""}\n\t}\n\t& select{\n\t\t${e.styles.secondary&&e.styles.secondary.background?`\n\t\t\tcolor: ${e.styles.secondary.color};\n\t\t`:""}\n\t}\n`:""}
`;l.Option=e=>{const{children:t,...n}=e;return r.createElement("option",{style:e.style,value:e.value},r.Children.toArray(t))};const c=(0,o.$j)((e,t)=>({styles:e.theme}))(l)},4631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5466);n(7083);const i=function(e){const{style:t={},className:n=null}=e;return r.createElement("article",{style:t,className:["ask-layout-content",n].filter(Boolean).join(" ")},e.children)}},5800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5466);n(6511);const i=function(e){const{style:t={},className:n=null}=e;return r.createElement("div",{style:t,className:["ask-layout",n].filter(Boolean).join(" ")},e.children)}},7295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5466);n(3793);const i=function(e){const{style:t={},className:n=null}=e;return r.createElement("section",{style:t,className:["ask-layout-section",n].filter(Boolean).join(" ")},e.children)}},7136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5466);n(1401);const i=function(e){const{style:t={},className:n=null}=e;return r.createElement("aside",{style:t,className:["ask-layout-sider",n].filter(Boolean).join(" ")},e.children)}},9837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5466),i=(n(4193),n(4625));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const o=e=>{const[t,n]=(0,r.useState)(!1),o=e.step||1,s=e.min||0,l=e.max||100;let c=(0,i.u9)(e.values,e.name)||e.value||0;const u=(0,r.useRef)(null);(0,r.useEffect)(()=>{null!=e.value&&null!=e.setFieldValue&&e.setFieldValue(e.name,e.value)},[(0,i.u9)(e.values,e.name)]),(0,r.useEffect)(()=>{function e(){n(!1)}return document.addEventListener("mouseup",e),()=>document.removeEventListener("mouseup",e)},[]),(0,r.useEffect)(()=>{u.current&&f()},[u,t]);let h,f=()=>{u.current.style.left="calc( 50% - "+u.current.offsetWidth/2+"px)"};return h=e.handleChange?{onChange:t=>(e.handleChange(t),e.onChange&&e.onChange(t),f()),onBlur:e.handleBlur,value:c}:{onChange:t=>e.onChange(t),onBlur:e.onBlur,defaultValue:e.defaultValue,value:c},r.createElement("div",{className:"ask-range-slider"+(e.className?" "+e.className:"")},e.label&&r.createElement("label",{className:"ask-form-label",htmlFor:e.name},e.label," ",1==e.required&&r.createElement("span",{className:"ask-form-required"},"* ")),r.createElement("input",a({onMouseDown:()=>n(!0),className:"ask-range-slider__range",type:"range"},h,{step:o||1,min:s||0,max:l||100,id:e.name})),1==t&&r.createElement("span",{ref:u,style:{top:"-40px"},className:"ask-range-slider__value"},h.value))}},4968:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(5466),i=n(6116),a=n(6842),o=n(610),s=(n(2193),n(104)),l=n(5110),c=n(7860);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let h=({state:e})=>{e.styles.popper.minWidth=e.rects.reference.width+"px"};const f=(0,c.ZP)(e=>{let t,n=(0,r.useRef)(!1);const[l,c]=(0,r.useState)(e.visibility||!1),[f,d]=(0,r.useState)(null),[p,g]=(0,r.useState)(null),[m,v]=(0,r.useState)(null),{styles:y,attributes:b}=(0,a.D)(f,p,{strategy:e.position||"absolute",modifiers:[{name:"arrow",options:{element:m}},{name:"offset",options:{offset:e.offset||[0,5]}},{name:"sameWidth",enabled:1==e.sameWidth&&e.sameWidth,fn:h,phase:"beforeWrite",requires:["computeStyles"]}],placement:e.placement||"right"});e.getVisibility&&e.getVisibility(l,c);o.Z.useEventListener("mousedown",e=>{e.target.attributes["aria-label"]&&e.target.getAttribute("aria-label").split(" ").some(e=>/swatch.*/.test(e))||e.target.className.split&&e.target.className.split(" ").some(e=>/pcr-.*/.test(e))||n.current||n.current||f==e.target||f.contains(e.target)||p==e.target||p&&p.contains(e.target)?n.current=!1:(n.current=!1,c(!1))},document);const w=()=>{c(!0),null!=e.onOpen&&e.onOpen(l,c)},C=n=>{let r,i=e=>{r=e.target};document.addEventListener("mousemove",i,!0),clearTimeout(t),t=setTimeout(()=>{document.removeEventListener("mousemove",i,!0),p.contains(r)||f.contains(r)||(c(!1),null!=e.onClose&&e.onClose(l,c))},200)};let x=null!=e.customStyles?e.customStyles(f,y):y;const E=t=>{c(!l),1!=l?null!=e.onOpen&&e.onOpen(l,c):null!=e.onClose&&e.onClose(l,c)};let k=r.createElement(s.Z,{unmountOnExit:!0,in:l,appear:!0,timeout:300,classNames:"ask-popover"},r.createElement("div",u({className:"ask-popover"+(e.className?" "+e.className:"")+" ask-popover-"+l,onMouseOut:"click"==e.trigger?null:C,onMouseDownCapture:e=>{n.current=!0},ref:g,style:x.popper},b.popper),e.content));return null!=e.portal&&(k=i.createPortal(k,e.portal)),r.createElement(r.Fragment,null,r.cloneElement(r.Children.only(e.children),{..."click"==e.trigger?{onClick:null!=e.children.props.onClick?t=>{e.children.props.onClick(t),E()}:E}:{onMouseEnter:w,onMouseOut:C},ref:d}),k)})`
	${e=>e.styles?`\n\t\t${e.styles.color?`\n\t\t\tcolor: ${e.styles.color};\n\t\t`:""}\n\t\t${e.styles.background?`\n\t\t\tbackground-color: ${e.styles.background};\n\t\t`:""}\n\t\t${e.styles.border?`\n\t\t\tborder-color: ${e.styles.border};\n\t\t`:""}\n\t`:""}
`,d=(0,l.$j)((e,t)=>({styles:e.theme.popover}))(f)},7462:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5466),i=n(6842),a=n(4313),o=(n(5393),n(104));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const l=(e,t)=>{const[n,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[h,f]=(0,r.useState)(null),[d,p]=(0,r.useState)(null),{styles:g,attributes:m}=(0,i.D)(c,h,{strategy:"fixed",modifiers:[{name:"arrow",options:{element:d}},{name:"offset",options:{offset:[0,20]}}],placement:e.placement||"right"}),v=()=>{l(!0)},y=e=>{h.contains(e.relatedTarget)||c.contains(e.relatedTarget)||l(!1)};return null==e.enabled||1==e.enabled?r.createElement(r.Fragment,null,a.Z.giveToChildren(e,{onMouseEnter:v,onMouseOut:y,ref:u}),r.createElement(o.Z,{unmountOnExit:!0,in:n,appear:!0,timeout:300,classNames:"ask-tooltip"},r.createElement("div",s({className:"ask-tooltip",onMouseOut:y,ref:f,style:g.popper},m.popper),e.content,r.createElement("div",{className:"ask-tooltip-arrow",ref:p,style:g.arrow})))):e.children}},6612:(e,t,n)=>{"use strict";n.d(t,{g:()=>w});var r=n(5466),i=n(4625),a=(n(4344),n(4206)),o=n(3625),s=n(610),l=n(4313),c=n(9879),u=n(5518),h=n(9416),f=n.n(h),d=n(7533),p=n(5438),g=n(7260),m=n.n(g),v=n(6496);let y=(e,t,n,r=!1)=>{let i=n=>{t.setUploads(n),null!=e.setFieldValue&&e.setFieldValue(e.name,1==e.multiple?n:n[0])};if(1==r)i(n);else if(0==r)i(n);else{let t=d.Z.getState().defaults.upload;if(null==t||null==t.minWidth&&null==t.maxWidth&&null==t.minHeight&&null==t.maxHeight)i(n),null!=e.afterUpload&&e.afterUpload(n[n.length-1]);else{var a=new Image;a.src=r,a.onload=function(){null!=t&&null!=t.minWidth&&this.width<p.fabric.util.parseUnit(t.minWidth)?(n.pop(),i(n),(0,v.Z)({key:"uploadInfo",container:".ask-designer-content",position:"absolute",content:s.Z.getTranslation("Your file does not have the required dimensions, the minimum width is")+" "+t.minWidth,delay:3e3,positionX:"right"})):null!=t&&null!=t.maxWidth&&this.width>p.fabric.util.parseUnit(t.maxWidth)?(n.pop(),i(n),(0,v.Z)({key:"uploadInfo",container:".ask-designer-content",position:"absolute",content:s.Z.getTranslation("Your file does not have the required dimensions, the maximum width is")+" "+t.maxWidth,delay:3e3,positionX:"right"})):null!=t&&null!=t.minHeight&&this.height<p.fabric.util.parseUnit(t.minHeight)?(n.pop(),i(n),(0,v.Z)({key:"uploadInfo",container:".ask-designer-content",position:"absolute",content:s.Z.getTranslation("Your file does not have the required dimensions, the minimum height is")+" "+t.minHeight,delay:3e3,positionX:"right"})):null!=t&&null!=t.maxHeight&&this.height>p.fabric.util.parseUnit(t.maxHeight)?(n.pop(),i(n),(0,v.Z)({key:"uploadInfo",container:".ask-designer-content",position:"absolute",content:s.Z.getTranslation("Your file does not have the required dimensions, the maximum height is")+" "+t.maxHeight,delay:3e3,positionX:"right"})):(i(n),null!=e.afterUpload&&e.afterUpload(n[n.length-1]))}}}},b=(e,t,n,r)=>{let i=d.Z.getState().defaults.upload,a=t.accept.split(","),o=f()(),l=[...r.uploads,...Object.values(e).map(e=>({id:`${e.name}_${o}`,name:e.name,progress:0}))];null!=n.beforeUpload&&n.beforeUpload(file);for(let c=0;c<e.length;c++){let u=e[c];if(-1!=a.indexOf(u.name.split(".").pop()))switch(t.action){case"base64":s.Z.getBase64(u,{onprogress:e=>{if(e.lengthComputable){let t=Math.max(Math.min(parseInt(e.loaded/e.total*100,10),99),1);l=l.map(e=>e.id==`${u.name}_${o}`?{...e,progress:t}:e),y(n,r,l,!0)}},onload:e=>{if(l=l.map(t=>t.id==`${u.name}_${o}`?{...t,progress:100,url:e.currentTarget.result}:t),null==i||null==i.minSize&&null==i.maxSize)y(n,r,l,e.currentTarget.result);else{if(null!=i&&null!=i.minSize&&e.total<m()(i.minSize))return l=l.filter(e=>e.id!=`${u.name}_${o}`),y(n,r,l,!1),void(0,v.Z)({key:"uploadInfo",container:".ask-designer-content",position:"absolute",content:s.Z.getTranslation("Your file is too small, the minimum size is")+" "+i.minSize,delay:3e3,positionX:"right"});if(null!=i&&null!=i.maxSize&&e.total>m()(i.maxSize))return l=l.filter(e=>e.id!=`${u.name}_${o}`),y(n,r,l,!1),void(0,v.Z)({key:"uploadInfo",container:".ask-designer-content",position:"absolute",content:s.Z.getTranslation("Your file is too large, the maximum size is")+" "+i.maxSize,delay:3e3,positionX:"right"});y(n,r,l,e.currentTarget.result)}},onerror:()=>{l=l.filter(e=>e.id!=`${u.name}_${o}`),y(n,r,l,!1)}});break;default:const e=new FormData;if(e.append("file",u),n.data)for(let t in n.data)e.append(t,n.data[t]);s.Z.getUpload({method:n.method,data:e,url:n.action,onUploadProgress:e=>{if(e.lengthComputable){let t=Math.max(Math.min(parseInt(e.loaded/e.total*100,10),99),1);l=l.map(e=>e.id==`${u.name}_${o}`?{...e,progress:t}:e),y(n,r,l,!0)}},headers:{"Content-Type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"}},e=>{let t=JSON.parse(e.request.response);if(l=0==t?l.filter(e=>e.id!=`${u.name}_${o}`):l.map(e=>e.id==`${u.name}_${o}`?"string"==typeof t||t instanceof String?{...e,progress:100,url:t}:{...e,progress:100,...t}:e),null==i||null==i.minSize&&null==i.maxSize)y(n,r,l,t);else{if(null!=i&&null!=i.minSize&&data.total<m()(i.minSize))return l=l.filter(e=>e.id!=`${u.name}_${o}`),y(n,r,l,!1),void(0,v.Z)({key:"uploadInfo",container:".ask-designer-content",position:"absolute",content:s.Z.getTranslation("Your file is too small, the minimum size is")+" "+i.minSize,delay:3e3,positionX:"right"});if(null!=i&&null!=i.maxSize&&data.total>m()(i.maxSize))return l=l.filter(e=>e.id!=`${u.name}_${o}`),y(n,r,l,!1),void(0,v.Z)({key:"uploadInfo",container:".ask-designer-content",position:"absolute",content:s.Z.getTranslation("Your file is too large, the maximum size is")+" "+i.maxSize,delay:3e3,positionX:"right"});y(n,r,l,data.currentTarget.result)}},e=>{l=l.filter(e=>e.id!=`${u.name}_${o}`),y(n,r,l,!1)})}}},w=e=>{let t={accept:e.accept,value:null!=(0,i.u9)(e.values,e.name)&&""!=(0,i.u9)(e.values,e.name)?(0,i.u9)(e.values,e.name):[],action:e.action},[n,s]=(0,r.useState)(t.value),h=(0,r.useRef)(null);(0,r.useEffect)(()=>{(0,i.u9)(e.values,e.name)!=n&&((0,i.u9)(e.values,e.name)?null!=(0,i.u9)(e.values,e.name)&&(s((0,i.u9)(e.values,e.name)),null!=e.setFieldValue&&e.setFieldValue(e.name,(0,i.u9)(e.values,e.name))):(s([]),null!=e.setFieldValue&&e.setFieldValue(e.name,[])))},[(0,i.u9)(e.values,e.name)]);return r.createElement(r.Fragment,null,r.createElement("input",{ref:h,multiple:e.multiple||!1,className:"ask-upload-input",type:"file",onChange:r=>{let i;i=1==e.multiple?n:[],r.target.files.length>0&&b(r.target.files,t,e,{uploads:i,setUploads:s})},onClick:e=>{e.target.value=null}}),l.Z.giveToChildren(e,{onClick:()=>{"function"==typeof e.action?(async t=>{var r=await t();Array.isArray(r)?(s(1==e.multiple?[...n,...r]:[...n,r[0]]),null!=e.setFieldValue&&e.setFieldValue(e.name,1==e.multiple?[...n,...r]:[...n,r[0]])):(s(1==e.multiple?[...n,r]:r),null!=e.setFieldValue&&e.setFieldValue(e.name,1==e.multiple?[...n,r]:r))})(e.action):(null!=e.onBlur&&e.onBlur(e.name,!0),h.current.click())}}),r.createElement(a.Z,{hideEmpty:!0,className:"ask-list-upload",data:Array.isArray(n)?n:[n],render:t=>r.createElement("span",{className:"ask-upload-item",onClick:n=>{null!=e.onItemClick&&(null==t.progress||100==t.progress)&&e.onItemClick(t)}},r.createElement(o.Z,null,r.createElement(c.G,{spin:null!=t.progress&&100!=t.progress,icon:null==t.progress||100==t.progress?u.Alc:u.LM3})),r.createElement("span",{className:"ask-title"},t.name),(null==t.progress||100==t.progress)&&r.createElement("span",{onClick:n=>{n.stopPropagation(),n.preventDefault(),null!=e.onItemClick&&e.onItemClick(t)},className:"ask-upload-actions"},null!=e.onItemClick&&r.createElement(o.Z,{className:"ask-upload-action"},r.createElement(c.G,{icon:["fas","plus"]})),r.createElement(o.Z,{className:"ask-upload-action"},r.createElement(c.G,{onClick:r=>{r.stopPropagation(),r.preventDefault(),(t=>{let r;r=1==e.multiple?n.filter(e=>e.id!=e.id):[],s(r),null!=e.setFieldValue&&e.setFieldValue(e.name,[]),null!=e.onRemove&&e.onRemove(t)})(t)},icon:u.$aW}))))}))};w.Dropzone=e=>{let t={accept:e.accept,value:null!=(0,i.u9)(e.values,e.name)&&""!=(0,i.u9)(e.values,e.name)?(0,i.u9)(e.values,e.name):[],action:e.action},[n,s]=(0,r.useState)(t.value||[]),l=(0,r.useRef)(null),h=(0,r.useRef)(null);(0,r.useEffect)(()=>{(0,i.u9)(e.values,e.name)?null!=(0,i.u9)(e.values,e.name)&&(s((0,i.u9)(e.values,e.name)),null!=e.setFieldValue&&e.setFieldValue(e.name,(0,i.u9)(e.values,e.name))):(s([]),null!=e.setFieldValue&&e.setFieldValue(e.name,[]))},[(0,i.u9)(e.values,e.name)]);let f=async t=>{var r=await t();Array.isArray(r)?(s(1==e.multiple?[...n,...r]:[...n,r[0]]),null!=e.setFieldValue&&e.setFieldValue(e.name,1==e.multiple?[...n,...r]:[...n,r[0]])):(s(1==e.multiple?[...n,r]:r),null!=e.setFieldValue&&e.setFieldValue(e.name,1==e.multiple?[...n,r]:r))};return r.createElement(r.Fragment,null,r.createElement("input",{multiple:e.multiple||!0,ref:h,onChange:r=>{if("function"==typeof e.action)f(e.action);else{let i;i=1==e.multiple?n:[],r.target.files.length>0&&b(r.target.files,t,e,{uploads:i,setUploads:s})}},className:"ask-upload-input",type:"file",onClick:e=>{e.target.value=null}}),r.createElement("div",{ref:l,onDragOver:t=>{t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="move",l.current.classList.add("active"),null!=e.onBlur&&e.onBlur(e.name,!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),l.current.classList.remove("active")},onDrop:r=>{r.preventDefault(),r.stopPropagation(),"function"==typeof e.action?f(e.action):(l.current.classList.remove("active"),b(r.dataTransfer.files,t,e,{uploads:n,setUploads:s}))},onClick:t=>{"function"==typeof e.action?f(e.action):(null!=e.onBlur&&e.onBlur(e.name,!0),h.current.click())},className:"ask-upload-dropzone"},r.createElement("div",{className:"ask-upload-dropzone-wrapper"},r.createElement(o.Z,null,r.createElement(c.G,{icon:u.cf$,size:"lg"})),r.createElement("br",null),e.children)),r.createElement(a.Z,{hideEmpty:!0,className:"ask-list-upload",data:Array.isArray(n)?n:[n],render:t=>r.createElement("span",{className:"ask-upload-item",onClick:n=>{null!=e.onItemClick&&(null==t.progress||100==t.progress)&&e.onItemClick(t)}},r.createElement(o.Z,null,r.createElement(c.G,{spin:null!=t.progress&&100!=t.progress,icon:null==t.progress||100==t.progress?u.Alc:u.LM3})),r.createElement("span",{className:"ask-title"},t.name),(null==t.progress||100==t.progress)&&r.createElement("span",{onClick:n=>{n.stopPropagation(),n.preventDefault(),null!=e.onItemClick&&e.onItemClick(t)},className:"ask-upload-actions"},null!=e.onItemClick&&r.createElement(o.Z,{className:"ask-upload-action"},r.createElement(c.G,{icon:["fas","plus"]})),r.createElement(o.Z,{className:"ask-upload-action"},r.createElement(c.G,{onClick:r=>{r.stopPropagation(),r.preventDefault(),(t=>{let r;r=1==e.multiple?n.filter(e=>e.id!==t.id):[],s(r),null!=e.setFieldValue&&e.setFieldValue(e.name,[]),null!=e.onRemove&&e.onRemove(t)})(t)},icon:u.$aW}))))}))}},6592:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(5466),i=n(5345),a=n(8507),o=n(2809),s=n(2536),l=n(9745),c=n(8008),u=n(610),h=(n(9879),n(5438));function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const d=(0,n(5110).$j)((e,t)=>({styles:e.theme.modal}))(e=>{const t=(0,r.useRef)(null),[n,d]=(0,r.useState)([{value:"Photo",label:"Photo",children:[{size:[13,9,"cm"],value:"Landscape 13 x 9",label:"Landscape 13 x 9"},{size:[15,10,"cm"],value:"Landscape 15 x 10",label:"Landscape 15 x 10"},{size:[18,13,"cm"],value:"Landscape 18 x 13",label:"Landscape 18 x 13"},{size:[21,15,"cm"],value:"Landscape 21 x 15",label:"Landscape 21 x 15"},{size:[9,13,"cm"],value:"Landscape 9 x 13",label:"Landscape 9 x 13"},{size:[10,15,"cm"],value:"Landscape 10 x 15",label:"Landscape 10 x 15"},{size:[13,18,"cm"],value:"Landscape 13 x 18",label:"Landscape 13 x 18"},{size:[15,21,"cm"],value:"Landscape 15 x 21",label:"Landscape 15 x 21"}]},{value:"Print",label:"Print",children:[{size:[8,11,"in"],value:"Letter",label:"Letter"},{size:[8,14,"in"],value:"Big format",label:"Big format"},{size:[11,17,"in"],value:"Tabloïd",label:"Tabloïd"},{size:[210,297,"mm"],value:"A4",label:"A4"},{size:[105,148,"mm"],value:"A6",label:"A6"},{size:[148,210,"mm"],value:"A5",label:"A5"},{size:[297,420,"mm"],value:"A3",label:"A3"},{size:[176,250,"mm"],value:"B5",label:"B5"},{size:[250,353,"mm"],value:"B4",label:"B4"},{size:[353,500,"mm"],value:"B3",label:"B3"},{size:[229,324,"mm"],value:"C4",label:"C4"},{size:[162,229,"mm"],value:"C5",label:"C5"},{size:[114,162,"mm"],value:"C6",label:"C6"},{size:[110,220,"mm"],value:"DL",label:"DL"}]},{value:"Web",label:"Web",children:[{size:[1366,768,"px"],value:"Usual web format",label:"Usual web format"},{size:[1920,1080,"px"],value:"Web 1920 x 1080",label:"Web 1920 x 1080"},{size:[1440,900,"px"],value:"Web 1440 x 900",label:"Web 1440 x 900"},{size:[1024,768,"px"],value:"Minimum web format",label:"Minimum web format"},{size:[1200,800,"px"],value:"Web 1200 x 800",label:"Web 1200 x 800"},{size:[2560,1600,"px"],value:"MacBook Pro 13",label:"MacBook Pro 13"},{size:[2880,1800,"px"],value:"MacBook Pro 15",label:"MacBook Pro 15"},{size:[2560,1440,"px"],value:"Imac 27",label:"Imac 27"}]},{value:"Illustration",label:"Illustration",children:[{size:[1e3,1e3,"px"],value:"1000 pixels Grid",label:"1000 pixels Grid"},{size:[2e3,2e3,"px"],value:"2000 pixels Grid",label:"2000 pixels Grid"},{size:[18,24,"in"],value:"Poster",label:"Poster"},{size:[4,6,"in"],value:"Photo",label:"Photo"},{value:"1080p",size:[1920,1080,"px"],label:"1080p"},{value:"720p",size:[1280,720,"px"],label:"720p"}]}]);return r.createElement(i.Z,f({},e,{centered:!0,title:null!=e.params.name?u.Z.getTranslation("Edit view"):u.Z.getTranslation("Add view"),visible:e.active,onOk:()=>{t.current.handleSubmit()},onClose:()=>{t.current.resetForm(),e.closeModal(e.element)}}),r.createElement(s.Z,{ref:t,onSubmit:n=>{null!=e.params.name?c.Z.editView(n.name,e.params.index,{width:h.fabric.util.parseUnit(n.width+n.unit),height:h.fabric.util.parseUnit(n.height+n.unit)}):c.Z.addView(n.name,{width:h.fabric.util.parseUnit(n.width+n.unit),height:h.fabric.util.parseUnit(n.height+n.unit)}),e.closeModal(e.element),t.current.resetForm()},onUpdate:()=>{t.current.resetForm()},initialValues:{width:500,height:500,unit:"px",...e.params},className:"views-form"},r.createElement(s.Z.Item,{label:u.Z.getTranslation("Name"),name:"name",required:!0},r.createElement(a.Z,{placeholder:u.Z.getTranslation("Name"),disabled:null!=e.params.name})),r.createElement(s.Z.Item,{name:"presets",label:u.Z.getTranslation("Presets")},r.createElement(o.Z,{block:!0,onChange:(e,n)=>{t.current.setFieldValue("width",n[1].size[0]),t.current.setFieldValue("height",n[1].size[1]),t.current.setFieldValue("unit",n[1].size[2])},options:n,style:{width:"100%"},placeholder:u.Z.getTranslation("Select")})),r.createElement(s.Z.Item,{label:u.Z.getTranslation("Width"),name:"width",required:!0},r.createElement(a.Z,{placeholder:u.Z.getTranslation("Width")})),r.createElement(s.Z.Item,{label:u.Z.getTranslation("Height"),name:"height",required:!0},r.createElement(a.Z,{placeholder:u.Z.getTranslation("Height")})),r.createElement(s.Z.Item,{label:u.Z.getTranslation("Unit"),name:"unit",required:!0},r.createElement(l.Z,{block:!0,placeholder:u.Z.getTranslation("Select a unit")},r.createElement(l.Z.Option,{value:"px"},u.Z.getTranslation("Pixel")),r.createElement(l.Z.Option,{value:"cm"},u.Z.getTranslation("Centimeter")),r.createElement(l.Z.Option,{value:"mm"},u.Z.getTranslation("Millimeter")),r.createElement(l.Z.Option,{value:"in"},u.Z.getTranslation("Inch"))))))})},3657:(e,t,n)=>{"use strict";n.d(t,{k1:()=>r,YX:()=>i,kT:()=>a,WB:()=>o,xV:()=>s,v3:()=>l,JO:()=>c,AG:()=>u,ec:()=>h,NC:()=>f,eK:()=>d,MW:()=>p,ru:()=>g,QQ:()=>m,pJ:()=>v});const r="ADD_MASK",i="REMOVE_MASK",a="ADD_DESIGN",o="REMOVE_DESIGN",s="ADD_FONT",l="REMOVE_FONT",c="ADD_COLOR",u="REMOVE_COLOR",h="SET_NAVIGATION",f="SET_PRICE",d="ADD_PRICING_RULE",p="REMOVE_PRICING_RULE",g="ADD_PRINTING_METHOD",m="REMOVE_PRINTING_METHOD",v="UPDATE_STORE"},29:(e,t,n)=>{"use strict";n.d(t,{nC:()=>r,y6:()=>i,qR:()=>a,vZ:()=>o,zF:()=>s,MR:()=>l,kX:()=>c,x:()=>u,py:()=>h,Oi:()=>f,VY:()=>d,sV:()=>p,Ch:()=>g,HO:()=>m,_z:()=>v,Cg:()=>y,PM:()=>b,xe:()=>w});const r="ADD_VIEW",i="CANVAS_READY",a="SET_VIEW",o="ADD_TEMPLATE",s="REMOVE_TEMPLATE",l="UPDATE_CANVAS",c="FORWARD_CANVAS",u="BACKWARD_CANVAS",h="INIT_HISTORY",f="RESET_CANVAS",d="ENABLE_SELECTION",p="DISABLE_SELECTION",g="UPDATE_DRAWINGAREAS",m="EDIT_VIEW",v="REMOVE_VIEW",y={width:500,height:500},b=null,w="UPDATE_FABRIC"},3419:(e,t,n)=>{"use strict";n.d(t,{QF:()=>r,ih:()=>i,RZ:()=>a,Yl:()=>o,C2:()=>s,v0:()=>l,vv:()=>c,hc:()=>u,cS:()=>h,mr:()=>f,dM:()=>d,YT:()=>p,yX:()=>g,mj:()=>m,PU:()=>v,ns:()=>y,Rm:()=>b});const r="ADD_MENU",i="MOVE_MENU",a="REMOVE_MENU",o="TOGGLE_BLOCK",s="EXPAND_BLOCK",l="COLLAPSE_BLOCK",c="OPEN_MENU",u="FORCE_OPEN_MENU",h="CLOSE_ALL_MENUS",f="CLOSE_MENU",d="TOGGLE_MENU",p="UPDATE_MENUS",g="TOGGLE_COLLAPSIBLE",m="ADD_ITEM",v="MOVE_ITEM",y="REMOVE_ITEM",b="UPDATE_LAYOUT"},3697:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});const r="SET_LOCALE"},7772:(e,t,n)=>{"use strict";n.d(t,{k:()=>r,e:()=>i});const r="ADD_MODAL",i="CLOSE_MODAL"},2847:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});const r="SET_MODE"},435:(e,t,n)=>{"use strict";n.d(t,{l:()=>r,w:()=>i});const r="UPDATE_THEME",i="SET_COLOR"},7286:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(5110),i=n(5466),a=n(610),o=n(4968),s=n(2353),l=n(9879),c=n(4948),u=n(6681),h=n(3740),f=n(9762);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let p=e=>{const{collapsed:t,onMenuClick:n,selectedKeys:r,depth:a,index:o,mode:s,...l}=e;return i.createElement(f.$B,l,i.Children.map(e.children,e=>i.cloneElement(e,{collapsed:t,selectedKeys:r,onMenuClick:n,depth:a,index:o,mode:s})))};const g=(e="bars")=>{let t;return t=a.Z.isHTML(e)?i.createElement("span",{role:"img","aria-label":"menu",className:"anticon",dangerouslySetInnerHTML:{__html:e}}):i.createElement("span",{role:"img","aria-label":"menu",className:"anticon"},i.createElement(l.G,{icon:["fas",e]})),t};let m=e=>{let t=(0,i.useRef)(null);const{option:n,fallback:r}=e;let l=()=>{let t="right";return"top"==e.target?t="bottom":"left"==e.target?t="right":"right"==e.target?t="left":"bottom"==e.target&&(t="top"),t};switch(n.fallback){case"popover":return i.createElement(o.Z,{trigger:"hover",visible:n.active,placement:"left",onOpen:()=>c.Z.toggleMenu(n.name,e.multiple,n.fallback,n.callback),onClose:()=>c.Z.closeMenu(n.name),content:i.createElement(u.Z,{ref:t,fallback:n.fallback,onClick:n.onClick,callback:n.callback,name:n.name})},i.createElement(s.Z.Item,d({},e,{className:n.active&&"ask-menu-item-active",key:n.name,id:n.name,icon:g(n.icon)}),a.Z.getTranslation(n.name)));case"inline":return i.createElement(u.Z,{ref:t,fallback:n.fallback,onClick:n.onClick,callback:n.callback,name:n.name});default:return i.createElement(s.Z.Item,d({tooltipPlacement:l()},e,{className:n.active&&"ask-menu-item-active",key:n.name,id:n.name,icon:g(n.icon),onMenuItemClick:()=>c.Z.toggleMenu(n.name,e.multiple,n.fallback,n.callback)}),a.Z.getTranslation(n.name))}};const v=e=>((0,i.useEffect)(()=>{a.Z.triggerResize()},[]),e.options&&e.options.length?i.createElement(i.Fragment,null,i.createElement(s.Z,{style:e.styles,className:"adapt-width",mode:"top"==e.target||"bottom"==e.target?"horizontal":"inline",collapsed:e.collapsed||!1,target:e.target},i.createElement(p,{renderView:t=>i.createElement("ul",d({},t,{style:{...t.style,position:"initial",overflow:"top"==e.target||"bottom"==e.target?"scroll hidden":"hidden scroll",minHeight:"100%",height:"100%",width:"top"==e.target||"bottom"==e.target?"100%":"auto",display:"top"==e.target||"bottom"==e.target?"flex":"block"}})),renderTrackHorizontal:t=>i.createElement("div",d({},t,{style:{visibility:"hidden",height:"3px",position:"absolute",width:1==e.collapsible?"calc(100% - 50px)":"100%",bottom:"2px",left:"2px",borderRadius:"3px",transition:"opacity 200ms ease 0s",opacity:0}})),renderTrackVertical:t=>i.createElement("div",d({},t,{style:{visibility:"hidden",width:"3px",position:"absolute",height:1==e.collapsible?"calc(100% - 32px)":"100%",right:"2px",top:"2px",borderRadius:"3px",transition:"opacity 200ms ease 0s",opacity:0}})),style:{zIndex:2,position:"initial",minHeight:1==e.collapsible?"calc(100% - 45px)":"100%",width:1!=e.collapsible||"top"!=e.target&&"bottom"!=e.target?"100%":"calc(100% - 50px)",height:1==e.collapsible?"calc(100% - 32px)":"100%",overflow:"hidden"},hideTracksWhenNotNeeded:!0,autoHide:!0},e.options.map((t,n)=>i.createElement(m,d({key:n},e,{option:t})))),i.createElement(s.Z.Collapsible,e)),e.options.map((t,n)=>i.createElement(h.Z,d({key:n},t,{category:e.category})))):null),y=(0,r.$j)((e,t)=>({category:t.category,options:t.items,styles:e.theme.menu}))(v);var b=n(7613);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const C=n(7860).ZP.div`
	${e=>e.styles&&`\n\t\t${e.styles.panel&&e.styles.panel.color?`\n\t\t\tcolor: ${e.styles.panel.color};\n\t\t`:""}\n\t\t${e.styles.panel&&e.styles.panel.background?`\n\t\t\tbackground-color: ${e.styles.panel.background};\n\t\t`:""}\n\t\t${e.styles.panel&&e.styles.panel.border?`\n\t\t\tborder-color: ${e.styles.panel.border};\n\t\t`:""}\n\t`};
`,x=e=>{const{onMenuClick:t,...n}=e;let r=(0,i.useRef)(null);return e.items&&e.items.length>0?i.createElement(C,w({},n,{className:"ask-panel"}),i.createElement(f.$B,{autoHide:!0,style:{height:"calc(100% - 34px)"}},i.createElement("div",{className:"ask-panel-inner"},e.panels.map(e=>i.createElement("div",{className:"ask-panel-container","data-name":e.name,key:e.name},i.createElement("div",{className:"ask-title"},a.Z.getTranslation(e.name)),i.createElement(u.Z,{ref:r,name:e.name}))))),1==e.collapsible&&i.createElement(b.Z,{className:"ask-collapsible-button ask-btn-tertiary",square:!0,block:!0,onClick:()=>c.Z.collapseBlock(e.id)},i.createElement(l.G,{icon:["fas",1==e.collapsed?"plus":"minus"]}))):null},E=(0,r.$j)((e,t)=>({panels:t.items,styles:e.theme}))(x);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const S=e=>{const t=(0,i.useRef)(null),n=(0,i.useRef)(e.category);n.current=e.category;let r=()=>{"panel"==n.current&&(document.querySelector(".asuka-designer").offsetWidth!=t.current&&document.querySelector(".asuka-designer").offsetWidth>900?(c.Z.expandBlock(e.id),t.current=document.querySelector(".asuka-designer").offsetWidth):document.querySelector(".asuka-designer").offsetWidth!=t.current&&(c.Z.collapseBlock(e.id),t.current=document.querySelector(".asuka-designer").offsetWidth))};if((0,i.useEffect)(()=>(window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}),[]),"custom"==e.target)return e.items.map(t=>i.createElement(h.Z,k({key:t.name,target:e.target},t)));if("hidden"==e.target)return e.items.map(e=>i.createElement(h.Z,k({key:e.name},e)));if(1==e.collapsed)return i.createElement(y,e);switch(e.category){case"panel":return i.createElement(E,e);default:return i.createElement(y,e)}},_=(0,r.$j)((e,t)=>({category:t.category}))(S);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const O=({blocks:e,target:t})=>e?i.createElement(i.Fragment,null,e.map(e=>i.createElement(_,T({},e,{target:t,items:e.items,key:e.id,onMenuClick:()=>onMenuClick(e.name)})))):null,A=(0,r.$j)((e,t)=>{let n=(r=e.layout,i=t.target,r.filter(e=>e.target==i));var r,i;return{blocks:n,target:t.target,category:n.category,layout:e.layout}})(O)},8008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(5466),i=n(7533),a=n(5438),o=n(4948),s=n(610);const l=new class{constructor(){this.icons={},this.images={scale:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/0lEQVRIidXUsU3DQBSH8e8i5JIBkIBUlAyAoAkrMASwAitkACoqSirqFJkgDEATaBiAAgkhPoqcIwtiO3ccEnnV+fT8//lOT4ZNr1Av1ENgDFQr+j6AuxDCdbak3ttdn+p+au6gsd7u6X0GXn4DrKoH4BQ4AQ5CCO+pwLLUacvV3Kh9H5IMzIoj34BRDC2HqJNG2LE6KIqoF3EU52oV94ojwzq8sVcWaYHXQtRKHf4JEsOf4jWfF0fiYNQ1yQJ6kFHjeZoNdCCzYkAH8gPIGjUXo3wE3LL4IbbWVmb4I7C3Tn/OCXaA3Z6e13qRfIIQwly9BM5a3n8DrlJz/299AYNe6WBT7ZgyAAAAAElFTkSuQmCC",remove:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvUlEQVRIie2SwRXCIBBEZ6N9GGvQAixFK9MiUoGNiC0oHnW8EB8ESHxs8OTcYJf5u28AKkumGki2APaZ8klETDGdZEvSMC/jBsjqs4FrvBRPE2rdb9Z4l7uZzAOv6oDqCn4RyRWAg9LzKCLXZIXkduTHfKuN79kMGHfl9JFHDYAdA1joFQw5DLkB8FQCFiLy6g/BBq7wUJhb3zwCOGlyiN7ODYgyTAE0QVff4A+Y1O9DXiaaOgC3QsC58F253oRlnF08CYXFAAAAAElFTkSuQmCC",clone:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVRIie2VMUoEQRBFX6mpgkaCiegRNDBRMFA8hZmZJzDzFoLgCdZruLprbCLsHkEDYcNnMgPjQPf0DGwg7IemKar6P6qgu2HJilxSDeACOEiULIDniPgZRFfv7darujUU8NZh/lTt40EQ9b0DcKzeFkPUUC/V01JAVVdDXtTNHKCe+UMh4LxxtoaMmp4bLcZVrxnCSJ034gWwnwOs9wTsVCuptZ6GvbUCrADLA+xV+3SA56QZtC9arTN1F7gD5qT/g7ZmwGMy23p7xuphoXFSqQ4AToBPdQZ8Z+o+IuK6FDAFjhpxAF1dTHLJP3+yug3c0HPmEfFVWP8P9QuPmDLETmGtSgAAAABJRU5ErkJggg==",rotate:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVRIibWVO0sDQRSFz6hpNREEQSyiaGWhCfjASmysBZ8/wH8lEcQEBf0TNmKKtDGiGJs0EVJr4LPYDayzu7MTWA9ssZd7zrnzuHOlf4bxSQImJZUlzYehnqSuMWbo5QIUgHNg2opXgGugTxxfwBVQ9THYD0lNoATMADcJomloAEWXwUEkuQV0xhAfoQ0s+Rgk4RY4BtaBDeAkjCWZxFfiMHgF9jK2tmtx6uMYNBMr+sstAh8Wr2onubboGet2pawkipqdsOUwADhzGYQad5H8PjAlhY0GGEmbkkoJ3G9Jj8aYnwyDU0mNSGjZGPOeVZg3CJoyil1JmsjNIQV5Gqxa/70ctdMPOS9x9zVNIFwAT8Csh3iReDdXssRHaAFrGZU7n4rYwAE6klYioaGkB0n3kt4koeBADyUdWfQXSdvGmIFrBYsEj9y4aAPlVGHLZI5gWvmiTsajmGa0A1wCgwTRPlAjY2T6Dv2CpIXwk4Im+vQe+v+JX5LNFV5MJQDNAAAAAElFTkSuQmCC",bringForward:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA/0lEQVRYR+2X0Q3CMAxE7zaBGWAAOgA7sAliE3ZgABiAzkA3MaqUVjRNGichVELpt+28np2TQ6z8ceXz4QQQkUMKGMlHbN4EQETOAI4AdrGFTHwL4Ebyos23AV4ANtpkT1xHcqutMQIY2e/axEBco21HBagKFFPANaSuwSwF4LskM5/4NUAPNvGJUgCNR4LBZ0afKAZg99syugpQFZgr0E+tiDwzdoFh8FuSe/sWBIfQAPQLySljJ+gAXF0LiQpgoF5YycZ7rLVaq6bfB0KLiO8PQnkV4H8V0PbeiksfwlI+EfU0Mw+Xr/pEFIDCJxY7s7iSJfY0Oy1JgexTPwq8AdOMzCG/2BvaAAAAAElFTkSuQmCC",sendBackward:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABAklEQVRYR+2X4RHCIAyFXzbRGXQAO4A7uInnJu7gADqAncFuEo876LUUmtBSufPo3/CSryEkQCj8UeH4CAIw82kJGBG9UnUjAGa+AjgDOKQ6sutbAA8iumn1PsAHwE4rjqzriGiv9dED2LQ/rbDROvDW9XrtdkQBtA4cgP8DWn0F+N8MhIo4VBdbZSB2iCZ94tcABmzUJ0oAGIjGbUcFqBnYahhJs2xahEbBzO8VdwEp6NAeBTAXkkuGO4EEEwbwRmvIiZv3UgDJPg8QUnvzXgog2StAzUB6BjL2iZaIjq5Kk55m9uGypk90AO7Dh0sSgKJPzB6/2SuZdHC3si/KQE6YL8ZvyyF/IPG5AAAAAElFTkSuQmCC",editText:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA40lEQVRIx+3QQUsCURTF8fMe8yEkRCQkJEIkpFXbPqvrPoJLxb1ESISLChFdzub+dWMxlPpel2kTXnirA78zc6Tz/Zszsw4wMrPmX+ELYAvMay0xs8sKvq2UtOrCX7/h9ZSYWRt4OYJ/vpEXb2Xgb8CVF59n4F0P3gSeE/gHcO3BLzLxGy/+lMCXXrwBzBL4Cuj9Gpck4DED77vwsiwLYH0CXwO3Lnw/Ty+BD1JGPBWGEO6PRBtJDzHGac7GP76ukg0P5DPgLneFUAW/fivGsC8YS3qXNJY0AaZFUWzcm5/v0O0AC/kmZFfHNVsAAAAASUVORK5CYII="};for(let e in this.images)this.icons[e]=new Image,this.icons[e].src=this.images[e]}roundRect(e,t,n,r,i,a,o,s,l){if(void 0===s&&(s=!0),void 0===a&&(a=5),"number"==typeof a)a={tl:a,tr:a,br:a,bl:a};else{var c={tl:0,tr:0,br:0,bl:0};for(var u in c)a[u]=a[u]||c[u]}e.beginPath(),e.save(),e.moveTo(t+a.tl,n),e.lineTo(t+r-a.tr,n),e.quadraticCurveTo(t+r,n,t+r,n+a.tr),e.lineTo(t+r,n+i-a.br),e.quadraticCurveTo(t+r,n+i,t+r-a.br,n+i),e.lineTo(t+a.bl,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a.bl),e.lineTo(t,n+a.tl),e.quadraticCurveTo(t,n,t+a.tl,n),o&&e.fill(),s&&e.stroke(),e.restore(),e.closePath()}renderControl(e,t=null){return function(n,r,o,s,l){if(l.getScaledHeight()<40||l.getScaledWidth()<40)switch(t){case"Rotate":this.offsetX=10,this.offsetY=-10;break;case"Clone":this.offsetX=-10,this.offsetY=-10;break;case"Remove":this.offsetX=-10,this.offsetY=10;break;case"Scale":this.offsetX=10,this.offsetY=10;break;case"Send backward":case"Bring forward":this.offsetX=42;break;case"Edit text":this.offsetX=-42}else switch(t){case"Rotate":case"Clone":case"Remove":case"Scale":this.offsetX=0,this.offsetY=0;break;case"Send backward":case"Bring forward":this.offsetX=32;break;case"Edit text":this.offsetX=-32}if(("Elements"!=l.itemGroup||"backend"==i.Z.getState().mode)&&(null==l.marker||"Send backward"!=t&&"Bring forward"!=t&&"Clone"!=t)&&!("Layers"!=l.itemGroup&&"Clone"==t||"i-text"!=l.type&&"text"!=l.type&&"Edit text"==t)){if(null!=l.constraints){if(l.constraints.lockRotation&&"Rotate"==t)return;if(l.constraints.lockScaling&&"Scale"==t)return}var c=this.cornerSize;n.beginPath(),n.save(),n.translate(r,o),n.rotate(a.fabric.util.degreesToRadians(l.angle)),n.roundRect(-c/2,-c/2,c,c,3),n.fill(),n.restore(),n.closePath(),n.beginPath(),n.save(),n.fillStyle=this.cornerColor,n.translate(r,o),n.rotate(a.fabric.util.degreesToRadians(l.angle)),n.drawImage(e,.7*-c/2,.7*-c/2,.7*c,.7*c),n.restore(),n.closePath()}}}rotationWithSnapping(e,t,n,r){var i=t,a=i.target,o=a.translateToOriginPoint(a.getCenterPoint(),i.originX,i.originY);if(a.lockRotation)return!1;var s=Math.atan2(i.ey-o.y,i.ex-o.x),l=Math.atan2(r-o.y,n-o.x),c=radiansToDegrees(l-s+i.theta);if(a.snapAngle>0){var u=a.snapAngle,h=a.snapThreshold||u,f=Math.ceil(c/u)*u,d=Math.floor(c/u)*u;Math.abs(c-d)<h?c=d:Math.abs(c-f)<h&&(c=f)}}init(){let e=a.fabric.controlsUtils,t=a.fabric.Object.prototype.controls;t.tl=new a.fabric.Control({name:"Clone",render:this.renderControl(this.icons.clone,"Clone"),cornerSize:24,x:-.5,y:-.5,cursorStyle:"pointer",mouseUpHandler:(e,t)=>{b.cloneAndPast(t.target)}}),t.tr=new a.fabric.Control({name:"Rotate",render:this.renderControl(this.icons.rotate,"Rotate"),cornerSize:24,x:.5,y:-.5,actionHandler:e.rotationWithSnapping,cursorStyleHandler:e.rotationStyleHandler,actionName:"rotate"}),t.br=new a.fabric.Control({name:"Scale",render:this.renderControl(this.icons.scale,"Scale"),cornerSize:24,x:.5,y:.5,cursorStyleHandler:e.scaleCursorStyleHandler,actionHandler:e.scalingEqually}),t.bl=new a.fabric.Control({name:"Remove",render:this.renderControl(this.icons.remove,"Remove"),cornerSize:24,x:-.5,y:.5,cursorStyle:"pointer",mouseUpHandler:(e,t)=>{b.remove(t.target)}}),t.sendBackward=new a.fabric.Control({name:"Send backward",render:this.renderControl(this.icons.sendBackward,"Send backward"),cornerSize:24,offsetY:64,offsetX:32,x:.5,y:-.5,cursorStyle:"pointer",mouseUpHandler:(e,t)=>{b.sendBackward(t.target)}}),t.bringForward=new a.fabric.Control({name:"Bring forward",render:this.renderControl(this.icons.bringForward,"Bring forward"),cornerSize:24,offsetY:32,offsetX:32,x:.5,y:-.5,cursorStyle:"pointer",mouseUpHandler:(e,t,n)=>{b.bringForward(t)}}),t.editText=new a.fabric.Control({name:"Edit text",render:this.renderControl(this.icons.editText,"Edit text"),cornerSize:24,offsetY:32,offsetX:-32,x:-.5,y:-.5,cursorStyle:"pointer",mouseUpHandler:(e,t,n)=>{t.target.canvas.currentText=t.target,o.Z.openMenu("Text",{text:t.target.text})}}),CanvasRenderingContext2D.prototype.roundRect=function(e,t,n,r,i){return n<2*i&&(i=n/2),r<2*i&&(i=r/2),this.beginPath(),this.moveTo(e+i,t),this.arcTo(e+n,t,e+n,t+r,i),this.arcTo(e+n,t+r,e,t+r,i),this.arcTo(e,t+r,e,t,i),this.arcTo(e,t,e+n,t,i),this.closePath(),this},a.fabric.util.object.extend(a.fabric.Canvas.prototype,{targetFindTolerance:i.Z.getState().defaults.perPixelTargetFindTolerance||0,getAbsoluteCoords:function(e){return{left:e.left+this._offset.left,top:e.top+this._offset.top}},getDimensions:function(){let e=this.getObjects().find(e=>"Edge"==e.itemType),t=this.width,n=this.height;return e&&(t-=2*e._objects.find(e=>"Frame"==e.itemType).strokeWidth,n-=2*e._objects.find(e=>"Frame"==e.itemType).strokeWidth),{width:t,height:n}},toSVG:function(e={},t){var n,r;null!=e.type?((n={}).reviver=t,r=null!=e.itemType&&"Drawing area"==e.itemType?b.getCanvas(e.view).getObjects().filter(t=>t.clippedTo==e.id):[e],n={...n,viewBox:{x:e.left,y:e.top,width:e.getScaledWidth(),height:e.getScaledHeight()}}):(n={...e}).reviver=t;var i=[];return this._setSVGPreamble(i,n),this._setSVGHeader(i,n),this.clipPath&&i.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",t),this._setSVGObjects(i,t,r),this.clipPath&&i.push("</g>\n"),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",t),i.push("</svg>"),i.join("")},setDimensions:function(e,t){var n;for(var r in t=t||{},e)n=e[r],t.cssOnly||(this._setBackstoreDimension(r,e[r]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(r,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),b.reinitializeFrame&&b.reinitializeFrame(),this},_setSVGObjects:function(e,t,n){var r,i,a,o=n||this._objects;for(i=0,a=o.length;i<a;i++)(r=o[i]).excludeFromExport||this._setSVGObject(e,r,t)},toDataURL:function(e){e||(e={});let t=this.getObjects().find(e=>"Edge"==e.itemType);if(null!=t){let n=t._objects.find(e=>"Frame"==e.itemType).strokeWidth;e={...e,top:e.top||0+n,left:e.left||0+n,right:e.right||this.width-n,bottom:e.bottom||this.height-n,width:e.width||this.width-2*n,height:e.height||this.height-2*n}}var n=e.format||"png",r=e.quality||1,i=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1);null!=e.outputWidth&&(i=(a.fabric.util.parseUnit(e.outputWidth+"px")/(null!=this.getScaledWidth?this.getScaledWidth():this.width)||1)*(e.enableRetinaScaling?this.getRetinaScaling():1)),this.setBackgroundColor("#fff");var o=[],s=this.getObjects().filter(e=>"Tools"==e.itemGroup);this.getObjects().filter(e=>"Elements"==e.itemGroup).forEach(e=>{e.set({opacity:1})}),s.forEach(e=>{0!=e.visible&&(e.set({visible:!1}),o.push(e))});var l=a.fabric.util.toDataURL(this.toCanvasElement(i,e),n,r);return o.forEach(e=>{e.set({visible:!0})}),this.setBackgroundColor("transparent"),l}}),a.fabric.util.object.extend(a.fabric.Object.prototype,{_set:function(e,t){if("fontFamily"==e){let e=s.Z.fontLoaded.find(e=>e.fontFamily==t);e&&(this.fontProvider=e.fontProvider)}var n="scaleX"===e||"scaleY"===e,r=this[e]!==t,i=!1;return n&&(t=this._constrainScale(t)),"scaleX"===e&&t<0?(this.flipX=!this.flipX,t*=-1):"scaleY"===e&&t<0?(this.flipY=!this.flipY,t*=-1):"shadow"!==e||!t||t instanceof a.fabric.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",t):t=new a.fabric.Shadow(t),this[e]=t,r&&(i=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,i&&this.group.set("dirty",!0)):i&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setPositionByOriginX:function(e,t,n){var r=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x)},toObject:function(e=[]){var t=a.fabric.Object.NUM_FRACTION_DIGITS,n={type:this.type,version:a.fabric.version,originX:this.originX,originY:this.originY,left:a.fabric.util.toFixed(this.left,t),top:a.fabric.util.toFixed(this.top,t),width:a.fabric.util.toFixed(this.width,t),height:a.fabric.util.toFixed(this.height,t),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:a.fabric.util.toFixed(this.strokeWidth,t),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:a.fabric.util.toFixed(this.strokeMiterLimit,t),scaleX:a.fabric.util.toFixed(this.scaleX,t),scaleY:a.fabric.util.toFixed(this.scaleY,t),angle:a.fabric.util.toFixed(this.angle,t),flipX:this.flipX,flipY:this.flipY,opacity:this.originalOpacity?this.originalOpacity:a.fabric.util.toFixed(this.opacity,t),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,evented:this.evented,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:a.fabric.util.toFixed(this.skewX,t),skewY:a.fabric.util.toFixed(this.skewY,t)};return e=[...e,"evented","_objects","originalOpacity","fontProvider","radius","spacing","reverse","markerConstraints","markerType","markerICon","marker","hoverCursor","bringtofront","customSize","constraints","selectable","toggleMarker","price","perPixelTargetFind","variations","excludeFromExport","absolutePositioned","derivatives","name","category","icon","originalObject","id","filters","itemGroup","itemType","clipPath","clippedTo","scaleX","scaleY","originX","originY"].filter((function(e){return null!=e})),this.clipPath&&(n.clipPath=this.clipPath.toObject(e),n.clipPath.inverted=this.clipPath.inverted,n.clipPath.absolutePositioned=this.clipPath.absolutePositioned),a.fabric.util.populateWithProperties(this,n,e),this.includeDefaultValues||(n=this._removeDefaultValues(n)),n},toDataURL:function(e,t=b.getCurrentView()){e||(e={});var n,r=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),i=[];if(null!=e.outputWidth&&(r=(a.fabric.util.parseUnit(e.outputWidth+"px")/(null!=this.getScaledWidth?this.getScaledWidth():this.width)||1)*(e.enableRetinaScaling?this.getRetinaScaling():1)),null!=b.getCanvas(this.view)){if(null!=b.getCanvas(this.view).overlayImage&&b.getCanvas(this.view).overlayImage.set({visible:!1}),b.getCanvas(this.view).setBackgroundColor("#fff"),"Drawing area"==this.itemType)e={...e,left:this.left,top:this.top,width:this.getScaledWidth(),height:this.getScaledHeight()},b.getCanvas(this.view).getObjects().filter(e=>e.clippedTo!=this.id).forEach(e=>{0!=e.visible&&(e.set({visible:!1}),i.push(e))}),n=a.fabric.util.toDataURL(b.getCanvas(this.view).toCanvasElement(r,e),e.format||"png",e.quality||1);else if(null!=this.clipPath){e={...e,left:this.left,top:this.top,width:this.getScaledWidth(),height:this.getScaledHeight()};i=[];this.canvas.getObjects().filter(e=>e!=this).forEach(e=>{0!=e.visible&&(e.set({visible:!1}),i.push(e))}),n=a.fabric.util.toDataURL(this.canvas.toCanvasElement(r,e),e.format||"png",e.quality||1)}else n=a.fabric.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1);i.forEach(e=>{e.set({visible:!0})}),null!=b.getCanvas(this.view).overlayImage&&b.getCanvas(this.view).overlayImage.set({visible:!0}),b.getCanvas(this.view).setBackgroundColor("transparent")}return n},getBoundingRect:function(e,t){var n=this.getCoords(e,t);return a.fabric.util.makeBoundingBoxFromPoints(n)},setPositionByOriginY:function(e,t,n){var r=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("top",i.y)},onSelect:function(){this.setControlsVisibility({bl:!0,br:!0,tl:!0,tr:!0,mt:!1,mb:!1,ml:!1,mr:!1,mtr:!1,otru:!0,otrd:!0,otlu:!0})}}),a.fabric.TextCurved=a.fabric.util.createClass(a.fabric.Group,{type:"text-curved",elementType:"Curved text",top:0,left:0,scaleX:1,scaleY:1,angle:0,spacing:10,radius:140,text:"",align:"center",reverse:!1,fontSize:16,fontStyle:"normal",fontWeight:"normal",underline:!1,selectable:!0,fontFamily:"Arial",fill:"black",initialize:function(e,t){if("object"==typeof e){for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];this[t]=n}}else{t||(t={}),e||(e="test"),this.text=e;let n=["fontProvider","text","spacing","fontSize","fontStyle","fontWeight","underline","reverse","radius","angle","fontFamily","fill"];for(let e=0;e<n.length;e++){let r=n[e];null==t[r]&&(t[r]=this[r])}}this.callSuper("initialize",[],t,!0),this.set("lockUniScaling",!0),this.setText(),this.renderText()},setText:function(){for(;0!==this.text.length&&this.size()>this.text.length;)this.remove(this.item(this.size()-1));for(var e=0;e<this.text.length;e++)if(void 0===this.item(e)){var t=new a.fabric.Text(this.text[e],{selectable:!0,originX:"center",originY:"center"});this.add(t)}else this.item(e).text=this.text[e];this._setFontStyles()},_setFontStyles:function(){for(var e=0;e<this.size();e++)this.item(e).set("fontFamily",this.fontFamily),this.item(e).set("fill",this.fill),this.item(e).set("fontSize",this.fontSize),this.item(e).fontWeight=this.fontWeight,this.item(e).fontStyle=this.fontStyle,this.item(e).underline=this.underline},renderText:function(){var e=0,t=0,n=0,r=this.getCenterPoint();this.scaleX;"center"===this.align?n=this.spacing/2*(this.size()-1):"right"===this.align&&(n=this.spacing*(this.size()-1));for(var i=0;i<this.size();i++){this.item(i).calcTransformMatrix();this.reverse?(t=(e=-i*parseInt(this.spacing,10)+n)*(Math.PI/180),this.item(i).set("angle",e),this.item(i).set("top",Math.cos(t)*this.radius),this.item(i).set("left",-Math.sin(t)*this.radius)):(t=(e=i*parseInt(this.spacing,10)-n)*(Math.PI/180),this.item(i).set("angle",e),this.item(i).set("top",-Math.cos(t)*this.radius),this.item(i).set("left",Math.sin(t)*this.radius))}this._calcBounds(),this.setCoords(),this._updateObjectsCoords(),this.setPositionByOrigin(r,"center","center"),this.setCoords()},_updateObjectsCoords:function(){(e=>{const t=this._objects.reduce((function(e,t){return e.top<t.top?e:t})),n=this._objects.reduce((function(e,t){return e.top>t.top?e:t}));let r=t.top-n.top,i=-1*(Math.abs(r)/2)-t.top;for(var a=this._objects.length;a--;){let e=this._objects[a];e.top=e.top+i}})()},toSVG:function(e){var t=["<g "+this.getSvgTransform()+">"];for(let n=0;n<this._objects.length;n++)t.push(this._objects[n].toSVG(e));return t.push("</g>"),e?e(t.join("")):t.join("")},_set:function(e,t){this.callSuper("_set",e,t),"radius"!=e&&"scaleX"!=e&&"scaleY"!=e&&"spacing"!=e&&"fontSize"!=e&&"fontFamily"!=e&&"fill"!=e&&"fontStyle"!=e&&"fontWeight"!=e&&"underline"!=e&&"reverse"!=e||(this.setText(),this.renderText())},fromObject:function(){},toObject:function(e){return this.callSuper("toObject",["angle","text","spacing","flipped","radius","fill","fontFamily","fontSize","fontWeight","fontStyle","strokeStyle","strokeWidth","styles"].concat(e))}}),a.fabric.TextCurved.fromObject=function(e,t){return a.fabric.Object._fromObject("TextCurved",e,t)}}};var c=n(6496),u=n(2774),h=n(9416),f=n.n(h),d=n(8226),p=n(1762),g=n(197),m=n(5110),v=n(2971);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=new class{constructor(){y(this,"loading",!1),y(this,"canvases",{}),y(this,"tooltipEl",null),y(this,"eventListeners",{}),y(this,"canvasesLoaded",0),y(this,"drawingAreas",{}),y(this,"defaults",{adjustObjectAdded:i.Z.getState().defaults.adjustObjectAdded||!0}),y(this,"filters",["grayscale","invert","remove-color","sepia","brownie","brightness","contrast","saturation","noise","vintage","pixelate","blur","sharpen","emboss","technicolor","polaroid","blend-color","gamma","kodachrome","blackwhite","blend-image","hue","resize"]),a.fabric.isWebglSupported(a.fabric.textureSize)}getFabric(){return a.fabric}addView(e,t){i.Z.dispatch((0,v.Uo)(e,t)),this.setCurrentView(e),s.Z.initEvent("addView",[e,t])}removeView(e=this.getCurrentView()){let t=i.Z.getState().fabric.views.indexOf(e);this.getCanvas(e).discardActiveObject(),this.getCanvas(e).renderAll(),delete this.canvases[e],this.canvasesLoaded>0&&this.canvasesLoaded--,i.Z.dispatch((0,v.df)(e)),i.Z.dispatch((0,v.Ad)(this.getCanvases("toStringify"))),e==this.getCurrentView()&&(null!=i.Z.getState().fabric.views[t]?this.setCurrentView(i.Z.getState().fabric.views[t]):null!=i.Z.getState().fabric.views[t-1]&&this.setCurrentView(i.Z.getState().fabric.views[t-1])),s.Z.initEvent("removeView",[e])}editView(e,t,n){i.Z.dispatch((0,v.mj)(e,t,n)),this.resizeCanvas(n,e),s.Z.initEvent("editView",[e,t,n])}setCurrentView(e=this.getCurrentView()){e!=this.getCurrentView()&&(null!=this.getCanvas(e)&&null!=this.getCanvas(this.getCurrentView())&&("locked"!=i.Z.getState().mode&&this.getCanvas(this.getCurrentView()).discardActiveObject(),this.getCanvas(this.getCurrentView()).renderAll()),null!=o.Z.getMenuItem("Snap grid")&&1==o.Z.getMenuItem("Snap grid").active&&this.snapGrid(this.getCurrentView()),null!=o.Z.getMenuItem("Magnifying glass")&&1==o.Z.getMenuItem("Magnifying glass").active&&this.magnifyingGlass(this.getCurrentView()),null!=o.Z.getMenuItem("Ruler")&&1==o.Z.getMenuItem("Ruler").active&&o.Z.closeMenu("Ruler"),null!=o.Z.getMenuItem("Views")&&1!=o.Z.getMenuItem("Views").active&&o.Z.closeAllMenus(),"locked"!=i.Z.getState().mode&&(null==this.getCanvas(e).getActiveObject()?i.Z.dispatch((0,v.$O)()):i.Z.dispatch((0,v.Yf)(this.getCanvas(e).getActiveObject().id))),i.Z.dispatch((0,v.f8)(e)),s.Z.initEvent("setCurrentView",[e]),s.Z.initEvent("contentChanged",[]))}getCurrentView(){return i.Z.getState().fabric.currentView||i.Z.getState().fabric.views[0]}getViewIndex(e=this.getCurrentView()){return i.Z.getState().fabric.views.findIndex(t=>t==e)}getView(e){return i.Z.getState().fabric.views[e]}getViews(){return i.Z.getState().fabric.views}getDesigns(){return i.Z.getState().fabric.designs}applyStudio(e=this.getCanvas().getActiveObject()){let t,n=this.getCanvas("studio").getObjects().find(e=>"Masks"==e.itemGroup),r=e.getScaledWidth(),i=(this.getCurrentView(),this.getCanvas("studio").getObjects().filter(e=>"Masks"!=e.itemGroup));null!=n&&n.canvas.remove(n),i.length>1&&this.group(i,this.getCanvas("studio")),t=this.getCanvas("studio").getObjects().find(e=>"Masks"!=e.itemGroup),"image"==t.type?(null==t.clipPath?(e.set({filters:[...t.filters]}),e.applyFilters()):e.set({filters:[]}),e.setSrc(null==t.clipPath?t.getSrc():t.toDataURL(),()=>{e.set({originalObject:t.toObject(["id"])}),this.getCanvas().renderAll(),e.scaleToWidth(r),this.getCanvas().renderAll(),this.loading=!1,this.updateCanvas(e.canvas.lowerCanvasEl.id)},{crossOrigin:"anonymous"})):(this.cloneAndPast(t,!1,{left:e.left,clipPath:e.clipPath,clippedTo:e.clippedTo,top:e.top,name:e.name,itemType:e.itemType,itemGroup:e.itemGroup,id:e.id,constraints:e.constraints,marker:e.marker,perPixelTargetFind:e.perPixelTargetFind,price:e.price||0,selectable:!0},e=>{e.canvas.setActiveObject(e),e.canvas.renderAll()}),e.canvas.remove(e),this.getCanvas().renderAll(),this.loading=!1)}backwardCanvas(){let e=i.Z.getState().fabric.history,t=e.backward[e.backward.length-1],n=t.canvases,r=t.view,a=0;this.loading=!0,this.setCurrentView(r);for(let e=0;e<this.getViews().length;e++){let t=[],o=this.getViews()[e];if(null==n[o].object)this.getCanvas(o).clear(),a++,a==this.getViews().length&&(this.loading=!1,s.Z.initEvent("undo",[r]),s.Z.initEvent("contentChanged",[]),i.Z.dispatch((0,v.B$)(r,this.getCanvases("toStringify"))),s.Z.responsive());else{if(null!=n[o].size){let e=n[o].size;this.getCanvas(o).setDimensions({width:e.width,height:e.height}),this.getCanvas(o).renderAll()}this.getCanvas(o).loadFromJSON(n[o].object,e=>{a++,a==this.getViews().length&&(this.loading=!1,s.Z.initEvent("undo",[r]),s.Z.initEvent("contentChanged",[]),i.Z.dispatch((0,v.B$)(r,this.getCanvases("toStringify"))),s.Z.responsive())},(e,n)=>{if(null==n.id&&n.set({id:f()()}),null!=n.clipPath&&"Drawing area"==n.clipPath.itemType){let e=t.find(e=>null!=e&&e.id==n.clipPath.id);if(null==e){t.push(n.clipPath);let e=this.drawingAreas[o].findIndex(e=>null!=e&&e.id==n.clipPath.id);this.drawingAreas[o][e]=n.clipPath}else n.clipPath=e}"Layers"==n.itemGroup&&n.set({perPixelTargetFind:i.Z.getState().defaults.perPixelTargetFind||!1})})}}}forwardCanvas(){let e=i.Z.getState().fabric.history,t=e.forward[e.forward.length-1],n=t.canvases,r=t.view,a=0;this.loading=!0,this.setCurrentView(r);for(let e=0;e<this.getViews().length;e++){let t=[],o=this.getViews()[e];if(null==n[o].object)this.getCanvas(o).clear(),a++,a==this.getViews().length&&(this.loading=!1,s.Z.initEvent("redo",[r]),s.Z.initEvent("contentChanged",[]),i.Z.dispatch((0,v.Tm)(r,this.getCanvases("toStringify"))),s.Z.responsive());else{if(null!=n[o].size){let e=n[o].size;this.getCanvas(o).setDimensions({width:e.width,height:e.height}),this.getCanvas(o).renderAll()}this.getCanvas(o).loadFromJSON(n[o].object,()=>{a++,a==this.getViews().length&&(this.loading=!1,s.Z.initEvent("redo",[r]),s.Z.initEvent("contentChanged",[]),i.Z.dispatch((0,v.Tm)(r,this.getCanvases("toStringify"))),s.Z.responsive())},(e,n)=>{if(null==n.id&&n.set({id:f()()}),null!=n.clipPath&&"Drawing area"==n.clipPath.itemType){let e=t.find(e=>null!=e&&e.id==n.clipPath.id);if(null==e){t.push(n.clipPath);let e=this.drawingAreas[o].findIndex(e=>null!=e&&e.id==n.clipPath.id);this.drawingAreas[o][e]=n.clipPath}else n.clipPath=e}"Layers"==n.itemGroup&&n.set({perPixelTargetFind:i.Z.getState().defaults.perPixelTargetFind||!1})})}}}resetCanvas(e=this.getCurrentView()){let t=i.Z.getState().fabric.history.initial,n=0;this.loading=!0;for(let r=0;r<this.getViews().length;r++){let a=this.getViews()[r];this.getCanvas(a).loadFromJSON(t[a].object,()=>{if(null!=t[a].size){let e=t[a].size;this.getCanvas(a).setDimensions({width:e.width,height:e.height}),this.getCanvas(a).renderAll()}n++,n==this.getViews().length&&(this.loading=!1,this.updateCanvas(e),s.Z.initEvent("resetCanvas",[]),s.Z.responsive())},(e,t)=>{null==t.id&&t.set({id:f()()}),"Layers"==t.itemGroup&&t.set({perPixelTargetFind:i.Z.getState().defaults.perPixelTargetFind||!1})})}}getCanvas(e=this.getCurrentView()){return this.canvases[e]||null}getCanvases(e=null){const{studio:t,...n}=this.canvases;if("toArray"==e){var r=[];for(const e in n)r.push(n[e]);return r}if("toObject"==e){r={};for(const e in n)r[e]=n[e].toObject();return r}if("toStringify"==e){r={};for(const e in n)r[e]={...i.Z.getState().fabric.canvases[e],object:JSON.stringify(n[e].toObject()),size:{width:n[e].width,height:n[e].height}},null!=i.Z.getState().fabric.canvases[e]&&null==i.Z.getState().fabric.canvases[e].originalSize&&(r[e].originalSize={...r[e].size});return r}return n}getZoom(e=this.getCurrentView()){return this.canvases[e].getZoom()}addTemplate(e=this.getCanvas().toDataURL({format:"jpeg",quality:1,multiplier:1/(this.getCanvas().width/100)})){i.Z.dispatch((0,v.WF)(i.Z.getState().fabric.canvases,e)),s.Z.initEvent("addTemplate",[]),s.Z.initEvent("contentChanged",[])}removeTemplate(e){i.Z.dispatch((0,v.CK)(e)),s.Z.initEvent("removeTemplate",[e])}loadTemplate(e){for(let t in e){let n=e[t];this.getCanvas(t).loadFromJSON(n.object,()=>{if(null!=canvases[t].size){let e=canvases[t].size;this.getCanvas(t).setDimensions({width:e.width,height:e.height}),this.getCanvas(t).renderAll()}},(e,r)=>{if(null==r.id&&r.set({id:f()()}),null!=r.clipPath&&"Drawing area"==r.clipPath.itemType){null==this.drawingAreas[t].find(e=>null!=e&&e.id==r.clipPath.id)&&this.drawingAreas[t].push(r.clipPath)}"Layers"==r.itemGroup&&r.set({perPixelTargetFind:i.Z.getState().defaults.perPixelTargetFind||!1}),s.Z.initEvent("loadTemplate",[n,t])})}}load(e){let t=this.getCanvases();this.canvasesLoaded=0;for(let e in t)this.removeView(e);i.Z.dispatch((0,v.jp)(e)),s.Z.initEvent("loadFabric",[e]),s.Z.initEvent("contentChanged",[])}mountCanvas(e,t=null,n={},r="Canvas"){this.canvases[e]=new(a.fabric["locked"==i.Z.getState().mode?"StaticCanvas":r])(e,{backgroundColor:"transparent",stateful:!0,...n}),this.drawingAreas[e]=[],a.fabric.util.enlivenObjects(i.Z.getState().fabric.drawingAreas[e],t=>{t.forEach(t=>{t.canvas=this.canvases[e],this.drawingAreas[e].push(t)})}),this.loading=!0,l.init(),"studio"!=e&&(t?(this.getCanvas(e).setDimensions({width:t.size.width,height:t.size.height}),t.object?s.Z.loadCanvasFonts(t.object,()=>{this.canvases[e].loadFromJSON(t.object,()=>{if(null!=t.size){let n=t.size;this.canvases[e].setDimensions({width:n.width,height:n.height}),this.canvases[e].renderAll()}this.canvasesLoaded++,i.Z.dispatch((0,v.r9)(e)),this.canvasesLoaded==i.Z.getState().fabric.views.length&&(this.loading=!1,s.Z.responsive(),null!=i.Z.getState().fabric.selection&&null!=this.findObject(i.Z.getState().fabric.selection)&&this.setActiveObject(this.findObject(i.Z.getState().fabric.selection)),null==i.Z.getState().fabric.currentView&&this.setCurrentView(i.Z.getState().fabric.views[0]),s.Z.initEvent("ready",[]),s.Z.initEvent("contentChanged",[this.canvases[e],e]),i.Z.dispatch((0,v.Ad)(this.getCanvases("toStringify"))))},(t,n)=>{if(null==n.id&&n.set({id:f()()}),"Layers"==n.itemGroup&&n.set({perPixelTargetFind:i.Z.getState().defaults.perPixelTargetFind||!1}),null!=n.clipPath&&"Drawing area"==n.clipPath.itemType){let t=this.drawingAreas[e].find(e=>null!=e&&e.id==n.clipPath.id);null==t?this.drawingAreas[e].push(n.clipPath):n.clipPath=t}}),this.canvases[e].setBackgroundColor("transparent")}):(this.canvasesLoaded++,i.Z.dispatch((0,v.r9)(e)),this.canvasesLoaded==i.Z.getState().fabric.views.length&&(this.loading=!1,s.Z.responsive(),null==i.Z.getState().fabric.currentView&&this.setCurrentView(i.Z.getState().fabric.views[0]),null!=i.Z.getState().fabric.selection&&null!=this.findObject(i.Z.getState().fabric.selection)&&this.setActiveObject(this.findObject(i.Z.getState().fabric.selection)),s.Z.initEvent("ready",[]),s.Z.initEvent("contentChanged",[this.canvases[e],e]),i.Z.dispatch((0,v.Ad)(this.getCanvases("toStringify")))))):(this.loading=!1,i.Z.dispatch((0,v.r9)(e)),i.Z.dispatch((0,v.Ad)(this.getCanvases("toStringify"))),null==i.Z.getState().fabric.currentView&&this.setCurrentView(i.Z.getState().fabric.views[0]),s.Z.initEvent("ready",[]),s.Z.initEvent("contentChanged",[this.canvases[e],e]))),s.Z.initEvent("mountCanvas",[this.canvases[e],e]),this.listeners(e)}listeners(e=this.getCurrentView()){this.initFunctions(e),this.objectListeners(e),this.adjustBoundingBoxColors(e),this.boundingBoxesBorders(e),this.constraints(e),this.orderLayers(e),this.preventBoundingBoxExit(e,5),this.preventSelection(e),this.snapCenter(e,5),this.clickMarker(e),this.keepCanvasUpdated(e),this.snapObjects(e,5),this.snapRotation(e,5,45),null!=i.Z.getState().defaults.keyboardControls&&1==i.Z.getState().defaults.keyboardControls&&this.keyboardControls(!0),this.selectionMenu(e)}keepCanvasUpdated(e){let t=t=>{if(!(null!=t.transform&&["drag","scale"].indexOf(t.transform.action)>-1&&null==t.transform.actionPerformed||"Tools"==t.target.itemGroup&&"Marker"!=t.target.itemType))return"Helpers"==t.target.itemGroup?(i.Z.dispatch((0,v.L)(this.drawingAreas)),void s.Z.initEvent("contentChanged",[])):void this.updateCanvas(e)};this.canvases[e].on("object:added",t),this.canvases[e].on("object:removed",t=>{if(!(null!=t.transform&&["drag","scale"].indexOf(t.transform.action)>-1&&null==t.transform.actionPerformed||"Tools"==t.target.itemGroup&&"Marker"!=t.target.itemType))return"Helpers"==t.target.itemGroup?(i.Z.dispatch((0,v.L)(this.drawingAreas)),void s.Z.initEvent("contentChanged",[])):void this.updateCanvas(e)}),this.canvases[e].on("object:modified",t)}updateCanvas(e){!0!==this.loading&&"studio"!=e&&(i.Z.dispatch((0,v.L)(this.drawingAreas)),i.Z.dispatch((0,v.CH)(e,this.getCanvases("toStringify"))),s.Z.initEvent("updateCanvas",[this.getCanvas(e),e]),s.Z.initEvent("contentChanged",[]))}resizeCanvas(e,t=this.getCurrentView()){this.getCanvas(t).setDimensions({width:e.width,height:e.height}),this.getCanvas(t).renderAll(),s.Z.initEvent("resizeCanvas",[e,t])}placeMarker(e,t={},n=this.getCurrentView()){let a,l,u,h,f=this.getCanvas(n);if(l=e=>{h=e.target,null!=h&&(u=h.selectable,h.set({selectable:!1}))},a=r=>{null!=h&&h.set({selectable:u}),this.addMarker(e,{originX:"center",originY:"center",left:r.pointer.x,top:r.pointer.y,...t}),this.updateCanvas(n),f.off("mouse:up",a),f.off("mouse:down:before",l),c.Z.close("placeMarker"),s.Z.initEvent("placeMarker",[n])},void 0!==f.__eventListeners&&void 0!==f.__eventListeners["mouse:up"]&&-1!==f.__eventListeners["mouse:up"].findIndex(e=>e.toString()==a.toString())){let e=f.__eventListeners["mouse:up"].find(t=>t.toString()==e.toString()),t=f.__eventListeners["mouse:down:before"].find(e=>e.toString()==t.toString());f.off("mouse:up",e),f.off("mouse:down:before",t),c.Z.close("placeMarker")}else(0,c.Z)({key:"placeMarker",container:".ask-designer-content",position:"absolute",content:r.createElement(m.zt,{store:i.Z},s.Z.getTranslation("Click where you want to place the marker")),delay:0,positionX:"left"}),f.on("mouse:up",a),f.on("mouse:down:before",l),o.Z.closeAllMenus()}clickMarker(e=this.getCurrentView()){let t,n=this.getCanvas(e);if(t=t=>{let r=t.target;if(r!=n.getActiveObject()&&1!=n.selectMarker&&null!=r&&"Marker"==r.itemType){switch(n.toggleMarker=r,r.markerType){case"Design":o.Z.forceOpenMenu("Designs");break;case"Text":o.Z.forceOpenMenu("Text");break;case"Upload":o.Z.forceOpenMenu("Image")}s.Z.initEvent("clickMarker",[e])}},void 0!==n.__eventListeners&&void 0!==n.__eventListeners["mouse:down"]&&-1!==n.__eventListeners["mouse:down"].findIndex(e=>e.toString()==t.toString())){n.__eventListeners["mouse:down"].find(e=>e.toString()==t.toString());n.off("mouse:down",t)}else n.on("mouse:down",t)}selectMarker(e,t,n){let a,o;if(o=()=>{this.toggleBorderMarkers(!0,t,n)},a=r=>{let i=r.target;null!=e&&null!=i.markerType?this.replaceMarker(e,i,i,i.markerConstraints,t):this.replaceMarker(e,i,i.marker,i.constraints,t),s.Z.initEvent("selectMarker",[t]),t.off("after:render",o),t.off("mouse:down",a),c.Z.close("selectMarker"),t.selectMarker=!1,this.toggleBorderMarkers(!1,t,n)},void 0!==t.__eventListeners&&void 0!==t.__eventListeners["mouse:down"]&&-1!==t.__eventListeners["mouse:down"].findIndex(e=>e.toString()==a.toString())){let e=t.__eventListeners["mouse:down"].find(t=>t.toString()==e.toString()),n=t.__eventListeners["after:render"].find(e=>e.toString()==n.toString());t.off("mouse:down",e),t.off("after:render",n)}else t.selectMarker=!0,(0,c.Z)({key:"selectMarker",container:".ask-designer-content",position:"absolute",content:r.createElement(m.zt,{store:i.Z},s.Z.getTranslation("Select a marker to replace")),delay:0,positionX:"left"}),t.on("mouse:down",a),t.on("after:render",o),this.toggleBorderMarkers(!0,t,n),t.renderAll()}toggleBorderMarkers(e,t,n){1==e?(t.contextContainer.setLineDash([5,5]),n.forEach((function(e){var n=e.getBoundingRect();e.set({originalPerPixelTargetFind:e.perPixelTargetFind,perPixelTargetFind:!1}),t.contextContainer.strokeRect(n.left-2,n.top-2,n.width+4,n.height+4)}))):(t.contextContainer.setLineDash([]),n.forEach((function(e){var n=e.getBoundingRect();e.set({perPixelTargetFind:e.originalPerPixelTargetFind,originalPerPixelTargetFind:null}),t.contextContainer.strokeRect(n.left,n.top,n.width,n.height)})))}selectDrawingArea(e=this.getCurrentView(),t){let n,a,o=this.drawingAreas[e],l=this.getCanvas(e);a=(t=!0)=>{if(1==t){(0,c.Z)({key:"selectDrawingArea",container:".ask-designer-content",position:"absolute",content:r.createElement(m.zt,{store:i.Z},s.Z.getTranslation("Choose a target drawing area")),delay:0,positionX:"left"}),this.loading=!0;for(let e=0;e<o.length;e++)this.clone(o[e],e=>{e.set({itemType:"Helper",itemGroup:"Tools",excludeFromExport:!0,selectable:!1,fill:"#d8d8d8",stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2],strokeWidth:1,hoverCursor:"cell"}),l.add(e),l.renderAll()})}else{c.Z.close("selectDrawingArea");let t=l.getObjects().filter(e=>"Helper"==e.itemType);for(let e=0;e<t.length;e++)l.remove(t[e]),l.renderAll();this.loading=!1,s.Z.initEvent("selectDrawingArea",[e]),this.updateCanvas(e)}},n=e=>{if("Helper"==e.target.itemType){let r=o.find(t=>t.id==e.target.id);t.clippedTo=r.id,t.clipPath=r,l.add(t),this.adjustSize(t),l.off("mouse:up",n),a(!1);for(let e=0;e<o.length;e++){o[e].set({fill:"blue"})}}},void 0!==l.__eventListeners&&void 0!==l.__eventListeners["mouse:up"]&&-1!==l.__eventListeners["mouse:up"].findIndex(e=>e.toString()==n.toString())?(l.off("mouse:up",n),a(!1)):(a(!0),l.on("mouse:up",n))}getDrawingAreas(e=this.getCurrentView()){return this.drawingAreas[e]||[]}applyFilter(e,t,n=this.getActiveObject()){let r=n.filters.findIndex(t=>t.type==e);r>-1?n.filters.splice(r,1):n.filters.push(t),n.applyFilters(),s.Z.initEvent("applyFilter",[t,e,n]),n.canvas.renderAll()}addFilter(e,t=this.getActiveObject()){t.filters.push(e),t.applyFilters(),t.canvas.renderAll(),s.Z.initEvent("addFilter",[e,t])}applyFilterValue(e,t,n,r=this.getActiveObject()){let i=r.filters.findIndex(t=>t.type==e);i>-1&&(Array.isArray(t)?r.filters[i][t[0]][t[1]]=n:r.filters[i][t]=n,r.applyFilters(),r.canvas.renderAll(),s.Z.initEvent("applyFilterValue",[n,t,e,r]))}applyFilterValueByProp(e,t,n,r,i=this.getActiveObject()){let a=i.filters.findIndex(t=>t[n]==e);a>-1&&(i.filters[a][t]=r,i.applyFilters(),i.canvas.renderAll(),s.Z.initEvent("applyFilterValue",[r,t,e,i]))}getFilter(e,t=this.getActiveObject()){return t.filters?t.filters.find(t=>t.type==e):null}getFilters(e,t=this.getActiveObject()){return t.filters?t.filters.filter(t=>t.type==e):[]}removeFilter(e,t,n=this.getActiveObject()){let r=n.filters.findIndex(n=>n[t]==e);r>-1&&n.filters.splice(r,1),n.applyFilters(),n.canvas.renderAll(),s.Z.initEvent("removeFilter",[e,t,n])}addObject(e,t=this.getCurrentView(),n=i.Z.getState().defaults.adjustObjectAdded){e.set({centeredScaling:!0}),"i-text"!=e.type&&"text"!=e.type||e.set({strokeWidth:0});let r=this.getDrawingAreas(t),a=this.getCanvas(t);if(null!=a){if(null!=a.toggleMarker){if(a.toggleMarker.markerType!=e.itemType)return;let t=a.toggleMarker,n=a.toggleMarker,r=a.toggleMarker.markerConstraints;this.replaceMarker(e,t,n,r,a)}else if(1==i.Z.getState().defaults.findMarkerOnAdd&&a.getObjects().filter(t=>null!=t.markerType&&t.markerType==e.itemType).length>0){let t=a.getObjects().filter(t=>null!=t.markerType&&t.markerType==e.itemType)[0],n=t,r=n.markerConstraints,i=a.getObjects().filter(t=>null!=t.markerType&&t.markerType==e.itemType);i.length>1?(this.selectMarker(e,a,i),o.Z.closeAllMenus()):this.replaceMarker(e,t,n,r,a)}else if(1==i.Z.getState().defaults.findMarkerOnAdd&&a.getObjects().filter(t=>null!=t.marker&&e.itemType==t.itemType).length>0){let t=a.getObjects().filter(t=>null!=t.marker&&e.itemType==t.itemType)[0],n=t.marker,r=t.constraints,i=a.getObjects().filter(t=>null!=t.marker&&e.itemType==t.itemType);i.length>1?(this.selectMarker(e,a,i),o.Z.closeAllMenus()):this.replaceMarker(e,t,n,r,a)}else 1!=i.Z.getState().defaults.onlyAddWithMarker&&0==r.length||"Layers"!=e.itemGroup?(null!=n&&1!=n||this.adjustSize(e,a,"Masks"==e.itemGroup),"Masks"==e.itemGroup&&a.setActiveObject(e),a.add(e),a.renderAll()):1!=i.Z.getState().defaults.onlyAddWithMarker&&1==r.length?(e.clippedTo=r[0].id,e.clipPath=r[0],null!=n&&1!=n||this.adjustSize(e,a),a.add(e),a.renderAll()):1!=i.Z.getState().defaults.onlyAddWithMarker&&r.length>1&&(this.selectDrawingArea(t,e),o.Z.closeAllMenus());return s.Z.initEvent("addObject",[e,t]),e}}replaceMarker(e,t,n,r,i){if(this.loading=!0,null!=r&&(e.constraints=r,null!=e.constraints.maxChars&&e.set({text:s.Z.truncate(e.text,e.constraints.maxChars)}),null!=e.constraints.width?e.scaleToWidth(e.constraints.width):null!=e.constraints.height&&e.scaleToHeight(e.constraints.height),null!=e.constraints.maxWidth&&e.getScaledWidth()>e.constraints.maxWidth?e.scaleToWidth(e.constraints.maxWidth):null!=e.constraints.maxHeight&&e.getScaledHeight()>e.constraints.maxHeight&&e.scaleToHeight(e.constraints.maxHeight)),e.set({marker:n,left:n.left,top:n.top,angle:n.angle,price:parseFloat(e.constraints.price||0),originX:e.constraints.originX,originY:e.constraints.originY}),null!=e.constraints.drawingArea){let t=this.getDrawingAreas().find(t=>e.constraints.drawingArea==t.id);e.set({clipPath:t,clippedTo:t.id})}i.remove(t),this.loading=!1,i.add(e),1==e.constraints.freePlacement&&this.adjustSize(e),i.renderAll(),i.toggleMarker=null,o.Z.closeAllMenus()}mouseOverObject(e,t=this.getCurrentView()){let n=this.getCanvas(t);null==e.originalOpacity&&e.set({originalOpacity:e.opacity}),e.hoverCursor="pointer",e.animate("opacity",.3,{onChange:n.renderAll.bind(n),duration:500}),n.renderAll()}mouseOutObject(e,t){let n=this.getCanvas(t);e.hoverCursor="pointer",e.animate("opacity",e.originalOpacity,{onChange:n.renderAll.bind(n),duration:500}),n.renderAll()}clone(e,t=(()=>{})){e.clone(n=>{t(n),s.Z.initEvent("clone",[e])})}cloneAndPast(e,t=i.Z.getState().defaults.adjustObjectAdded,n={},r=(()=>{})){this.clone(e,i=>{e.canvas.discardActiveObject();let a=this.addObject(i,this.getCurrentView(),t);return i.set({id:f()(),...n}),r(i),s.Z.initEvent("clone",[e]),a})}getActiveObject(e=this.getCurrentView()){return this.getCanvas(e).getActiveObject()||null}getActiveObjects(e=this.getCurrentView()){return this.getCanvas(e).getActiveObjects()||[]}setActiveObject(e,t=this.getCurrentView()){this.getCanvas(t).setActiveObject(e),this.getCanvas(t).renderAll(),s.Z.initEvent("setActiveObject",[e])}getObjects(e=this.getCurrentView(),t=!1){if(e&&this.canvases[e]){let n;return 1==t?n=this.canvases[e].getObjects():0==t&&(n=this.canvases[e].getObjects().filter(e=>"Tools"!=e.itemGroup)),n}return[]}remove(e,t=this.getCurrentView()){let n=this.getCanvas(t);if("activeSelection"==e.type&&e._objects.length>0){for(var r=0;r<e._objects.length;r++){let n=e._objects[r];"Layers"==n.itemGroup?(n.canvas.remove(n),s.Z.initEvent("remove",[n,t])):null!=n.marker&&(n.marker instanceof a.fabric.util.getKlass(n.marker.type)?(this.loading=!0,n.canvas.add(n.marker),n.marker.set({opacity:1}),this.loading=!1,n.canvas.remove(n),s.Z.initEvent("remove",[n,t])):a.fabric.util.enlivenObjects([n.marker],e=>{this.loading=!0,n.canvas.add(e[0]),e[0].set({opacity:1}),this.loading=!1,n.canvas.remove(n),s.Z.initEvent("remove",[n,t])}))}n.discardActiveObject(),n.renderAll()}else if(Array.isArray(e)){for(r=0;r<e.length;r++){var i=e[r];i.canvas.remove(i),s.Z.initEvent("remove",[i,t])}n.renderAll()}else if("Drawing area"==e.itemType){let r=n.getObjects().filter(t=>t.clippedTo==e.id),i=this.getDrawingAreas().findIndex(t=>t.id==e.id);this.getDrawingAreas().splice(i,1);for(let e=0;e<r.length;e++)n.remove(r[e]),s.Z.initEvent("remove",[r[e],t]);n.remove(e),s.Z.initEvent("remove",[e,t]),n.discardActiveObject(),n.renderAll(),s.Z.initEvent("contentChanged",[]),this.updateCanvas(t)}else null!=e.marker?e.marker instanceof a.fabric.util.getKlass(e.marker.type)?(this.loading=!0,e.canvas.add(e.marker),e.marker.set({opacity:1}),this.loading=!1,e.canvas.remove(e),n.renderAll(),s.Z.initEvent("remove",[e,t])):a.fabric.util.enlivenObjects([e.marker],r=>{this.loading=!0,e.canvas.add(r[0]),r[0].set({opacity:1}),this.loading=!1,e.canvas.remove(e),n.renderAll(),s.Z.initEvent("remove",[e,t])}):(e.canvas.remove(e),n.renderAll(),s.Z.initEvent("remove",[e,t]));n.selectMarker=!1,delete n.toggleMarker}sendBackward(e){if(void 0!==e.clippedTo){let i=e.canvas.getObjects().filter(t=>t.clippedTo==e.clippedTo);for(var t=[],n=0;n<i.length;n++)if(t.push(e.canvas.getObjects().indexOf(i[n])),i[n]==e)var r=n;return void 0!==r&&void 0!==t[r-1]&&(void 0===t[r-2]&&(void 0!==t[r-2]||void 0!==e.canvas.getObjects()[t[r-1]].locked&&1!=typeof e.canvas.getObjects()[t[r-1]].locked)||(e.moveTo(t[r-1]),s.Z.initEvent("sendBackward",[e,r-1]))),this.updateCanvas(e.canvas.lowerCanvasEl.id),void e.canvas.renderAll()}if("Layers"==e.itemGroup){let t=e.canvas.getObjects().filter(e=>"Layers"==e.itemGroup),n=[];for(let i=0;i<t.length;i++)if(n.push(e.canvas.getObjects().indexOf(t[i])),t[i]==e)r=i;void 0!==r&&void 0!==n[r-1]&&(e.moveTo(n[r-1]),s.Z.initEvent("sendBackward",[e,r-1]))}if("Elements"==e.itemGroup&&1==e.bringToFront){let t=e.canvas.getObjects().filter(t=>"Elements"==t.itemGroup&&1==e.bringToFront),n=[];for(let i=0;i<t.length;i++)if(n.push(e.canvas.getObjects().indexOf(t[i])),t[i]==e)r=i;void 0!==r&&void 0!==n[r-1]&&(e.moveTo(n[r-1]),s.Z.initEvent("sendBackward",[e,r-1]))}if("Elements"==e.itemGroup&&1!=e.bringToFront){let t=e.canvas.getObjects().filter(e=>"Elements"==e.itemGroup),n=[];for(let i=0;i<t.length;i++)if(n.push(e.canvas.getObjects().indexOf(t[i])),t[i]==e)r=i;void 0!==r&&void 0!==n[r-1]&&(e.moveTo(n[r-1]),s.Z.initEvent("sendBackward",[e,r-1]))}if("Drawing area"==e.itemType){var i=this.drawingAreas[this.getCurrentView()];if(i.length<2)return;let t=i.findIndex(t=>t.id==e.id);if(null!=i[t-1]){let r=e.canvas.getObjects().filter(t=>t.clippedTo==e.id),a=e.canvas.getObjects().filter(e=>e.clippedTo==i[t-1].id),o=e.canvas.getObjects().indexOf(a[0]);for(n=0;n<r.length;n++){[...r].reverse()[n].moveTo(o)}s.Z.changeIndex(i,t,t-1),s.Z.initEvent("sendBackward",[e,t-1])}}this.updateCanvas(e.canvas.lowerCanvasEl.id),e.canvas.renderAll()}bringForward(e){if(void 0!==e.clippedTo){let n=e.canvas.getObjects().filter(t=>t.clippedTo==e.clippedTo),r=[];for(let i=0;i<n.length;i++)if(r.push(e.canvas.getObjects().indexOf(n[i])),n[i]==e)var t=i;return void 0!==t&&void 0!==r[t+1]&&(e.moveTo(r[t+1]),s.Z.initEvent("bringForward",[e,t+1])),this.updateCanvas(e.canvas.lowerCanvasEl.id),void e.canvas.renderAll()}if("Layers"==e.itemGroup){let n=e.canvas.getObjects().filter(e=>"Layers"==e.itemGroup),r=[];for(let i=0;i<n.length;i++)if(r.push(e.canvas.getObjects().indexOf(n[i])),n[i]==e)t=i;void 0!==t&&void 0!==r[t+1]&&(e.moveTo(r[t+1]),s.Z.initEvent("bringForward",[e,t+1]))}if("Elements"==e.itemGroup&&1==e.bringToFront){let n=e.canvas.getObjects().filter(t=>"Elements"==t.itemGroup&&1==e.bringToFront),r=[];for(let i=0;i<n.length;i++)if(r.push(e.canvas.getObjects().indexOf(n[i])),n[i]==e)t=i;void 0!==t&&void 0!==r[t+1]&&(e.moveTo(r[t+1]),s.Z.initEvent("bringForward",[e,t+1]))}if("Elements"==e.itemGroup&&1!=e.bringToFront){let n=e.canvas.getObjects().filter(e=>"Elements"==e.itemGroup),r=[];for(let i=0;i<n.length;i++)if(r.push(e.canvas.getObjects().indexOf(n[i])),n[i]==e)t=i;void 0!==t&&void 0!==r[t+1]&&(e.moveTo(r[t+1]),s.Z.initEvent("bringForward",[e,t+1]))}if("Drawing area"==e.itemType){var n=this.drawingAreas[this.getCurrentView()];if(n.length<2)return;let t=n.findIndex(t=>t.id==e.id);if(null!=n[t+1]){let i=e.canvas.getObjects().filter(t=>t.clippedTo==e.id),a=e.canvas.getObjects().filter(e=>e.clippedTo==n[t+1].id),o=a[a.length-1];for(var r=0;r<i.length;r++){let t=e.canvas.getObjects().indexOf(o);[...i].reverse()[r].moveTo(t)}s.Z.changeIndex(n,t,t+1),s.Z.initEvent("bringForward",[e,t+1])}}this.updateCanvas(e.canvas.lowerCanvasEl.id),e.canvas.renderAll()}setFill(e,t=null,n=this.getActiveObject()){if(null!=n){if(s.Z.initEvent("setFill",[e,t,n]),s.Z.isValidURL(e))"Elements"==n.itemGroup?a.fabric.util.loadImage(e,e=>{for(let r in this.canvases){let i=this.canvases[r].getObjects().find(e=>e.name==n.name);null!=i&&(i.set({fill:new a.fabric.Pattern({source:e,repeat:"repeat"}),printingMethod:t}),i.canvas.renderAll(),this.updateCanvas(n.canvas.lowerCanvasEl.id))}}):a.fabric.util.loadImage(e,e=>{n.set({fill:new a.fabric.Pattern({source:e,repeat:"repeat"}),printingMethod:t}),n.canvas.renderAll(),this.updateCanvas(n.canvas.lowerCanvasEl.id)});else if("Elements"==n.itemGroup)for(let r in this.canvases){let i=this.canvases[r].getObjects().find(e=>e.name==n.name);null!=i&&(i.set({printingMethod:t,fill:e}),this.updateCanvas(n.canvas.lowerCanvasEl.id))}else n.set({printingMethod:t,fill:e}),this.updateCanvas(n.canvas.lowerCanvasEl.id);n.canvas.renderAll()}}setStroke(e,t=null,n=this.getActiveObject()){if(null!=n){if(s.Z.initEvent("setStroke",[e,t,n]),s.Z.isValidURL(e))"Elements"==n.itemGroup?a.fabric.util.loadImage(e,e=>{for(let r in this.canvases){let i=this.canvases[r].getObjects().find(e=>e.name==n.name);null!=i&&(i.set({stroke:new a.fabric.Pattern({source:e,repeat:"repeat"}),printingMethod:t}),i.canvas.renderAll(),this.updateCanvas(n.canvas.lowerCanvasEl.id))}}):a.fabric.util.loadImage(e,e=>{n.set({stroke:new a.fabric.Pattern({source:e,repeat:"repeat"}),printingMethod:t}),n.canvas.renderAll(),this.updateCanvas(n.canvas.lowerCanvasEl.id)});else if("Elements"==n.itemGroup)for(let r in this.canvases){let i=this.canvases[r].getObjects().find(e=>e.name==n.name);null!=i&&(i.set({printingMethod:t,stroke:e}),this.updateCanvas(n.canvas.lowerCanvasEl.id))}else n.set({printingMethod:t,stroke:e}),this.updateCanvas(n.canvas.lowerCanvasEl.id);n.canvas.renderAll()}}addMask(e,t=this.getCurrentView()){this.getCanvas(t).getObjects().find(e=>"Masks"!=e.itemGroup).set({clipPath:null});this.addImage(e,{itemGroup:"Masks",strokeWidth:0,opacity:.5},t);s.Z.initEvent("addMask",[e,t])}setMask(e=this.getCurrentView()){let t=this.getCanvas(e).getObjects().find(e=>"Masks"==e.itemGroup),n=this.getCanvas(e).getObjects().find(e=>"Masks"!=e.itemGroup);n.clipPath=t,t.set({absolutePositioned:!0}),t.canvas.remove(t),s.Z.initEvent("setMask",[t,n,e])}resetMask(e=this.getCurrentView()){let t=this.getCanvas(e).getObjects().find(e=>"Masks"==e.itemGroup),n=this.getCanvas(e).getObjects().find(e=>"Masks"!=e.itemGroup);null!=t&&t.canvas.remove(t),n.set({clipPath:null}),n.canvas.renderAll(),s.Z.initEvent("resetMask",[t,n,e])}setPathFill(e,t,n=null,r=this.getActiveObject()){if(null==r)return;s.Z.initEvent("setPathFill",[e,t,n,r]);let i=(e,r=(()=>{}))=>{let i=0;e.forEach((o,l)=>{if(l!=t){let t=s.Z.getSimilarColor(s.Z.getFill(o.fill),this.getColors().filter(e=>s.Z.stringToArray(e.printingtypes).some(e=>e==n)));s.Z.isValidURL(t.value)?a.fabric.util.loadImage(t.value,t=>{e[l].set({fill:new a.fabric.Pattern({source:t,repeat:"repeat"})}),i==e.length-2&&(o.group.canvas.renderAll(),r()),i++}):(e[l].set({fill:t.value}),i==e.length-2&&(o.group.canvas.renderAll(),r()),i++)}})};if(s.Z.isValidURL(e))a.fabric.util.loadImage(e,e=>{if("Elements"==r.itemGroup){let o=[];for(let e in this.canvases){let t=this.canvases[e];null!=t.getObjects().find(e=>e.name==r.name)&&o.push(t.getObjects().find(e=>e.name==r.name))}for(let s=0;s<o.length;s++){let l=o[s]._objects;l[t].set({fill:new a.fabric.Pattern({source:e,repeat:"repeat"})}),null!=n?i(l,()=>{s==o.length-1&&this.updateCanvas(r.canvas.lowerCanvasEl.id)}):(o[s].canvas.renderAll(l),s==o.length-1&&this.updateCanvas(r.canvas.lowerCanvasEl.id))}}else{let o=r._objects;o[t].set({fill:new a.fabric.Pattern({source:e,repeat:"repeat"})}),null!=n?i(o,()=>{this.updateCanvas(r.canvas.lowerCanvasEl.id)}):(r.canvas.renderAll(),this.updateCanvas(r.canvas.lowerCanvasEl.id))}});else if("Elements"==r.itemGroup){let a=[];for(let e in this.canvases){let t=this.canvases[e];null!=t.getObjects().find(e=>e.name==r.name)&&a.push(t.getObjects().find(e=>e.name==r.name))}for(let o=0;o<a.length;o++){let s=a[o]._objects;s[t].set({fill:e}),null!=n?i(s,()=>{o==a.length-1&&this.updateCanvas(r.canvas.lowerCanvasEl.id)}):(a[o].canvas.renderAll(s),o==a.length-1&&this.updateCanvas(r.canvas.lowerCanvasEl.id))}}else{let a=r._objects;a[t].set({fill:e}),null!=n?i(a,()=>{this.updateCanvas(r.canvas.lowerCanvasEl.id)}):(r.canvas.renderAll(),this.updateCanvas(r.canvas.lowerCanvasEl.id))}r.set({printingMethod:n}),r.canvas.renderAll()}addElement(e,t,n,r,i={},a=this.getCurrentView()){let o=u.Z.getActiveVariation(r);if(null!=r[0].variations)var l=this.addImage(o.image,{...i,name:e,icon:n,category:t,itemGroup:"Elements",derivatives:r,perPixelTargetFind:!0},a);else l=this.addImage(o.image,{...i,name:e,icon:n,category:t,itemGroup:"Elements",variations:r,perPixelTargetFind:!0},a);s.Z.initEvent("addElement",[l,e,t,n,r])}findObject(e,t=this.getCurrentView(),n=!1){return s.Z.findMultipleCriteria(this.getObjects(t,n),{id:t=>t==e,name:t=>t==e})}findObjects(e,t=this.getCurrentView(),n=!1){return s.Z.filterMultipleCriteria(this.getObjects(t,n),{id:t=>t==e,name:t=>t==e})}findDrawingArea(e,t=this.getCurrentView()){return s.Z.findMultipleCriteria(this.getDrawingAreas(t),{id:t=>t==e,name:t=>t==e})}updateItem(e,t,n,r,i,a={},o=this.getCurrentView()){let l;if(e){switch(e.set({...e,name:t,icon:r,category:n,...a}),typeof e.derivatives){case"object":e.derivatives=i,l=u.Z.getActiveVariation(e.derivatives),this.setActiveVariation(e,l.indexVariation,l.indexDerivative);break;default:e.variations=i,l=u.Z.getActiveVariation(e.variations),this.setActiveVariation(e,l.indexVariation)}e.canvas.fire("position:updated",{target:e});for(let e=0;e<this.getViews().length;e++){let s=this.getViews()[e];if(s==o)continue;let l=this.findObject(t,s);if(null!=l)switch(l.set({...l,name:t,category:n,icon:r,...a}),typeof l.derivatives){case"object":l.derivatives=l.derivatives.map((e,t)=>({...e,variations:e.variations.map((e,n)=>{if(i[t].variations[n]){const{image:r,...a}=i[t].variations[n];return{...e,...a}}return e})}));break;default:l.variations=l.variations.map((e,t)=>{if(i[t]){const{image:n,...r}=i[t];return{...e,...r}}return e})}}s.Z.initEvent("updateItem",[e,t,n,r,i])}else this.addElement(t,n,r,i,a={},this.getCanvas(o)),s.Z.initEvent("updateItem",[e,t,n,r,i])}getActiveVariation(e){let t;return null!=e.derivatives?t=u.Z.getActiveVariation(e.derivatives):null!=e.variations&&(t=u.Z.getActiveVariation(e.variations)),t}getColor(e={},t="OR"){return s.Z.findMultipleCriteria(i.Z.getState().colors,e,t)}getColors(){return i.Z.getState().colors}getPrintingMethods(){return i.Z.getState().printingMethods}getDesignsCategories(){return i.Z.getState().designsCategories}setActiveVariation(e,t=null,n=null){let r=0,i=Object.keys(this.canvases).length;this.loading=!0;for(let o in this.canvases){let l=this.canvases[o].getObjects().find(t=>t.name==e.name);if(null!=l){let o;null!=l.derivatives?(1==l.derivatives[n].variations[t].active&&(this.loading=!1),l.derivatives=u.Z.setActiveVariation(l.derivatives,t,n),o=u.Z.getActiveVariation(l.derivatives)):null!=l.variations&&(1==l.variations[t].active&&(this.loading=!1),l.variations=u.Z.setActiveVariation(l.variations,t),o=u.Z.getActiveVariation(l.variations)),"group"==l.type?a.fabric.loadSVGFromURL(s.Z.getUrl(o.image),(a,o)=>{l.set({_objects:[]});for(let e=0;e<a.length;e++)l.add(a[e]);l.canvas.renderAll(),r===i-1&&(this.loading=!1,this.updateCanvas(e.canvas.lowerCanvasEl.id)),s.Z.initEvent("setActiveVariation",[t,n,e]),s.Z.initEvent("contentChanged",[]),r++},null,{crossOrigin:"anonymous"}):l.setSrc(s.Z.getUrl(o.image),()=>{l.canvas.renderAll(),r===i-1&&(this.loading=!1,this.updateCanvas(e.canvas.lowerCanvasEl.id)),s.Z.initEvent("setActiveVariation",[t,n,e]),s.Z.initEvent("contentChanged",[]),r++},{crossOrigin:"anonymous"})}else i--}}getItems(e=this.getCurrentView()){return this.getObjects(e).filter(e=>"Elements"==e.itemGroup)}getLayers(e=this.getCurrentView()){return this.getObjects(e).filter(e=>"Layers"==e.itemGroup)}getMarkers(e=this.getCurrentView()){return this.getObjects(e,!0).filter(e=>"Marker"==e.itemType)}getOverlay(e=this.getCurrentView()){return null!=this.getCanvas(e)?this.getCanvas(e).overlayImage:null}removeOverlay(e=this.getCurrentView()){let t=this.getCanvas(e);t.overlayImage=null,this.updateCanvas(),t.renderAll()}setOverlayImage(e,t=this.getCurrentView()){let n=this.getCanvas(t);n.setOverlayImage(e,()=>{this.adjustSize(n.overlayImage),this.updateCanvas(),n.renderAll()},{excludeFromExport:!0,originX:"left",crossOrigin:"anonymous",originY:"top"})}addDesign(e,t,n={},r=this.getCurrentView()){this.addImage(t,{...n,name:e,itemType:"Design",itemGroup:"Layers",perPixelTargetFind:i.Z.getState().defaults.perPixelTargetFind||!1},r),s.Z.initEvent("addDesign",[e,t,n,r])}addUpload(e,t,n={},r=this.getCurrentView()){this.addImage(t,{...n,name:e,itemType:"Upload",itemGroup:"Layers",perPixelTargetFind:i.Z.getState().defaults.perPixelTargetFind||!1},r),s.Z.initEvent("addUpload",[e,t,n,r])}reverseCurveText(e,t){"text-curved"==e.type&&(e.set({reverse:t}),e.canvas.renderAll(),this.updateCanvas())}setRadius(e,t){"text-curved"==object.type&&(e.set({radius:t}),e.canvas.renderAll(),this.updateCanvas())}setSpacing(e,t){"text-curved"==e.type&&(e.set({spacing:t}),e.canvas.renderAll(),this.updateCanvas())}curveText(e,t=!0,n=this.getCurrentView()){const{fontFamily:r,id:i,left:o,top:s}=e;let l;this.loading=!0,1==t?l=new a.fabric.TextCurved(e.text,{text:e.text,id:i,left:o,top:s,fontFamily:r,itemType:"Text",itemGroup:"Layers"}):0==t&&(l=new a.fabric.IText(e.text,{text:e.text,id:i,left:o,top:s,fontFamily:r,itemType:"Text",itemGroup:"Layers"}));let c=this.addObject(l,n,!1);return this.getCanvas(n).remove(e),this.loading=!1,this.setActiveObject(l),c}addQrCode(e,t={},n=this.getCurrentView(),r=i.Z.getState().defaults.adjustObjectAdded){this.getCanvas(),g.toString(e,{margin:0,type:"svg",color:{dark:"#010599FF",light:"#0000"}}).then(i=>{a.fabric.loadSVGFromString(i,(i,o)=>{var l=a.fabric.util.groupSVGElements(i,o);return l.set({id:f()(),itemType:"QrCode",itemGroup:"Layers",...t}),s.Z.initEvent("addQrCode",[n,e,l]),this.addObject(l,n,r)},null,{crossOrigin:"anonymous"})}).catch(e=>{console.error(e)})}addText(e,t={},n=this.getCurrentView(),r=i.Z.getState().defaults.adjustObjectAdded){let o=new a.fabric.IText(e,{id:f()(),left:100,top:100,fontFamily:null!=i.Z.getState().defaults.text&&i.Z.getState().defaults.text.fontFamily?i.Z.getState().defaults.text.fontFamily:"Arial",fill:null!=i.Z.getState().defaults.text&&i.Z.getState().defaults.text.color?i.Z.getState().defaults.text.color:"#000000",itemType:"Text",itemGroup:"Layers",price:null!=i.Z.getState().defaults.text&&i.Z.getState().defaults.text.price?i.Z.getState().defaults.text.price:0,perPixelTargetFind:i.Z.getState().defaults.perPixelTargetFind||!1,...t});return null!=i.Z.getState().defaults.text&&null!=i.Z.getState().defaults.text.width&&o.scaleToWidth(i.Z.getState().defaults.text.width),s.Z.initEvent("addText",[e,o,n]),this.addObject(o,n,r)}addMarker(e,t={},n=this.getCurrentView(),r=(()=>{})){this.loadImage(i=>{i.set({id:f()(),hoverCursor:"pointer",bringtofront:!0,itemType:"Marker",itemGroup:"Tools",selectable:!1,originX:"center",originY:"center",...t}),i.scaleToWidth(20);let a=this.addObject(i,n,!1);return r(i),s.Z.initEvent("addMarker",[e,i,n]),a},e,t,n)}updateMarker(e,t,n={},r=this.getCurrentView()){let i=this.findObject(t,r,!0),a=i.getScaledWidth();i.markerIcon!=e?this.loadImage(e=>(e.set({left:i.left,top:i.top,id:i.id,originX:"center",originY:"center",hoverCursor:"pointer",bringtofront:!0,itemType:"Marker",itemGroup:"Tools",selectable:!1,...n}),e.scaleToWidth(a),this.loading=!0,this.remove(i),this.loading=!1,this.addObject(e,r,!1)),e,n,r):(i.set({...n}),this.updateCanvas(r)),s.Z.initEvent("updateMarker",[t,i,r])}addImage(e,t,n=this.getCurrentView(),r=i.Z.getState().defaults.adjustObjectAdded,a=(()=>{})){return this.loadImage(i=>{i.set({id:f()(),...t}),s.Z.initEvent("addImage",[e,n]);let o=this.addObject(i,n,r);return a(o),o.canvas.renderAll(),o},e,t,n)}loadImage(e=(()=>{}),t,n,r=this.getCurrentView()){s.Z.isValidURL(s.Z.getUrl(t))?"svg"==s.Z.getExtension(s.Z.getUrl(t))||-1!==s.Z.getUrl(t).indexOf("data:image/svg")?a.fabric.loadSVGFromURL(s.Z.getUrl(t),(t,n)=>{var r=a.fabric.util.groupSVGElements(t,n,!0);return e(r),r},null,{crossOrigin:"anonymous"}):["jpeg","jpg","gif","png"].indexOf(s.Z.getExtension(s.Z.getUrl(t)))&&a.fabric.Image.fromURL(s.Z.getUrl(t),t=>(e(t),t),{crossOrigin:"anonymous"}):a.fabric.loadSVGFromString(t,(t,n)=>{var r=a.fabric.util.groupSVGElements(t,n);return e(r),r},null,{crossOrigin:"anonymous"})}getBoundingBox(e,t=this.getCanvas()){if(null!=e.clippedTo&&null!=e.clipPath){var n=e.clipPath;return r={top:n.top,left:n.left,right:n.left+n.getBoundingRect().width,bottom:n.top+n.getBoundingRect().height,width:n.getScaledWidth(),height:n.getScaledHeight()}}{var r={top:0,left:0,right:t.width,bottom:t.height,width:t.width,height:t.height};let e=t.getObjects().find(e=>"Edge"==e.itemType);if(e){let t=e._objects.find(e=>"Frame"==e.itemType).strokeWidth;r={top:r.top+t,left:r.left+t,right:r.right-t,bottom:r.bottom-t,width:r.width-2*t,height:r.height-2*t}}return r}}allowSelection(e){e.set({allowSelection:!0})}disallowSelection(e){delete e.allowSelection}adjustSizeAll(e=this.getCurrentView()){let t=this.getCanvas(e);for(let n in this.getDrawingAreas(e)){let r=this.getDrawingAreas(e)[n];t.add(r)}let n=t.getObjects().filter(e=>"Edge"!=e.itemType&&"Tools"!=e.itemGroup),r=t.getObjects().filter(e=>"Marker"==e.itemType);n.forEach(e=>this.allowSelection(e)),t.discardActiveObject();var i=new a.fabric.ActiveSelection(n,{canvas:t});t.setActiveObject(i),this.adjustSize(i,t,!0),n.forEach(e=>this.disallowSelection(e)),t.discardActiveObject();for(let n in this.getDrawingAreas(e)){let r=this.getDrawingAreas(e)[n];t.remove(r)}r.forEach(e=>1==e.markerConstraints.alignCenterOnResize?this.align("center",e):""),t.renderAll(),s.Z.initEvent("adjustSizeAll",[])}adjustSize(e,t=this.getCanvas(),n=!1){1==i.Z.getState().defaults.adjustFullSize&&"Elements"!=e.itemGroup?(this.adjustWidth(e,t),e.getScaledHeight()<this.getBoundingBox(e,t).height&&this.adjustHeight(e,t)):((e.getScaledWidth()>this.getBoundingBox(e,t).width||1==n)&&this.adjustWidth(e,t),e.getScaledHeight()>this.getBoundingBox(e,t).height&&this.adjustHeight(e,t)),this.align("center",e,{},t),s.Z.initEvent("adjustSize",[e])}adjustWidth(e,t=this.getCanvas(),n){null==n&&(n=this.getBoundingBox(e,t).width),e.scaleToWidth(n),s.Z.initEvent("adjustWidth",[e])}adjustHeight(e,t=this.getCanvas(),n){null==n&&(n=this.getBoundingBox(e,t).height),e.scaleToHeight(n),s.Z.initEvent("adjustHeight",[e])}align(e="center",t=this.getCanvas().getActiveObject(),n={},r=this.getCanvas()){switch(e){case"center":null==n.horizontal&&(n.horizontal=!0),null==n.vertical&&(n.vertical=!0),1==n.horizontal&&t.setPositionByOriginX(new a.fabric.Point(this.getBoundingBox(t,r).width/2+this.getBoundingBox(t,r).left,0),"center","center"),1==n.vertical&&t.setPositionByOriginY(new a.fabric.Point(0,this.getBoundingBox(t,r).height/2+this.getBoundingBox(t,r).top),"center","center");break;case"top":t.setPositionByOriginY(new a.fabric.Point(0,t.getBoundingRect().height/2+this.getBoundingBox(t,r).top),"center","center");break;case"left":t.setPositionByOriginX(new a.fabric.Point(this.getBoundingBox(t,r).left+t.getBoundingRect().width/2,0),"center","center");break;case"right":t.setPositionByOriginX(new a.fabric.Point(this.getBoundingBox(t,r).left+this.getBoundingBox(t,r).width-t.getBoundingRect().width,0),"left","top");break;case"bottom":t.setPositionByOriginY(new a.fabric.Point(0,this.getBoundingBox(t,r).top+this.getBoundingBox(t,r).height-t.getBoundingRect().height),"left","top");break;case"vertically":t.setPositionByOriginY(new a.fabric.Point(0,this.getBoundingBox(t,r).height/2+this.getBoundingBox(t,r).top),"center","center");break;case"horizontally":t.setPositionByOriginX(new a.fabric.Point(this.getBoundingBox(t,r).width/2+this.getBoundingBox(t,r).left,0),"center","center");break;default:console.log("Alignement not found")}s.Z.initEvent("align",[e,t]),t.setCoords(),r.renderAll()}getPrice(e=i.Z.getState().price||0){let t=this.getCanvases("toArray"),n=[];t.forEach(e=>{n=[...n,...e.getObjects()]});let r=n.filter(e=>"Layers"==e.itemGroup);return e=Number(e),e+=Number(this.getPricingRules(t,r)),e+=Number(this.getStandardPrices(n))}getPricingRules(e=this.getCanvases("toArray"),t){let n=0;if(null==i.Z.getState().pricingRules)return n;let r=[...i.Z.getState().pricingRules];for(let i=0;i<r.length;i++){let a=r[i];n+=Number(this.filterLayers(a,t,e))}return n}getStandardPrices(e){let t=0,n=[];for(let r=0;r<e.length;r++){let i=e[r];if(null!=i.price&&(t+=Number(i.price)),"Elements"==i.itemGroup){let e=u.Z.getActiveVariation(i.derivatives||i.variations);n.indexOf(i.name)&&null!=e.price&&(n.push(i.name),t+=Number(e.price))}if(i.printingMethod){let e=this.getPrintingMethods().find(e=>e.name===i.printingMethod);e&&null!=e.price&&(t+=Number(e.price))}}let r=()=>null!=i.Z.getState().fabric.services?i.Z.getState().fabric.services:null!=s.Z.options.fabric&&null!=s.Z.options.fabric.services?s.Z.options.fabric.services:null;if(null!=r()){let e=r().find(e=>1==e.active);e&&null!=e.price&&(t+=Number(e.price))}return t}filterLayers(e,t,n){let r=0;if("canvasSize"!=e.property)null!=e.target&&(null==e.target.types||s.Z.isEmpty(e.target.types)||t.filter(t=>e.target.types.indexOf(t.itemType)>-1),null!=e.target.view&&t.filter(t=>s.Z.stringToArray(e.target.view).indexOf(t.canvas.lowerCanvasEl.id)>-1)),r+=Number(this.applyPricingRule(e,t));else for(let t=0;t<n.length;t++){n[t];if(e.conditions)for(let t=0;t<e.conditions.length;t++){let n=e.conditions[t],i=!1;if(null!=n.height&&(i=s.Z.operators(n.operator,object.height,n.height)),null!=n.width&&(i=s.Z.operators(n.operator,object.width,n.width)),1==i&&(r+=Number(n.price)),"all"!=e.match)break}if("first"==e.scope)break}return r}applyPricingRule(e,t){let n=0;for(let r=0;r<t.length;r++){let i=t[r];if(e.conditions)for(let r=0;r<e.conditions.length;r++){let a=e.conditions[r],o=this.applyCondition(a,e,i,t);if(n+=Number(o.price),"all"!=e.match&&1==o.executed)break}if("first"==e.scope)break}return n}applyCondition(e,t,n,r){let i=0,a=!1;switch(t.property){case"scale":null!=e.scaleX&&(a=s.Z.operators(e.operator,n.scaleX,e.scaleX)),null!=e.scaleY&&(a=s.Z.operators(e.operator,n.scaleY,e.scaleY)),1==a&&(i=Number(e.price));break;case"layerSize":null!=e.height&&(a=s.Z.operators(e.operator,n.getScaledHeight(),e.height)),null!=e.width&&(a=s.Z.operators(e.operator,n.getScaledHeight(),e.width)),1==a&&(i=Number(e.price));break;case"textLength":"i-text"!=n.type&&"text"!=n.type||!s.Z.operators(e.operator,n._textLines.map(e=>e.length).reduce((e,t)=>e+t),e.value)||(a=!0,i=Number(e.price));break;case"textLines":"i-text"!=n.type&&"text"!=n.type||!s.Z.operators(e.operator,n._unwrappedTextLines.length,e.value)||(a=!0,i=Number(e.price));break;case"layersAmount":s.Z.operators(e.operator,r.length,e.value)&&(a=!0,i=Number(e.price));break;case"usedColorsAmount":let t=[];for(let e=0;e<r.length;e++){let n=r[e];if("group"==n.type){let e=n._objects;for(let n=0;n<e.length;n++)-1==t.indexOf(e[n].fill)&&t.push(e[n].fill)}else-1==t.indexOf(n.fill)&&t.push(n.fill)}s.Z.operators(e.operator,t.length,e.value)&&(a=!0,i=Number(e.price))}return{price:i,executed:a}}svgBoundingBox(e,t={},n=this.getCurrentView()){a.fabric.loadSVGFromString(e,(e,r)=>{var i=a.fabric.util.groupSVGElements(e,r,!0);i.set({id:f()(),perPixelTargetFind:!0,absolutePositioned:!0,fill:"blue",opacity:.5,objectCaching:!0,view:n,excludeFromExport:!0,itemType:"Drawing area",itemGroup:"Helpers",...t}),i.scaleToWidth(300),i.setCoords(),o.Z.closeAllMenus(),this.drawingAreas[this.getCurrentView()].push(i),i.canvas=this.getCanvas(n),this.setActiveObject(i)},null,{crossOrigin:"anonymous"})}createBoundingBox(e,t="Rect",n=this.getCurrentView()){let r,i=this.getCanvas(n);return r=new a.fabric[t]({id:f()(),objectCaching:!0,absolutePositioned:!0,perPixelTargetFind:!0,excludeFromExport:!0,itemType:"Drawing area",itemGroup:"Helpers",view:n,fill:"blue",opacity:.5,...e}),this.drawingAreas[this.getCurrentView()].push(r),r.canvas=i,r}drawBoundingBox(e="Rect",t=this.getCurrentView()){var n,a,o,l,u,h,f,d=this.getCanvas(t);if(n=n=>{this.loading=!0,d.discardActiveObject().renderAll(),this.preventModification();var r=d.getPointer(n.e);l=!0,u=r.x,h=r.y,f=this.createBoundingBox({top:h,left:u},e,t),d.add(f),f.canvas=this.getCanvas(t),s.Z.initEvent("drawBoundingBox",[f,t])},a=t=>{if(l){var n=d.getPointer(t.e);u>n.x&&f.set({left:Math.abs(n.x)}),h>n.y&&f.set({top:Math.abs(n.y)}),"Circle"==e?f.set({radius:Math.abs(u-n.x)/2}):"Ellipse"==e?f.set({rx:Math.abs(u-n.x)/2,ry:Math.abs(h-n.y)/2}):(f.set({width:Math.abs(u-n.x)}),f.set({height:Math.abs(h-n.y)})),d.renderAll()}},o=e=>{if(c.Z.close("drawBoundingBox"),l=!1,void 0!==d.__eventListeners&&void 0!==d.__eventListeners["mouse:down"]&&-1!==d.__eventListeners["mouse:down"].findIndex(e=>e.toString()==n.toString())){let e=d.__eventListeners["mouse:down"].find(e=>"drawBoundingBox"===e.name);d.off("mouse:down",e);let t=d.__eventListeners["mouse:move"].find(e=>"drawingBoundingBox"===e.name);d.off("mouse:move",t);let n=d.__eventListeners["mouse:up"].find(e=>"doneBoundingBox"===e.name);d.off("mouse:up",n)}f.setCoords(),d.remove(f),this.loading=!1,this.preventModification(),f.canvas=d,d.renderAll()},void 0!==d.__eventListeners&&void 0!==d.__eventListeners["mouse:down"]&&-1!==d.__eventListeners["mouse:down"].findIndex(e=>e.toString()==n.toString())){let e=d.__eventListeners["mouse:down"].find(e=>e.toString()==n.toString());d.off("mouse:down",e);let t=d.__eventListeners["mouse:move"].find(e=>e.toString()==a.toString());d.off("mouse:move",t);let r=d.__eventListeners["mouse:up"].find(e=>e.toString()==o.toString());d.off("mouse:up",r),c.Z.close("drawBoundingBox")}else(0,c.Z)({key:"drawBoundingBox",container:".ask-designer-content",position:"absolute",content:r.createElement(m.zt,{store:i.Z},s.Z.getTranslation("Use your mouse and hold the click to trace a drawing area")),delay:0,positionX:"left"}),d.on("mouse:down",n),d.on("mouse:move",a),d.on("mouse:up",o)}makeDownload(e){const{target:t,...n}=e;switch(n.scope){case"canvas":this.download(this.getCanvas(t),{...n,name:t});break;case"boxes":this.download(this.findDrawingArea(t),{...n,name:t});break;case"elements":let e=this.findObject(t);this.download(e,{...n,name:e.name||e.id})}}download(e,{format:t="png",name:r="download",width:i=null,showMarks:o=!1,unit:l="px",marks:c={offset:.125,bleed:.125,margin:.2,unit:"in"},dpi:u=300}={}){let h,f,g,m;const v=e=>{let t;return t=null==e.type?e.toSVG():this.getCanvas(e.view).toSVG(e),t},y=(e=!0,t=!0,n=!0)=>a.fabric.util.parseUnit(`${(e?Number(c.offset):0)+(t?Number(c.bleed):0)+(n?Number(c.margin):0)}${c.unit}`);switch(m=i?a.fabric.util.parseUnit(i+l)/(null!=e.getScaledWidth?e.getScaledWidth():e.width):1,t){case"png":h=(0,d.Hv)(e.toDataURL({multiplier:m,format:t}),300),g=h.replace(/^data:image\/(png|jpeg);base64,/,""),f=s.Z.b64toBlob(g,"image/"+t);break;case"jpeg":h=(0,d.Hv)(e.toDataURL({multiplier:m,format:t}),u),g=h.replace(/^data:image\/(png|jpeg);base64,/,""),f=s.Z.b64toBlob(g,"image/"+t);break;case"svg":f=new Blob([v(e)],{type:"image/svg+xml;charset=utf-8"});break;case"pdf":return n.e(458).then(n.t.bind(n,560,23)).then(({default:n})=>{let i,a;if(h=(0,d.Hv)(e.toDataURL({multiplier:m}),u),e.getScaledWidth)i=.75*e.getScaledWidth()*m,a=.75*e.getScaledHeight()*m;else{let t=e.getObjects().find(e=>"Edge"==e.itemType);if(null!=t){let n=t._objects.find(e=>"Frame"==e.itemType).strokeWidth;i=.75*(parseFloat(e.width)-2*n)*m,a=.75*(parseFloat(e.height)-2*n)*m}else i=.75*parseFloat(e.width)*m,a=.75*parseFloat(e.height)*m}let s=new n({orientation:e.width>e.height?"landscape":"portrait",unit:"pt",format:[i+(o?.75*y():0),a+(o?.75*y():0)]});if(s.addImage(h,"png",o?.75*y()/2:0,o?.75*y()/2:0),o){let e=.75*y()/2,t=.75*y(!0,!0,!1)/2;s.setLineWidth(.25),s.line(0,t,.66*t,t),s.line(t,0,t,.66*t),s.line(i+2*e-t,0,i+2*e-t,.66*t),s.line(i+2*e-.66*t,t,i+2*e,t),s.line(0,a+2*e-t,.66*t,a+2*e-t),s.line(t,a+2*e-.66*t,t,a+2*e),s.line(i+2*e-.66*t,a+2*e-t,i+2*e,a+2*e-t),s.line(i+2*e-t,a+2*e-.66*t,i+2*e-t,a+2*e)}s.save(r+"."+t)}).catch(e=>console.log(e))}(0,p.saveAs)(f,r+"."+t)}ungroup(e=this.getActiveObject()){let t=e.canvas;var n=e._objects;e._restoreObjectsState(),t.remove(e);for(var r=0;r<n.length;r++)n[r].set({perPixelTargetFind:!0}),t.add(n[r]);t.renderAll()}group(e=this.getActiveObjects()){let t=e[0].canvas,n=new a.fabric.Group(e);t.add(n);for(var r=0;r<e.length;r++)t.remove(e[r]);t.renderAll()}preventModification(e=this.getCurrentView()){let t=this.getCanvas(e);t.selection=!t.selection;let n=t.getObjects();if(n.length>0){for(var r in n)n[r].lockMovementX=!n[r].lockMovementX,n[r].lockMovementY=!n[r].lockMovementY,n[r].lockScalingX=!n[r].lockScalingX,n[r].lockScalingY=!n[r].lockScalingY,n[r].lockUniScaling=!n[r].lockUniScaling,n[r].lockRotation=!n[r].lockRotation;t.renderAll()}return n}print(e=this.getCurrentView()){var t=this.getCanvas(e).toDataURL("image/png"),n=window.open("","","resizable,scrollbars,status");n.document.write('<iframe src="'+t+'" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>'),n.document.close(),n.focus(),n.print()}save(e="download",t=["views","currentView","templates","canvases","drawingAreas","frames","sizes","services"]){let n=this.getFabricState(t);var r=new Blob([n],{type:"text/plain;charset=utf-8"});(0,p.saveAs)(r,e+".json"),o.Z.closeMenu("Snap grid")}getFabricState(e=["views","currentView","templates","canvases","drawingAreas","frames","sizes","services"]){let t={},n=i.Z.getState().fabric;if(0==e.length)for(let e=0;e<["views","currentView","templates","canvases","drawingAreas","frames","sizes","services"].length;e++){let r=["views","currentView","templates","canvases","drawingAreas","frames","sizes","services"][e];null!=n[r]?t[r]=n[r]:null!=s.Z.options.fabric&&s.Z.options.fabric[r]&&(t[r]=s.Z.options.fabric[r])}else for(let r=0;r<e.length;r++){let i=e[r];null!=n[i]?t[i]=n[i]:null!=s.Z.options.fabric&&s.Z.options.fabric[i]&&(t[i]=s.Z.options.fabric[i])}return JSON.stringify(t)}setAngle(e,t=this.getActiveObject(),n=this.getCurrentView()){t.rotate(e),t.canvas.renderAll(),this.updateCanvas(n)}setFont(e,t=this.getActiveObject(),n=this.getCurrentView()){let r=t.getCenterPoint();t.set({fontFamily:e}),t.setPositionByOriginX(r,"center","center"),t.canvas.renderAll(),this.updateCanvas(n),s.Z.initEvent("setFont",[t,n])}setScale(e,t=this.getActiveObject(),n=this.getCurrentView()){let r=t.getCenterPoint(),i=e/t.scaleX;t.set({scaleX:e,scaleY:t.scaleY*i}),t.setPositionByOriginX(r,"center","center"),t.canvas.renderAll(),this.updateCanvas(n),s.Z.initEvent("setScale",[e,t,n])}setStrokeWidth(e,t=this.getActiveObject(),n=this.getCurrentView()){let r=t.getCenterPoint();t.set({strokeWidth:parseFloat(e)}),t.setPositionByOriginX(r,"center","center"),t.canvas.renderAll(),this.updateCanvas(n),s.Z.initEvent("setStrokeWidth",[e,t,n])}setFontItalic(e=this.getActiveObject(),t=this.getCurrentView()){let n,r=e.getCenterPoint();switch(e.fontStyle){case"normal":n="italic";break;case"italic":n="normal"}e.set({fontStyle:n}),e.setPositionByOriginX(r,"center","center"),e.canvas.renderAll(),this.updateCanvas(t),s.Z.initEvent("setFontItalic",[e,t])}setFontBold(e=this.getActiveObject(),t=this.getCurrentView()){let n,r=e.getCenterPoint();switch(e.fontWeight){case"normal":n="bold";break;case"bold":n="normal"}e.set({fontWeight:n}),e.setPositionByOriginX(r,"center","center"),e.canvas.renderAll(),this.updateCanvas(t),s.Z.initEvent("setFontBold",[e,t])}setFontUnderline(e=this.getActiveObject(),t=this.getCurrentView()){let n=e.getCenterPoint(),r=!e.underline;e.set({underline:r}),e.canvas.renderAll(),e.setPositionByOriginX(n,"center","center"),this.updateCanvas(t),s.Z.initEvent("setFontUnderline",[e,t])}setText(e,t=this.getActiveObject(),n=this.getCurrentView()){let r=t.getCenterPoint();t.set({text:e}),t.setPositionByOriginX(r,"center","center"),t.canvas.renderAll(),this.updateCanvas(n),s.Z.initEvent("setText",[e,t,n])}setZoom(e,t=this.getCurrentView()){let n=this.getCanvas(t);n.setZoom(e),n.renderAll(),this.updateCanvas(t),s.Z.initEvent("setZoom",[e,t])}updateObjectColors(e,t=this.getCanvas()){e.setCoords();let n=this.getBoundingBox(e,e.canvas);e.getBoundingRect().left+e.getBoundingRect().width<=n.left||e.getBoundingRect().left>n.right||e.getBoundingRect().top+e.getBoundingRect().height<=n.top||e.getBoundingRect().top>n.bottom?e.set({cornerColor:"rgba(216, 68, 68, 1)",borderColor:"rgba(216, 68, 68, 1)"}):e.getBoundingRect().left<n.left||e.getBoundingRect().top<n.top||e.getBoundingRect().left+e.getBoundingRect().width>n.right||e.getBoundingRect().top+e.getBoundingRect().height>n.bottom?e.set({cornerColor:"rgba(255,165,0,1)",borderColor:"rgba(255,165,0,1)"}):e.set({cornerColor:"rgba(24,144,255,1)",borderColor:"rgba(24,144,255,1)"}),s.Z.initEvent("updateObjectColors",[t,e])}magnifyingGlass(e=this.getCurrentView()){var t,n,r;if(n=t=>{i.set({visible:!0}),this.getCanvas(e).renderAll()},r=t=>{i.set({visible:!1}),this.getCanvas(e).renderAll()},t=t=>{o=t.pointer.x,s=t.pointer.y,i.set("left",-(l-1)*o),i.set("top",-(l-1)*s),i.clipPath.set({left:o,top:s}),i.clipPath.setCoords(),this.getCanvas(e).renderAll()},void 0!==this.getCanvas(e).__eventListeners&&void 0!==this.getCanvas(e).__eventListeners["mouse:move"]&&-1!==this.getCanvas(e).__eventListeners["mouse:move"].findIndex(e=>e.toString()==t.toString())){let i=this.getCanvas(e).__eventListeners["mouse:move"].find(e=>e.toString()==t.toString()),a=this.getCanvas(e).__eventListeners["mouse:over"].find(e=>e.toString()==n.toString()),o=this.getCanvas(e).__eventListeners["mouse:out"].find(e=>e.toString()==r.toString());this.remove(this.getCanvas(e).getObjects().find(e=>"magnifying"==e.name)),this.getCanvas(e).off("mouse:move",i),this.getCanvas(e).off("mouse:over",a),this.getCanvas(e).off("mouse:out",o)}else{var i,o=300,s=300,l=2,c=this.getCanvas(e).width,u=this.getCanvas(e).height;this.getCanvas(e).setBackgroundColor("#fff"),a.fabric.Image.fromURL(this.getCanvas(e).toDataURL({format:"jpeg",multiplier:2}),t=>{this.getCanvas(e).setBackgroundColor("transparent"),(i=a.fabric.util.object.clone(t)).set({width:l*c,height:l*u,hoverCursor:"zoom-in",name:"magnifying",visible:!1,clipPath:new a.fabric.Circle({absolutePositioned:!0,radius:100,originX:"center",originY:"center"})}),this.getCanvas(e).add(i),this.getCanvas(e).renderAll()},{crossOrigin:"anonymous"}),this.getCanvas(e).on("mouse:move",t),this.getCanvas(e).on("mouse:over",n),this.getCanvas(e).on("mouse:out",r)}}objectListeners(e=this.getCanvas()){var t,n=this.getCanvas(e);if(t=(t,r)=>{if("over"==r){var i=n.getPointer(t.e);null===t.target||void 0===t.target.itemGroup||"Elements"!=t.target.itemGroup&&"Marker"!=t.target.itemType||(null!=t.target.name&&this.tooltip(!0,i,e,t.target.name),this.mouseOverObject(t.target,e))}else if("move"==r){i=n.getPointer(t.e);null===t.target||void 0===t.target.itemGroup||"Elements"!=t.target.itemGroup&&"Marker"!=t.target.itemType||null==t.target.name||this.tooltip(!0,i,e,t.target.name)}else if("out"==r)null===t.target||void 0===t.target.itemGroup||"Elements"!=t.target.itemGroup&&"Marker"!=t.target.itemType||this.mouseOutObject(t.target,e),this.tooltip(!1);else if(1==r){if(t.deselected&&t.deselected[0]&&"Drawing area"==t.deselected[0].itemType){let e=t.deselected[0];e.set({perPixelTargetFind:!0}),n.remove(e),n.renderAll()}if(t.selected&&t.selected[0]&&"Drawing area"==t.selected[0].itemType){let e=t.selected[0];e.set({perPixelTargetFind:!1}),n.add(e),n.renderAll()}this.tooltip(!1)}else{if(t.deselected&&t.deselected[0]&&"Drawing area"==t.deselected[0].itemType){let e=t.deselected[0];e.set({perPixelTargetFind:!0}),n.remove(e),n.renderAll()}this.tooltip(!1)}},void 0!==n.__eventListeners&&void 0!==n.__eventListeners["selection:created"]&&-1!==n.__eventListeners["selection:created"].findIndex(e=>e.toString()==t.toString())){let e=n.__eventListeners["selection:created"].find(e=>e.toString()==t.toString());n.off("selection:created",e),n.off("selection:updated",e),n.off("selection:cleared",e)}else n.on("mouse:move",e=>{t(e,"move")}),n.on("mouse:over",e=>{t(e,"over")}),n.on("mouse:out",e=>{t(e,"out")}),n.on("selection:created",e=>{t(e,!0)}),n.on("selection:updated",e=>{t(e,!0)}),n.on("selection:cleared",e=>{t(e,!1)})}tooltip(e,t,n,r){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return;let i=s.Z.responsive();1==e?(this.tooltipEl=document.querySelector(".ask-canvas-tooltip"),null==this.tooltipEl&&(this.tooltipEl=document.createElement("span"),this.tooltipEl.textContent=r,this.tooltipEl.className="ask-canvas-tooltip",document.body.appendChild(this.tooltipEl)),this.tooltipEl.style.left=t.x*i[n]+this.getCanvas(n)._offset.left+30+"px",this.tooltipEl.style.top=t.y*i[n]+this.getCanvas(n)._offset.top+"px"):(this.tooltipEl=document.querySelector(".ask-canvas-tooltip"),null!=this.tooltipEl&&this.tooltipEl.parentNode.removeChild(this.tooltipEl))}adjustBoundingBoxColors(e=this.getCanvas()){var t,n=this.getCanvas(e);if(t=e=>{let t=e.target;this.updateObjectColors(t,n)},void 0!==n.__eventListeners&&void 0!==n.__eventListeners["object:moving"]&&-1!==n.__eventListeners["object:moving"].findIndex(e=>e.toString()==t.toString())){let e=n.__eventListeners["object:moving"].find(e=>e.toString()==t.toString());n.off("object:moving",e),n.off("selection:created",e),n.off("selection:updated",e),n.off("object:scaling",e),n.off("object:rotating",e),n.off("object:modified",e)}else n.on("object:moving",t),n.on("selection:created",t),n.on("selection:updated",t),n.on("object:scaling",t),n.on("object:rotating",t),n.on("object:modified",t)}boundingBoxesBorders(e=this.getCurrentView()){var t,n,r=this.getCanvas(e);if(t=t=>{var n=r.getObjects().filter(e=>"Drawing area borders"==e.itemType);for(var a in n)r.remove(n[a]);let o=t.target;null!=o.clippedTo&&null!=o.clipPath&&o.clipPath.clone(t=>{t.set({id:f()(),strokeWidth:1/t.scaleX,itemType:"Drawing area borders",itemGroup:"Tools",excludeFromExport:!0,stroke:i.Z.getState().defaults.drawingAreasBorders||"rgb(117 117 117)",fill:"transparent",perPixelTargetFind:!0},["top","left","width","height"]),t.setCoords(),this.addObject(t,e,!1),t.canvas.renderAll()});null!=t.deselected&&"Drawing area"==t.deselected[0].itemType&&r.remove(t.deselected[0])},n=e=>{var t=r.getObjects().filter(e=>"Drawing area borders"==e.itemType);for(var n in t)r.remove(t[n]);null!=e.deselected&&"Drawing area"==e.deselected[0].itemType&&r.remove(e.deselected[0])},void 0!==r.__eventListeners&&void 0!==r.__eventListeners["selection:created"]&&-1!==r.__eventListeners["selection:created"].findIndex(e=>e.toString()==t.toString())){let e=r.__eventListeners["selection:created"].find(e=>e.toString()==t.toString());r.off("selection:created",e),r.off("selection:updated",e);let i=r.__eventListeners["object:rotating"].find(e=>e.toString()==n.toString());r.off("selection:cleared",i)}else r.on("selection:created",t),r.on("selection:updated",t),r.on("selection:cleared",n);r.on("selection:cleared",e=>{if(null!=e&&null!=e.deselected){let t=e.deselected.filter(e=>"Drawing area"==e.itemType);for(let e in t)t[e].set({selectable:!1,strokeWidth:0,hoverCursor:"default"})}})}eyeDropper(e=this.getCurrentView(),t={}){var n,r,i=this.getCanvas(e);if(n=e=>{let a=i.__eventListeners["mouse:up"].find(e=>e.toString()==n.toString()),s=i.__eventListeners["mouse:move"].find(e=>e.toString()==r.toString());i.off("mouse:up",a),i.off("mouse:move",s),o.Z.openMenu("Remove colors"),null!=t.onMouseUp&&null!=e.target&&t.onMouseUp(e)},r=e=>{null!=t.onMove&&t.onMove(e)},void 0!==i.__eventListeners&&void 0!==i.__eventListeners["mouse:up"]&&-1!==i.__eventListeners["mouse:up"].findIndex(e=>e.toString()==n.toString())){let e=i.__eventListeners["mouse:up"].find(e=>e.toString()==n.toString()),t=i.__eventListeners["mouse:move"].find(e=>e.toString()==r.toString());i.off("mouse:up",e),i.off("mouse:move",t)}else i.on("mouse:up",n),i.on("mouse:move",r)}constraints(e=this.getCurrentView()){var t,n,r,a,o=this.getCanvas(e);if(r=e=>{let t=e.target;null!=t.constraints&&(t.constraints.maxWidth&&t.getScaledWidth()>t.constraints.maxWidth&&t.scaleToWidth(t.constraints.maxWidth),t.constraints.maxHeight&&t.getScaledHeight()>t.constraints.maxHeight&&t.scaleToHeight(t.constraints.maxHeight))},t=e=>{let t=e.target;"Elements"==t.itemGroup&&"frontend"==i.Z.getState().mode&&t.set({lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0}),null!=t.constraints&&t.set({lockMovementX:!!t.constraints.lockMovementX,lockMovementY:!!t.constraints.lockMovementY,lockRotation:!!t.constraints.lockRotation,lockScalingX:!!t.constraints.lockScaling,lockScalingY:!!t.constraints.lockScaling})},n=e=>{let t=e.target;null!=t.constraints&&null!=t.constraints.maxChars&&t.on("editing:entered",()=>{t.hiddenTextarea.setAttribute("maxlength",t.constraints.maxChars)})},a=e=>{let t=e.target;1==t.isEditing&&null!=t.constraints&&null!=t.constraints.lineBreaks&&1==t.constraints.lineBreaks&&(t.set({text:t.text.replace(/\n/g,"")}),t.exitEditing(),t.enterEditing()),null!=t.constraints&&null!=t.constraints.transform&&("uppercase"==t.constraints.transform?t.set({text:t.text.toUpperCase()}):"lowercase"==t.constraints.transform&&t.set({text:t.text.toLowerCase()}))},void 0!==o.__eventListeners&&void 0!==o.__eventListeners["selection:created"]&&-1!==o.__eventListeners["selection:created"].findIndex(e=>e.toString()==t.toString())){let e=o.__eventListeners["selection:created"].find(e=>e.toString()==t.toString()),r=o.__eventListeners["object:added"].find(e=>e.toString()==n.toString()),i=o.__eventListeners["object:scaling"].find(e=>e.toString()==i.toString()),a=o.__eventListeners["text:changed"].find(e=>e.toString()==a.toString());o.off("selection:created",e),o.off("object:added",r),o.off("object:scaling",i),o.off("text:changed",a)}else o.on("object:scaling",r),o.on("selection:created",t),o.on("selection:updated",t),o.on("object:added",n),o.on("text:changed",a)}keyboardControls(e){var t=e=>{let t=this.getCurrentView(),n=this.getCanvas(t);e=e||window.event;if(null!=n){var r=n.getActiveObject();if(37===e.keyCode){if(e.preventDefault(),r){var i=r.get("left")-1;r.set("left",i)}}else if(39===e.keyCode){if(e.preventDefault(),r){i=r.get("left")+1;r.set("left",i)}}else if(38===e.keyCode){if(e.preventDefault(),r){i=r.get("top")-1;r.set("top",i)}}else if(40===e.keyCode&&(e.preventDefault(),r)){i=r.get("top")+1;r.set("top",i)}r&&(r.setCoords(),n.renderAll(),this.updateCanvas(t))}};1==e&&null==this.eventListeners.keyboardControls?(this.eventListeners.keyboardControls=!0,document.addEventListener("keydown",t,!1)):0==e&&this.eventListeners.keyboardControls&&document.removeEventListener("keydown",t,!1)}orderLayers(e=this.getCurrentView()){var t,n,r,i=this.getCanvas(e);if(t=e=>{let t=e.target;if(void 0!==t){if(void 0!==t.clippedTo){let e=t.canvas.getObjects().filter(e=>e.clippedTo==t.clippedTo),r=t.canvas.getObjects().filter(e=>"Elements"==e.itemGroup&&1==e.bringtofront);if(e.length-1>0&&0==r.length){var n=i.getObjects().indexOf(e[e.length-2]);return void t.moveTo(n+1)}if(e.length>0&&r.length>0){n=i.getObjects().indexOf(r[0]);return void t.moveTo(n)}}if("magnifying"!=t.name&&"Marker"!=t.itemType)if("Elements"!=t.itemGroup)if("Layers"!=t.itemGroup);else{let e=t.canvas.getObjects().filter(e=>"Layers"==e.itemGroup),r=t.canvas.getObjects().filter(e=>"Elements"==e.itemGroup&&1==e.bringtofront||"Edge"==e.itemType);if(void 0!==t.bringtofront&&1==t.bringtofront)return void i.bringToFront(t);if(e.length-1>0&&0==r.length){n=i.getObjects().indexOf(e[e.length-2]);return void t.moveTo(n+1)}if(e.length>0&&r.length>0){n=i.getObjects().indexOf(r[0]);return void t.moveTo(n)}}else{let e=t.canvas.getObjects().filter(e=>"Elements"==e.itemGroup),r=t.canvas.getObjects().filter(e=>"Marker"==e.itemType);if(void 0!==t.bringtofront&&1==t.bringtofront){if(0==r.length)return void i.bringToFront(t);var n=i.getObjects().indexOf(r[0]);return void t.moveTo(n-1)}if(e.length>1){var n=i.getObjects().indexOf(e[0]);return void t.moveTo(n-1)}i.sendToBack(t)}else i.bringToFront(t)}},n=e=>{"Elements"==e.target.itemGroup?i.preserveObjectStacking=!0:i.preserveObjectStacking=!1},r=e=>{i.preserveObjectStacking=!1},void 0!==i.__eventListeners&&void 0!==i.__eventListeners["object:added"]&&-1!==i.__eventListeners["object:added"].findIndex(e=>e.toString()==t.toString())){let e=i.__eventListeners["object:added"].find(e=>e.toString()==t.toString()),a=i.__eventListeners["selection:cleared"].find(e=>e.toString()==n.toString()),o=i.__eventListeners["position:updated"].find(e=>e.toString()==t.toString()),s=i.__eventListeners["selection:updated"].find(e=>e.toString()==n.toString()),l=i.__eventListeners["selection:cleared"].find(e=>e.toString()==r.toString());i.off("object:added",e),i.off("position:updated",o),i.off("selection:created",a),i.off("selection:updated",s),i.off("selection:cleared",l)}else i.on("object:added",t),i.on("position:updated",t),i.on("selection:created",n),i.on("selection:updated",n),i.on("selection:cleared",r)}preventSelection(e=this.getCurrentView()){var t,n=this.getCanvas(e);if(t=e=>{let t=e.selected,r=n.getActiveObject();for(let e=0;e<t.length;e++){let n=t[e];"Elements"==n.itemGroup&&null!=r.removeWithUpdate&&1!=n.allowSelection&&r.removeWithUpdate(n)}},void 0!==n.__eventListeners&&void 0!==n.__eventListeners["selection:cleared"]&&-1!==n.__eventListeners["selection:cleared"].findIndex(e=>e.toString()==t.toString())){let e=n.__eventListeners["selection:cleared"].find(e=>e.toString()==t.toString());n.off("selection:created",e)}else n.on("selection:created",t)}preventBoundingBoxExit(e=this.getCurrentView()){var t,n=this.getCanvas(e);if(t=e=>{let t=e.target;t.setCoords();let r=this.getBoundingBox(e.target,n);(t.getBoundingRect().left+t.getBoundingRect().width<=r.left||t.getBoundingRect().left>r.right||t.getBoundingRect().top+t.getBoundingRect().height<=r.top||t.getBoundingRect().top>r.bottom)&&t.set({top:t._stateProperties.top,left:t._stateProperties.left,scaleX:t._stateProperties.scaleX,scaleY:t._stateProperties.scaleY}).setCoords(),this.updateObjectColors(t,n)},void 0!==n.__eventListeners&&void 0!==n.__eventListeners["object:modified"]&&-1!==n.__eventListeners["object:modified"].findIndex(e=>e.toString()==t.toString())){let e=n.__eventListeners["object:modified"].find(e=>e.toString()==t.toString());n.off("object:modified",e)}else n.on("object:modified",t)}preventBoundingBoxOvertaking(e=this.getCurrentView()){var t,n=this.getCanvas(e);if(t=e=>{let t=e.target,r=this.getBoundingBox(e.target,n);r.width>=t.getScaledWidth()&&t.getBoundingRect().left<=r.left&&t.setPositionByOriginX(new a.fabric.Point(t.getBoundingRect().width/2+r.left,0),"center","center"),r.height>=t.getScaledHeight()&&t.getBoundingRect().top<=r.top&&t.setPositionByOriginY(new a.fabric.Point(0,t.getBoundingRect().height/2+r.top),"center","center"),r.width>=t.getScaledWidth()&&t.getBoundingRect().left+t.getBoundingRect().width>=r.right&&t.setPositionByOriginX(new a.fabric.Point(r.right-t.getBoundingRect().width/2,0),"center","center"),r.height>=t.getScaledHeight()&&t.getBoundingRect().top+t.getBoundingRect().height>=r.bottom&&t.setPositionByOriginY(new a.fabric.Point(0,r.bottom-t.getBoundingRect().height/2),"center","center")},null!=n)if(void 0!==n.__eventListeners&&void 0!==n.__eventListeners["object:moving"]&&-1!==n.__eventListeners["object:moving"].findIndex(e=>e.toString()==t.toString())){let e=n.__eventListeners["object:moving"].find(e=>e.toString()==t.toString());n.off("object:moving",e),n.off("object:scaling",e),n.off("object:rotating",e)}else n.on("object:moving",t),n.on("object:scaling",t),n.on("object:rotating",t)}snapCenter(e=this.getCurrentView(),t=5){let n,r;if(n=n=>{let r=this.getBoundingBox(n.target,this.getCanvas(e)),i=n.target,o=i.getCenterPoint().y,s=i.getCenterPoint().x;if(s>r.width/2+r.left-t&&s<r.width/2+r.left+t){i.setPositionByOrigin(new a.fabric.Point(r.width/2+r.left,o>r.height/2+r.top-t&&o<r.height/2+r.top+t?r.bottom/2+r.top:o),"center","center");let n=this.getCanvas(e).getObjects().find(e=>e.name=="v_"+i.id);if(n)n.set({opacity:1});else{let t=new a.fabric.Line([0,r.height,0,0],{id:f()(),left:r.width/2+r.left,top:r.top,itemType:"Snap line",itemGroup:"Tools",selectable:!1,excludeFromExport:!0,name:"v_"+i.id,stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2]});this.getCanvas(e).getObjects().find(e=>e.name=="v_"+i.id)||this.getCanvas(e).add(t)}}else{let t=this.getCanvas(e).getObjects().find(e=>e.name=="v_"+i.id);t&&t.set({opacity:0})}if(o>r.height/2+r.top-t&&o<r.height/2+r.top+t){i.setPositionByOrigin(new a.fabric.Point(s>r.width/2+r.left-t&&s<r.width/2+r.left+t?r.width/2+r.left:s,r.height/2+r.top),"center","center");let n=this.getCanvas(e).getObjects().find(e=>e.name=="h_"+i.id);if(n)n.set({opacity:1});else{let t=new a.fabric.Line([0,0,r.width,0],{id:f()(),left:r.left,top:r.height/2+r.top,itemType:"Snap line",itemGroup:"Tools",excludeFromExport:!0,selectable:!1,name:"h_"+i.id,stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2]});this.getCanvas(e).getObjects().find(e=>e.name=="h_"+i.id)||this.getCanvas(e).add(t)}}else{let t=this.getCanvas(e).getObjects().find(e=>e.name=="h_"+i.id);t&&t.set({opacity:0})}},r=t=>{let n=this.getCanvas(e).getObjects().filter(e=>"Snap line"==e.itemType);n.length>0&&this.remove(n)},void 0!==this.getCanvas(e).__eventListeners&&void 0!==this.getCanvas(e).__eventListeners["object:moving"]&&-1!==this.getCanvas(e).__eventListeners["object:moving"].findIndex(e=>e.toString()==n.toString())){let t=this.getCanvas(e).__eventListeners["object:moving"].find(e=>e.toString()==n.toString()),i=this.getCanvas(e).__eventListeners["object:modified"].find(e=>e.toString()==r.toString());this.getCanvas(e).off("object:moving",t),this.getCanvas(e).off("object:modified",i)}else this.getCanvas(e).on("object:moving",n),this.getCanvas(e).on("object:modified",r)}snapObjects(e=this.getCurrentView(),t=5){var n,r,i=this.getCanvas(e);if(n=e=>{let n=e.target,r=this.getBoundingBox(n,i);Math.abs(r.left-n.getBoundingRect().left)<t&&n.setPositionByOriginX(new a.fabric.Point(r.left+n.getBoundingRect().width/2,0),"center","center"),Math.abs(r.top-n.getBoundingRect().top)<t&&n.setPositionByOriginY(new a.fabric.Point(0,r.top+n.getBoundingRect().height/2),"center","center"),Math.abs(r.width+r.left-(n.getBoundingRect().width+n.getBoundingRect().left))<t&&n.setPositionByOriginX(new a.fabric.Point(r.width+r.left-n.getBoundingRect().width/2,0),"center","center"),Math.abs(r.height+r.top-(n.getBoundingRect().height+n.getBoundingRect().top))<t&&n.setPositionByOriginY(new a.fabric.Point(0,r.height+r.top-n.getBoundingRect().height/2),"center","center"),i.forEachObject(e=>{const n=i.getActiveObject();if(e!==n&&("Layers"==e.itemGroup||null==e.itemGroup)){if(Math.abs(n.getBoundingRect().left+n.getBoundingRect().width-e.getBoundingRect().left)<t){n.setPositionByOriginX(new a.fabric.Point(e.getBoundingRect().left-n.getBoundingRect().width/2,0),"center","center");let t=new a.fabric.Line([0,i.height,0,0],{id:f()(),left:e.getBoundingRect().left,itemType:"Snap line",itemGroup:"Tools",excludeFromExport:!0,selectable:!1,name:"l_"+n.id+"_"+e.id,stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2]});i.getObjects().find(t=>t.name=="l_"+n.id+"_"+e.id)||i.add(t)}else i.getObjects().find(t=>t.name=="l_"+n.id+"_"+e.id)&&i.remove(i.getObjects().find(t=>t.name=="l_"+n.id+"_"+e.id));if(Math.abs(n.getBoundingRect().left-(e.getBoundingRect().left+e.getBoundingRect().width))<t){n.setPositionByOriginX(new a.fabric.Point(e.getBoundingRect().left+e.getBoundingRect().width+n.getBoundingRect().width/2,0),"center","center");let t=new a.fabric.Line([0,i.height,0,0],{id:f()(),left:e.getBoundingRect().left+e.getBoundingRect().width,itemType:"Snap line",itemGroup:"Tools",excludeFromExport:!0,selectable:!1,name:"r_"+n.id+"_"+e.id,stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2]});i.getObjects().find(t=>t.name=="r_"+n.id+"_"+e.id)||i.add(t)}else i.getObjects().find(t=>t.name=="r_"+n.id+"_"+e.id)&&i.remove(i.getObjects().find(t=>t.name=="r_"+n.id+"_"+e.id));if(Math.abs(n.getBoundingRect().top+n.getBoundingRect().height-e.getBoundingRect().top)<t){n.setPositionByOriginY(new a.fabric.Point(0,e.getBoundingRect().top-n.getBoundingRect().height/2),"center","center");let t=new a.fabric.Line([0,0,i.width,0],{id:f()(),top:e.getBoundingRect().top,itemType:"Snap line",itemGroup:"Tools",excludeFromExport:!0,selectable:!1,name:"t_"+n.id+"_"+e.id,stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2]});i.getObjects().find(t=>t.name=="t_"+n.id+"_"+e.id)||i.add(t)}else i.getObjects().find(t=>t.name=="t_"+n.id+"_"+e.id)&&i.remove(i.getObjects().find(t=>t.name=="t_"+n.id+"_"+e.id));if(Math.abs(e.getBoundingRect().top+e.getBoundingRect().height-n.getBoundingRect().top)<t){n.setPositionByOriginY(new a.fabric.Point(0,e.getBoundingRect().top+e.getBoundingRect().height+n.getBoundingRect().height/2),"center","center");let t=new a.fabric.Line([0,0,i.width,0],{id:f()(),top:e.getBoundingRect().top+e.getBoundingRect().height,itemType:"Snap line",itemGroup:"Tools",excludeFromExport:!0,selectable:!1,name:"b_"+n.id+"_"+e.id,stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2]});i.getObjects().find(t=>t.name=="b_"+n.id+"_"+e.id)||i.add(t)}else i.getObjects().find(t=>t.name=="b_"+n.id+"_"+e.id)&&i.remove(i.getObjects().find(t=>t.name=="b_"+n.id+"_"+e.id));if(Math.abs(n.getBoundingRect().top-e.getBoundingRect().top)<t){n.setPositionByOriginY(new a.fabric.Point(0,e.getBoundingRect().top+n.getBoundingRect().height/2),"center","center");let t=new a.fabric.Line([0,0,i.width,0],{id:f()(),top:e.getBoundingRect().top,itemType:"Snap line",itemGroup:"Tools",excludeFromExport:!0,selectable:!1,name:"t2_"+n.id+"_"+e.id,stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2]});i.getObjects().find(t=>t.name=="t2_"+n.id+"_"+e.id)||i.add(t)}else i.getObjects().find(t=>t.name=="t2_"+n.id+"_"+e.id)&&i.remove(i.getObjects().find(t=>t.name=="t2_"+n.id+"_"+e.id));if(Math.abs(n.getBoundingRect().left-e.getBoundingRect().left)<t){n.setPositionByOriginX(new a.fabric.Point(e.getBoundingRect().left+n.getBoundingRect().width/2,0),"center","center");let t=new a.fabric.Line([0,i.height,0,0],{id:f()(),left:e.getBoundingRect().left,itemType:"Snap line",itemGroup:"Tools",excludeFromExport:!0,selectable:!1,name:"l2_"+n.id+"_"+e.id,stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2]});i.getObjects().find(t=>t.name=="l2_"+n.id+"_"+e.id)||i.add(t)}else i.getObjects().find(t=>t.name=="l2_"+n.id+"_"+e.id)&&i.remove(i.getObjects().find(t=>t.name=="l2_"+n.id+"_"+e.id));if(Math.abs(n.getBoundingRect().left+n.getBoundingRect().width-(e.getBoundingRect().left+e.getBoundingRect().width))<t){n.setPositionByOriginX(new a.fabric.Point(e.getBoundingRect().left+e.getBoundingRect().width-n.getBoundingRect().width/2,0),"center","center");let t=new a.fabric.Line([0,i.height,0,0],{id:f()(),left:e.getBoundingRect().left+e.getBoundingRect().width,itemType:"Snap line",itemGroup:"Tools",excludeFromExport:!0,selectable:!1,name:"r2_"+n.id+"_"+e.id,stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2]});i.getObjects().find(t=>t.name=="r2_"+n.id+"_"+e.id)||i.add(t)}else i.getObjects().find(t=>t.name=="r2_"+n.id+"_"+e.id)&&i.remove(i.getObjects().find(t=>t.name=="r2_"+n.id+"_"+e.id));if(Math.abs(n.getBoundingRect().top+n.getBoundingRect().height-(e.getBoundingRect().top+e.getBoundingRect().height))<t){n.setPositionByOriginY(new a.fabric.Point(0,e.getBoundingRect().top+e.getBoundingRect().height-n.getBoundingRect().height/2),"center","center");let t=new a.fabric.Line([0,0,i.width,0],{id:f()(),top:e.getBoundingRect().top+e.getBoundingRect().height,itemType:"Snap line",itemGroup:"Tools",excludeFromExport:!0,selectable:!1,name:"b2_"+n.id+"_"+e.id,stroke:"rgba(173,173,173,0.60)",strokeDashArray:[2,2]});i.getObjects().find(t=>t.name=="b2_"+n.id+"_"+e.id)||i.add(t)}else i.getObjects().find(t=>t.name=="b2_"+n.id+"_"+e.id)&&i.remove(i.getObjects().find(t=>t.name=="b2_"+n.id+"_"+e.id))}})},r=e=>{let t=i.getObjects().filter(e=>"Snap line"==e.itemType);t.length>0&&this.remove(t)},void 0!==i.__eventListeners&&"undefined"!=i.__eventListeners["object:moving"]&&-1!==i.__eventListeners["object:moving"].findIndex(e=>e.toString()==n.toString())){let t=i.__eventListeners["object:moving"].find(e=>e.toString()==n.toString()),a=this.getCanvas(e).__eventListeners["object:modified"].find(e=>e.toString()==r.toString());i.off("object:moving",t),i.off("object:modified",a),i.off("selection:cleared",a)}else i.on("object:moving",n),i.on("object:modified",r),i.on("selection:cleared",r)}snapRotation(e=this.getCanvas(),t=2,n=45){var r,i=this.getCanvas(e);if(r=e=>{let r=e.target.angle,i=s.Z.roundToNearest(r,n);Math.abs(r-i)<t&&e.target.rotate(i)},void 0!==i.__eventListeners&&void 0!==i.__eventListeners["object:rotating"]&&-1!==i.__eventListeners["object:rotating"].findIndex(e=>e.toString()==r.toString())){let e=i.__eventListeners["object:rotating"].find(e=>e.toString()==r.toString());i.off("object:rotating",e)}else i.on("object:rotating",r)}snapGrid(e=this.getCurrentView(),t=50,n="#ccc"){let r=this.getCanvas(e).width,i=this.getCanvas(e).height;if(void 0!==this.getCanvas(e).__eventListeners&&void 0!==this.getCanvas(e).__eventListeners["object:moving"]&&-1!==this.getCanvas(e).__eventListeners["object:moving"].findIndex(e=>e.toString()==s.toString())){let t=this.getCanvas(e).__eventListeners["object:moving"].find(e=>e.toString()==s.toString());this.remove(this.getCanvas(e).getObjects().filter(e=>"Tools"==e.itemGroup)),this.getCanvas(e).off("object:moving",t)}else{this.getCanvas(e).on("object:moving",s);for(var o=0;o<r/t;o++)this.getCanvas(e).add(new a.fabric.Line([o*t,0,o*t,i],{stroke:n,itemGroup:"Tools",excludeFromExport:!0,selectable:!1}));for(o=0;o<i/t;o++)this.getCanvas(e).add(new a.fabric.Line([0,o*t,r,o*t],{stroke:n,itemGroup:"Tools",excludeFromExport:!0,selectable:!1}))}function s(e){Math.round(e.target.left/t*4)%4==0&&Math.round(e.target.top/t*4)%4==0&&e.target.set({left:Math.round(e.target.left/t)*t,top:Math.round(e.target.top/t)*t}).setCoords()}}selectionMenu(e=this.getCurrentView()){let t,n,r,a,s,l=this.getCanvas(e),u=!1;a=e=>{u=!1;let t=e.target;i.Z.dispatch((0,v.$O)()),"frontend"==i.Z.getState().mode&&"Elements"==t.itemGroup||i.Z.dispatch((0,v.Yf)(t.id))},s=e=>{1!=u&&(u=!0,i.Z.dispatch((0,v.$O)()))},t=e=>{let t=e.target,n=e.deselected;null!=t&&"Elements"==t.itemGroup&&(null==t.derivatives&&null==t.variations||(this.lastElement=t,"frontend"==i.Z.getState().mode&&0!=t.selectable&&o.Z.forceOpenMenu("Personalization"))),null!=n&&"Elements"==n[0].itemGroup&&c.Z.close(n[0].id)},n=e=>{let t=e.deselected;null!=t&&"Elements"==t[0].itemGroup&&c.Z.close(t[0].id)},r=e=>{let t=e.target;null!=t&&"Elements"==t.itemGroup&&c.Z.close(t.id)},l.on("selection:created",e=>(t(e),a(e))),l.on("selection:updated",e=>(t(e),a(e))),l.on("mouse:down",e=>t(e)),l.on("object:modified",a),l.on("object:moving",s),l.on("object:scaling",s),l.on("object:rotating",s),l.on("object:removed",r),l.on("selection:cleared",e=>(n(e),s()))}initFunctions(e){this.getCurrentView()==e&&(null!=o.Z.getMenuItem("Snap grid")&&1==o.Z.getMenuItem("Snap grid").active&&this.snapGrid(e),null!=o.Z.getMenuItem("Magnifying glass")&&1==o.Z.getMenuItem("Magnifying glass").active&&this.magnifyingGlass(e))}}},4948:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(7533),i=n(610),a=n(8008),o=n(5466),s=n(5110),l=n(5800),c=n(7295),u=n(7136),h=n(4631),f=n(5345),d=n(5438),p=n(7286),g=n(6496);let m;const v=(0,s.$j)((e,t)=>({styles:e.theme.modal}))(e=>o.createElement(f.Z,{styles:e.styles,fullScreen:!0,centered:!0,noPadding:!0,closable:!0,title:"Studio",visible:e.active,onInit:()=>{a.Z.mountCanvas("studio",null)},onOpen:()=>{null!=a.Z.canvases.studio&&(m=a.Z.getActiveObject().toObject(["id","originalObject","filters"]),null!=m.originalObject&&(m=m.originalObject),d.fabric.util.enlivenObjects([m],(function(e){e.forEach((function(e){a.Z.canvases.studio.setWidth(e.getScaledWidth()),a.Z.canvases.studio.setHeight(e.getScaledHeight()),e.set({left:0,id:m.id,hasControls:!1,selectable:!1,clipPath:m.clipPath&&"Drawing area"!=m.clipPath.itemType?m.clipPath:null,hasRotatingPoint:!1,originX:"left",originY:"top",hasBorders:!1,perPixelTargetFind:!0,top:0}),a.Z.canvases.studio.clear(),a.Z.canvases.studio.add(e)}))})))},onOk:()=>{g.Z.close("editor"),e.closeModal(e.element),T.closeAllMenus(),a.Z.applyStudio(),a.Z.getCanvas().fire("object:modified",{target:a.Z.getActiveObject()})},onClose:()=>{g.Z.close("editor"),e.closeModal(e.element),T.closeAllMenus(),g.Z.close("addMask"),a.Z.getCanvas().fire("object:modified",{target:a.Z.getActiveObject()})},name:"studio"},o.createElement(l.Z,null,o.createElement(c.Z,null,o.createElement(u.Z,{className:"left"},o.createElement(p.Z,{target:a.Z.getActiveObject()&&"image"==a.Z.getActiveObject().type?"studio":"editor"})),o.createElement(l.Z,null,o.createElement(h.Z,null,o.createElement("canvas",{id:"studio"})))))));const y=new class{print(e){a.Z.print(),T.closeMenu(e)}reset(e){a.Z.resetCanvas(),T.closeMenu(e)}studio(){T.openModal(v)}editor(){let e=a.Z.getCanvas("studio").getObjects().filter(e=>"Masks"!=e.itemGroup);e.length>1?(a.Z.group(e,"studio"),g.Z.close("editor")):1==e.length&&((0,g.Z)({key:"editor",container:".ask-modal-studio .ask-layout-content",position:"absolute",content:o.createElement(s.zt,{store:r.Z},i.Z.getTranslation("You can now move the elements")),delay:0,positionX:"left"}),a.Z.ungroup(e[0],"studio"))}snapGrid(){a.Z.snapGrid()}magnifyingGlass(){a.Z.magnifyingGlass()}init(e){e&&(e.callback?e.callback(e):"function"==typeof this[i.Z.camelize(e.name)]&&this[i.Z.camelize(e.name)](e.name))}};var b=n(3419);const w=(e,t)=>({type:b.ih,id:e,target:t}),C=e=>({type:b.RZ,id:e}),x=e=>({type:b.Rm,state:e});var E=n(7408),k=n(435);var S=n(2847);var _=n(3697);const T=new class{addMenu(e,t="menu",n="left",a=!1,o=!0,s=!1,l=[]){r.Z.dispatch(((e,t="menu",n="left",r=!1,i=!0,a=!1,o=[])=>({type:b.QF,id:e,category:t,target:n,multiple:r,collapsed:i,collapsible:a,items:o}))(e,t,n,a,o,s,l)),i.Z.initEvent("addMenu",[e,t,n,a,o,s,l])}removeMenu(e){r.Z.dispatch(C(e)),i.Z.initEvent("removeMenu",[e])}moveMenu(e,t){r.Z.dispatch(w(e,t)),i.Z.initEvent("moveMenu",[e])}addItem(e,t){r.Z.dispatch(((e,t)=>({type:b.mj,id:e,item:t}))(e,t)),i.Z.initEvent("addItem",[e,t])}removeItem(e){r.Z.dispatch((e=>({type:b.ns,name:e}))(e)),i.Z.initEvent("removeItem",[e])}moveItem(e,t,n){r.Z.dispatch(((e,t,n=null)=>({type:b.PU,name:e,index:t,id:n}))(e,t,n)),i.Z.initEvent("moveItem",[e,t,n])}toggleBlock(e){r.Z.dispatch((e=>({type:b.Yl,id:e}))(e)),i.Z.triggerResize(),i.Z.initEvent("toggleBlock",[e])}collapseBlock(e){r.Z.dispatch((e=>({type:b.v0,id:e}))(e)),i.Z.triggerResize(),i.Z.initEvent("collapseBlock",[e])}expandBlock(e){r.Z.dispatch((e=>({type:b.C2,id:e}))(e)),i.Z.triggerResize(),i.Z.initEvent("expandBlock",[e])}getContainers(){return r.Z.getState().layout}getMenu(e){return r.Z.getState().layout.find(t=>t.id==e)}openMenu(e){null==this.getMenuItem(e)?y.init({name:e}):(r.Z.dispatch((e=>({type:b.vv,name:e}))(e)),y.init(this.getMenuItem(e)),i.Z.initEvent("openMenu",[e]))}forceOpenMenu(e,t){r.Z.dispatch(((e,t)=>({type:b.hc,name:e,parameters:t}))(e,t)),y.init(this.getMenuItem(e)),i.Z.initEvent("openMenu",[e])}updateMenus(e){r.Z.dispatch((e=>({type:b.YT,state:e}))(e)),i.Z.initEvent("updateMenus",[e])}moveMenu(e,t){r.Z.dispatch(w(e,t)),i.Z.initEvent("moveMenu",[e,t])}toggleMenu(e){if(null!=a.Z.canvases){let e=a.Z.canvases;for(let t in e){let n=e[t];n.selectMarker=!1,delete n.toggleMarker}}null==this.getMenuItem(e)?y.init({name:e}):(r.Z.dispatch((e=>({type:b.dM,name:e}))(e)),y.init(this.getMenuItem(e))),i.Z.initEvent("toggleMenu",[e])}getMenus(){return r.Z.getState().layout}getMenuItem(e){return i.Z.findItem(e,this.getMenus())}closeMenu(e){if(r.Z.dispatch((e=>({type:b.mr,name:e}))(e)),null!=a.Z.canvases){let e=a.Z.canvases;for(let t in e){let n=e[t];n.selectMarker=!1,delete n.toggleMarker,delete n.currentText}}i.Z.initEvent("closeMenu",[e])}closeAllMenus(){r.Z.dispatch((name,{type:b.cS})),i.Z.initEvent("closeAllMenus",[])}removeMenu(e){r.Z.dispatch(C(e)),i.Z.initEvent("removeMenu",[e])}openModal(e,t){r.Z.dispatch((0,E.h)(e,t)),i.Z.initEvent("openModal",[e])}setColor(e,t){r.Z.dispatch(((e,t)=>({type:k.w,property:e,value:t}))(e,t)),i.Z.initEvent("setColor",[t])}closeModal(e){r.Z.dispatch((0,E.M)(e)),i.Z.initEvent("closeModal",[e])}alert(e,t=null){"close"==e?(g.Z[e](t),i.Z.initEvent("closealert",[t])):((0,g.Z)(e),i.Z.initEvent("openalert",[t]))}updateLayout(e){r.Z.dispatch(x(e)),i.Z.initEvent("updateLayout",[e])}updateTheme(e){r.Z.dispatch(x(e)),i.Z.initEvent("updateTheme",[e])}setMode(e){r.Z.dispatch((e=>({type:S.f,mode:e}))(e)),i.Z.initEvent("setMode",[e])}setLocale(e){r.Z.dispatch((e=>({type:_.l,locale:e}))(e)),i.Z.initEvent("setLocale",[e])}}},2774:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=new class{setActiveVariation(e,t=0,n){if(null!=n)return e.map((e,r)=>{if(n!==r){let t=e.variations.map((e,t)=>({...e,active:!1}));return{...e,variations:t}}let i=e.variations.map((e,n)=>t==n?{...e,active:!0}:{...e,active:!1});return{...e,variations:i}});return e.map((e,n)=>t==n?{...e,active:!0}:{...e,active:!1})}getActiveVariation(e){if(null!=e[0].variations){for(let t=0;t<e.length;t++){let n=e[t].variations,r=n.find(e=>1==e.active);if(r)return{...r,variationName:n.find(e=>1==e.active),derivativeName:e[t].name,indexVariation:n.findIndex(e=>1==e.active),indexDerivative:t}}return null}return{...e.find(e=>1==e.active),variationName:e.find(e=>1==e.active).name,indexVariation:e.findIndex(e=>1==e.active)}}}},610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(7533),i=n(5466),a=n(5313),o=n.n(a),s=n(7778),l=n.n(s),c=n(5698),u=n.n(c),h=n(4559),f=n.n(h),d=n(3657);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=new class{constructor(){p(this,"axios",f()),p(this,"fontLoaded",[]),p(this,"translations",[]),p(this,"events",[]),p(this,"recursiveMap",(e,t)=>"function"==typeof e?e:i.Children.map(e,e=>i.isValidElement(e)?(e.props.children&&(e=i.cloneElement(e,{children:this.recursiveMap(e.props.children,t)})),t(e)):e)),p(this,"merge",(e,t)=>{for(const n of Object.keys(t))t[n]instanceof Object&&Object.assign(t[n],this.merge(e[n],t[n]));return Object.assign(e||{},t),e}),p(this,"triggerResize",this.debounce(()=>{if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}},500))}camelize(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"")}decamelize(e,t){return t=void 0===t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}capitalize(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}changeIndex(e,t,n){for(;t<0;)t+=e.length;for(;n<0;)n+=e.length;if(n>=e.length)for(var r=n-e.length+1;r--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}stringToArray(e){return"string"==typeof e||e instanceof String?e.split(","):null===e?[]:e}debounce(e,t,n=(()=>{})){var r;t=t||100;return i=>{n(i),i&&i.persist(),r&&clearTimeout(r),r=setTimeout(e,t,i)}}getExtension(e){return e.substring(e.lastIndexOf(".")+1,e.length)||!1}getFill(e){return null==e?"#000000":"linear"==e.type?e.colorStops[0].color:null!=e.source?e.source.currentSrc:e}getFillStyle(e){return this.isValidURL(e)?{backgroundImage:`url(${e})`}:null!=e.source?{backgroundImage:`url(${e.source.currentSrc})`}:{backgroundColor:e}}getTranslation(e){-1==this.translations.indexOf(e)&&this.translations.push(e);let t=r.Z.getState().translations;return null!=t[r.Z.getState().locale]&&null!=t[r.Z.getState().locale][e]?t[r.Z.getState().locale][e]:e}getUrl(e){switch(typeof e){case"string":return e;case"object":return e.url;default:return e}}getStore(){return r.Z.getState()}getUrl(e){switch(typeof e){case"string":return e;case"object":return e.url;default:return e}}isHTML(e){var t=(new DOMParser).parseFromString(e,"text/html");return Array.from(t.body.childNodes).some(e=>1===e.nodeType)}findBlock(e,t){let n,r,i=null;for(let a in t){let o=t[a];if(Array.isArray(o)&&(r=o.findIndex(t=>t.id==e),r>-1)){n=a,i={key:n,index:r};break}}return i}findItem(e,t){let n=null;for(let r in t)if(n=t[r].items.find(t=>t.name==e),n)return{parent:t[r],...n};return n}findMenu(e,t){return t.find(t=>t.id==e)}findMultipleCriteria(e,t,n="OR"){const r=Object.keys(t);return e.find(e=>{switch(n){case"AND":return r.every(n=>"function"!=typeof t[n]||t[n](e[n]));case"OR":return r.some(n=>{if(null!=e[n])return t[n](e[n])})}})}deepEqual(e,t){const n=Object.keys,r=typeof e;return e&&t&&"object"===r&&r===typeof t?n(e).length===n(t).length&&n(e).every(n=>this.deepEqual(e[n],t[n])):e===t}closestValue(e,t){return e.reduce((e,n)=>Math.abs(n-t)<Math.abs(e-t)?n:e)}findIndexMultipleCriteria(e,t,n="OR"){const r=Object.keys(t);return e.findIndex(e=>{switch(n){case"AND":return r.every(n=>"function"!=typeof t[n]||t[n](e[n]));case"OR":return r.some(n=>{if(null!=e[n])return t[n](e[n])})}})}filterMultipleCriteria(e,t,n="OR"){const r=Object.keys(t);return e.filter(e=>{switch(n){case"AND":return r.every(n=>{if(null!=e[n])return t[n](e[n])});case"OR":return r.some(n=>{if(null!=e[n])return t[n](e[n])})}})}getAbsoluteHeight(e){e="string"==typeof e?document.querySelector(e):e;var t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return Math.ceil(e.offsetHeight+n)}hex2rgb(e){var t,n,r;return"#"==e.charAt(0)&&(e=e.substr(1)),t=e.charAt(0)+e.charAt(1),n=e.charAt(2)+e.charAt(3),r=e.charAt(4)+e.charAt(5),(t=parseInt(t,16))+","+(n=parseInt(n,16))+","+(r=parseInt(r,16))}initEvent(e,t=[]){var n=new CustomEvent(e,{detail:t});this.poll(()=>this.events.indexOf(e)>-1,1e4,5).then(()=>{document.dispatchEvent(n)})}isEmpty(e){return null!=e&&(Array.isArray(e)?0===e.length:0===Object.keys(e).length)}isValidURL(e){let t;return-1!==e.indexOf("data:image")||(t||(t=document.createElement("input"),t.setAttribute("type","url")),t.value=e,t.validity.valid)}b64toBlob(e,t,n){t=t||"",n=n||512;for(var r=atob(e),i=[],a=0;a<r.length;a+=n){for(var o=r.slice(a,a+n),s=new Array(o.length),l=0;l<o.length;l++)s[l]=o.charCodeAt(l);var c=new Uint8Array(s);i.push(c)}return new Blob(i,{type:t})}getParams(e){var t={},n=document.createElement("a");n.href=e;for(var r=n.search.substring(1).split("&"),i=0;i<r.length;i++){var a=r[i].split("=");t[a[0]]=decodeURIComponent(a[1])}return t}getAverageRGB(e){var t,n,r,i,a={r:0,g:0,b:0},o=document.createElement("canvas"),s=o.getContext&&o.getContext("2d"),l=-4,c={r:0,g:0,b:0},u=0;if(!s)return a;r=o.height=e.naturalHeight||e.offsetHeight||e.height,n=o.width=e.naturalWidth||e.offsetWidth||e.width,s.drawImage(e,0,0);try{t=s.getImageData(0,0,n,r)}catch(e){return alert("x"),a}for(i=t.data.length;(l+=20)<i;)++u,c.r+=t.data[l],c.g+=t.data[l+1],c.b+=t.data[l+2];return c.r=~~(c.r/u),c.g=~~(c.g/u),c.b=~~(c.b/u),c}getBase64(e,t={}){var n=new FileReader;n.readAsDataURL(e);for(let e in t){let r=t[e];n[e]=r}}getUpload(e={},t=null,n=null){f()({...e}).then(t).catch(n)}parseDotNotationFunction(e,t,n){var r,i,a=n,o=e.split("."),s=Math.max(1,o.length-1);for(r=0;r<s;++r)a[i=o[r]]=a[i]||{},a=a[i];t&&(a[o[r]]=t),delete n[e]}parseDotNotation(e){for(var t in e)-1!==t.indexOf(".")&&this.parseDotNotationFunction(t,e[t],e);return e}getSimilarColor(e,t){if(e.indexOf("rgb(")>=0)var n=e.replace("rgb(","").replace(")","");else if(this.isValidURL(e)){(l=new Image).src=e;let t=this.getAverageRGB(l);n=t.r+","+t.g+","+t.b}else n=this.hex2rgb(e);var r=parseFloat(n.split(",")[0]),i=parseFloat(n.split(",")[1]),a=parseFloat(n.split(",")[2]),o=[];for(var s in Array.min=function(e){return Math.min.apply(Math,e)},t){let e=t[s];if(this.isValidURL(e.value)){var l;(l=new Image).src=e.value;var c=this.getAverageRGB(l),u=c.r+","+c.g+","+c.b}else u=this.hex2rgb(e.value);var h=parseFloat(u.split(",")[0]),f=parseFloat(u.split(",")[1]),d=parseFloat(u.split(",")[2]),p=Math.sqrt((r-h)*(r-h)+(i-f)*(i-f)+(a-d)*(a-d));if(isNaN(p))var g=1e3;else g=p;o.push(g)}var m=Array.min(o);return t[o.indexOf(m)]}isValidColor(e){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/i.test(e)}loadFontsCallback(e=[],t=(()=>{})){Promise.all(e).then((function(e){t()})).catch((function(e){console.warn("Some critical font are not available:",e)}))}getObservers(){let e=[],t=r.Z.getState().fontFamily;for(let r in t){let i=t[r];switch(null!=i.fonts&&(i=i.fonts),r){case"google":for(let t=0;t<i.length;t++){let a=i[t];if(null==this.fontLoaded.find(e=>e.fontFamily==a)){var n=new(l())(a);e.push(n.load()),this.fontLoaded.push({fontProvider:r,fontFamily:a})}}this.isEmpty(i)||o().load({google:{families:i}});break;case"system":for(let e=0;e<i.length;e++){let t=i[e];null==this.fontLoaded.find(e=>e.fontFamily==t)&&this.fontLoaded.push({fontProvider:r,fontFamily:t})}break;case"files":let t=[];for(let r=0;r<i.length;r++){let a,o=i[r];if(null==this.fontLoaded.find(e=>e.fontFamily==o["font-family"])){null==t.find(e=>e==o["font-family"])&&t.push(o["font-family"]);let r=o.format||o.src.split(".").pop();switch(r){case"ttf":a="truetype";break;case"otf":a="opentype";break;default:a=r}this.fontFace(o.src,o["font-family"],o["font-weight"]||"normal",o["font-style"]||"normal",a);n=new(l())(o["font-family"],{weight:o["font-weight"]||"normal"});e.push(n.load())}}for(let e=0;e<t.length;e++){let n=t[e];this.fontLoaded.push({fontProvider:"files",fontFamily:n})}}}return e}loadFonts(e=(()=>{})){let t=this.getObservers();this.isEmpty(t)?e():this.loadFontsCallback(t,e)}loadCanvasFonts(e,t=(()=>{})){let n=JSON.parse(e).objects;const r=["i-text","text-curved","text"];let i=this.getObservers(),a=n.filter(e=>r.indexOf(e.type)>-1).map((e,t)=>({fontFamily:e.fontFamily,fontProvider:e.fontProvider}));for(let e=0;e<a.length;e++){let t=a[e];if(null==this.fontLoaded.find(e=>e.fontFamily==t.fontFamily)&&"google"==t.fontProvider){var o=new(l())(t.fontFamily);i.push(o.load()),this.fontLoaded.push({fontProvider:t.fontProvider,fontFamily:t.fontFamily})}}this.isEmpty(i)?t():this.loadFontsCallback(i,t)}styleTag(e){var t=document.createElement("style");t.appendChild(document.createTextNode(e)),document.head.appendChild(t)}fontFace(e,t,n="normal",r="normal",i="ttf"){this.styleTag(`\n\t\t\t@font-face {\n\t\t\t\tfont-family: "${t}";\n\t\t\t\tfont-weight: ${n};\n\t\t\t\tfont-style: ${r};\n\t\t\t\tsrc: url('${e}') format('${i}');\n\t\t\t}\n\t\t`)}maxValue(e,t){return Math.max.apply(Math,e.map((function(e){return t(e)})))}nullifyTransforms(e){let{top:t,left:n,width:r,height:i}=e.getBoundingClientRect(),a=(e=>window.getComputedStyle(e).transform.split(/\(|,|\)/).slice(1,-1).map(e=>parseFloat(e)))(e);if(6==a.length){const e=a;let o=e[0]*e[3]-e[1]*e[2];return{width:r/e[0],height:i/e[3],left:(n*e[3]-t*e[2]+e[2]*e[5]-e[4]*e[3])/o,top:(-n*e[1]+t*e[0]+e[4]*e[1]-e[0]*e[5])/o}}return{top:t,left:n,width:r,height:i}}offset(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}}operators(e,t,n){switch(e){case">":return t>n;case"<":return t<n;case">=":return t>=n;case"<=":return t<=n;case"==":return t==n}}poll(e,t,n){var r=Number(new Date)+(t||2e3);n=n||100;var i=function(t,a){var o=e();o?t(o):Number(new Date)<r&&setTimeout(i,n,t,a)};return new Promise(i)}responsive(){let e=document.querySelector(".ask-carousel-wrapper"),t=document.querySelectorAll("canvas:first-child"),n={};return t.forEach((function(t){let i=t.parentNode,a=t.nextSibling;if(t.getAttribute("width")>e.offsetWidth){let o=t.getAttribute("width")/t.getAttribute("height");r.Z.getState().fabric.canvases[t.id]&&(n[t.id]=e.offsetWidth/r.Z.getState().fabric.canvases[t.id].size.width,a?(i.style.width=e.offsetWidth+"px",i.style.height=e.offsetWidth/o+"px",t.style.width=e.offsetWidth+"px",t.style.height=e.offsetWidth/o+"px",a.style.width=e.offsetWidth+"px",a.style.height=e.offsetWidth/o+"px"):(t.style.width=e.offsetWidth+"px",t.style.height=e.offsetWidth/o+"px"))}else{let e=1;n[t.id]=e,a?(i.style.width=t.getAttribute("width")+"px",i.style.height=t.getAttribute("height")+"px",t.style.width=t.getAttribute("width")+"px",t.style.height=t.getAttribute("height")+"px",a.style.width=t.getAttribute("width")+"px",a.style.height=t.getAttribute("height")+"px"):(t.style.width=t.getAttribute("width")+"px",t.style.height=t.getAttribute("height")+"px")}if(parseInt(t.style.height)>e.offsetHeight){let o=t.getAttribute("width")/t.getAttribute("height");r.Z.getState().fabric.canvases[t.id]&&(n[t.id]=e.offsetHeight/r.Z.getState().fabric.canvases[t.id].size.height,a?(i.style.height=e.offsetHeight+"px",i.style.width=e.offsetHeight*o+"px",t.style.height=e.offsetHeight+"px",t.style.width=e.offsetHeight*o+"px",a.style.height=e.offsetHeight+"px",a.style.width=e.offsetHeight*o+"px"):(t.style.height=e.offsetHeight+"px",t.style.width=e.offsetHeight*o+"px"))}})),n}roundToNearest(e,t=1){var n=t/2;return e+n-(e+n)%t}slugify(e,t={replacement:"-",lower:!0}){return u()(e,t)}truncate(e,t){return e.length>t?e.substr(0,t):e}useEventListener(e,t,n=window){const r=(0,i.useRef)();(0,i.useEffect)(()=>{r.current=t},[t]),(0,i.useEffect)(()=>{if(!(n&&n.addEventListener))return;const t=e=>r.current(e);return n.addEventListener(e,t),()=>{n.removeEventListener(e,t)}},[e,n])}updateStore(e){var t;null!=e&&r.Z.dispatch((t=e,{type:d.pJ,state:t}))}}},8847:()=>{},246:()=>{},6365:()=>{},612:()=>{},381:()=>{},8988:()=>{},933:()=>{},3092:()=>{},3364:()=>{},2280:()=>{},9509:()=>{},4860:()=>{},1995:()=>{},2818:()=>{},1801:()=>{},861:()=>{},5704:()=>{},7815:()=>{},7195:()=>{},7083:()=>{},6511:()=>{},3793:()=>{},1401:()=>{},4193:()=>{},8589:()=>{},9293:()=>{},2193:()=>{},5393:()=>{},4344:()=>{},9255:()=>{},2691:()=>{},4960:()=>{},6759:()=>{},6272:()=>{}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return i[e].call(n.exports,n,n.exports,o),n.exports}o.m=i,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var s=2&r&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach(t=>a[t]=()=>e[t]);return a.default=()=>e,o.d(i,a),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((t,n)=>(o.f[n](e,t),t),[])),o.u=e=>458===e?"jspdf.addon.js":799===e?"free-drawing.addon.js":48===e?"text-path.addon.js":629===e?"sizes.addon.js":940===e?"frames.addon.js":790===e?"forms.addon.js":894===e?"services.addon.js":void 0,o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},o.l=(e,t,n,i)=>{if(r[e])r[e].push(t);else{var a,s;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")=="asukadesigner:"+n){a=u;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack","asukadesigner:"+n),a.src=e),r[e]=[t];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),s&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={179:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((n,i)=>r=e[t]=[n,i]);n.push(r[2]=i);var a=o.p+o.u(t),s=new Error;o.l(a,n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}},"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[a,s,l]=n,c=0;for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)l(o);for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[a[c]]=0},n=self.webpackChunkasukadesigner=self.webpackChunkasukadesigner||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s={};return(()=>{"use strict";o.r(s),o.d(s,{AsukaDesigner:()=>at});var e=o(5466),t=o(6116),n=o(5110),r=(o(2691),o(9255),o(5800)),i=o(7295),a=o(7136);const l=function(t){const{style:n={},className:r=null}=t;return e.createElement("footer",{style:n,className:["ask-layout-footer",r].filter(Boolean).join(" ")},t.children)};const c=function(t){const{style:n={},className:r=null}=t;return e.createElement("header",{style:n,className:["ask-layout-header",r].filter(Boolean).join(" ")},t.children)};var u=o(4631),h=o(7860),f=o(7286);const d=t=>e.createElement(e.Fragment,null,t.modals.map((n,r)=>e.createElement(n.element,{element:n.element,styles:t.styles,className:t.className,closeModal:t.closeModal,params:n.params||{},active:n.active,key:r})));var p=o(7408);const g=(0,n.$j)((e,t)=>({styles:e.theme.modal,modals:e.modals}),(e,t)=>({closeModal:t=>{e((0,p.M)(t))}}))(d);var m=o(4948),v=o(8008),y=o(912),b=o(4313),w=o(3074),C=o.n(w),x=(o(3364),o(7462)),E=o(9879);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let S,_,T,O,A,P,j,M={},I=t=>{const n=(0,e.useRef)(),r=(0,e.useRef)();let i=Object.assign({},{resizeDebounce:250,duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,threshold:20,loop:!1,onInit:()=>{},onChange:()=>{},beforeMouseDown:()=>{}},t);return(0,e.useEffect)(()=>(i.selector=n.current,M.init(i.startIndex),M.onResize=()=>{M.resize(),M.slideToCurrent()},window.addEventListener("resize",M.onResize),i.draggable&&(T=!1,_={startX:0,endX:0,startY:0,letItGo:null}),()=>{window.removeEventListener("resize",M.onResize)}),[]),(0,e.useEffect)(()=>{M.init(i.startIndex)},[t.startIndex]),(0,e.useEffect)(()=>{M.init(i.startIndex)},[t.children.length]),(0,e.useEffect)(()=>()=>window.removeEventListener("resize",M.onResize),[]),M.init=e=>{P=e,M.setSelectorWidth(),M.setInnerElements(),M.resolveSlidesNumber(),M.setStyle(r.current,{width:100*Math.ceil(A.length/O)+"%",webkitTransition:`all ${i.duration}ms ${i.easing}`,transition:`all ${i.duration}ms ${i.easing}`});for(let e=0;e<A.length;e++)M.setStyle(A[e],{width:100/A.length+"%"});M.slideToCurrent(),i.onInit.call(M.init)},M.setSelectorWidth=()=>{j=n.current.getBoundingClientRect().width},M.setInnerElements=()=>{A=[].slice.call(r.current.children)},M.resolveSlidesNumber=()=>{if("number"==typeof i.perPage)O=i.perPage;else if("object"==typeof i.perPage){O=1;for(let e in i.perPage)window.innerWidth>e&&(O=i.perPage[e])}},M.prev=(e=1,t)=>{P=0===P&&i.loop?A.length-O:Math.max(P-Number(e),0),M.slideToCurrent(),i.onChange(P),"function"==typeof t&&t()},M.next=(e=1,t)=>{P=P===A.length-O&&i.loop?0:Math.min(P+Number(e),A.length-O),M.slideToCurrent(),i.onChange(P),"function"==typeof t&&t()},M.goTo=e=>{P=Math.min(Math.max(e,0),A.length-1),M.slideToCurrent(),i.onChange(P)},M.slideToCurrent=()=>{r.current.style[b.Z.transformProperty]=`translate3d(-${Math.round(P*(j/O))}px, 0, 0)`},M.updateAfterDrag=()=>{const e=_.endX-_.startX;e>0&&Math.abs(e)>i.threshold?M.prev():e<0&&Math.abs(e)>i.threshold&&M.next(),M.slideToCurrent()},M.resize=()=>{M.resolveSlidesNumber(),j=n.current.getBoundingClientRect().width,M.setStyle(r.current,{width:100*Math.ceil(A.length/O)+"%"})},M.clearDrag=()=>{_={startX:0,endX:0,startY:0,letItGo:null}},M.setStyle=(e,t)=>{Object.keys(t).forEach(n=>{e.style[n]=t[n]})},M.onTouchStart=e=>{if(-1!==["TEXTAREA","OPTION","INPUT","SELECT","CANVAS"].indexOf(e.target.nodeName)||!e.target.classList.contains("ask-carousel-item"))return!1;e.stopPropagation(),T=!0,_={..._,startX:e.touches[0].pageX,startY:e.touches[0].pageY}},M.onTouchEnd=e=>{e.stopPropagation(),T=!1,M.setStyle(r.current,{webkitTransition:`all ${i.duration}ms ${i.easing}`,transition:`all ${i.duration}ms ${i.easing}`}),_.endX&&M.updateAfterDrag(),M.clearDrag()},M.onTouchMove=e=>{e.stopPropagation(),null===_.letItGo&&(_={..._,letItGo:Math.abs(_.startY-e.touches[0].pageY)<Math.abs(_.startX-e.touches[0].pageX)}),T&&_.letItGo&&(_={..._,endX:e.touches[0].pageX},M.setStyle(r.current,{webkitTransition:"all 0ms "+i.easing,transition:"all 0ms "+i.easing,[b.Z.transformProperty]:`translate3d(${-1*(P*(j/O)+(_.startX-_.endX))}px, 0, 0)`}))},M.onMouseDown=e=>{i.beforeMouseDown(e),0!=i.beforeMouseDown(e)&&(e.stopPropagation(),T=!0,_={..._,startX:e.pageX},S=!1)},M.onMouseUp=e=>{e.stopPropagation(),T=!1,M.setStyle(r.current,{cursor:"-webkit-grab",webkitTransition:`all ${i.duration}ms ${i.easing}`,transition:`all ${i.duration}ms ${i.easing}`}),_.endX&&(S=!0,M.updateAfterDrag()),M.clearDrag()},M.onMouseMove=e=>{T&&(_={..._,endX:e.pageX},M.setStyle(r.current,{cursor:"-webkit-grabbing",webkitTransition:"all 0ms "+i.easing,transition:"all 0ms "+i.easing,[b.Z.transformProperty]:`translate3d(${-1*(P*(j/O)+(_.startX-_.endX))}px, 0, 0)`}))},M.onMouseLeave=e=>{T&&(T=!1,_={..._,endX:e.pageX},M.setStyle(r.current,{cursor:"-webkit-grab",webkitTransition:`all ${i.duration}ms ${i.easing}`,transition:`all ${i.duration}ms ${i.easing}`}),M.updateAfterDrag(),M.clearDrag())},M.onClick=e=>{!S&&t.onClick&&t.onClick(e)},e.createElement("div",{className:"ask-carousel-wrapper"},e.createElement("div",k({className:"siema",ref:n},["onTouchStart","onTouchEnd","onTouchMove","onMouseDown","onMouseUp","onMouseLeave","onMouseMove","onClick"].reduce((e,t)=>Object.assign({},e,{[t]:M[t]}),{})),e.createElement("div",{style:{cursor:"-webkit-grab"},ref:r},t.children)))};I.propTypes={resizeDebounce:C().number,duration:C().number,easing:C().string,perPage:C().number,startIndex:C().number,draggable:C().bool,threshold:C().number,loop:C().bool,children:C().oneOfType([C().element,C().arrayOf(C().element)]),onInit:C().func,onChange:C().func,beforeMouseDown:C().func};const R=(0,n.$j)((e,t)=>({history:e.fabric.history,canvases:e.fabric.canvases,navigation:e.navigation}))(t=>"dot"==t.navigation?e.createElement("div",{className:"ask-carousel-pagination ask-dot-navigation"},t.views.map((t,n)=>e.createElement("span",{className:"ask-navigation-item"+(t==v.Z.getCurrentView()?" ask-navigation-item-active":""),key:t,onClick:()=>v.Z.setCurrentView(v.Z.getView(n))}))):e.createElement("div",{className:"ask-carousel-pagination ask-thumbnail-navigation"},t.views.map((t,n)=>null!=v.Z.getCanvas(t)?e.createElement(x.Z,{key:n,placement:"top",content:t},e.createElement("span",{className:"ask-navigation-item"+(t==v.Z.getCurrentView()?" ask-navigation-item-active":""),key:t,onClick:()=>v.Z.setCurrentView(v.Z.getView(n))},e.createElement("img",{src:v.Z.getCanvas(t).toDataURL({outputWidth:50})}))):e.createElement(x.Z,{key:n,placement:"top",content:t},e.createElement("span",{className:"ask-navigation-item"+(t==v.Z.getCurrentView()?" ask-navigation-item-active":""),key:t,onClick:()=>v.Z.setCurrentView(v.Z.getView(n))},e.createElement(E.G,{spin:!0,icon:["fas","spinner"]}))))));I.Item=t=>e.createElement("div",k({},t,{className:"ask-carousel-item",style:{float:"left"}}),t.children),I.Pagination=R;const L=I;var Z=o(7613),D=(o(3625),o(610)),F=o(7533);const N=t=>t.history&&!D.Z.isEmpty(t.history)&&"locked"!=F.Z.getState().mode?e.createElement("div",{className:"ask-history"},e.createElement(Z.Z.Group,null,e.createElement(Z.Z,{disabled:!(t.history.backward.length>0),onClick:()=>v.Z.backwardCanvas()},e.createElement(E.G,{icon:["fas","undo-alt"]})),e.createElement(Z.Z,{disabled:!(t.history.forward.length>0),onClick:()=>v.Z.forwardCanvas()},e.createElement(E.G,{icon:["fas","redo-alt"]})))):null,B=(0,n.$j)((e,t)=>({history:e.fabric.history}))(N);var z=o(4968),V=o(2353),U=o(3740),H=o(6681),W=o(9762),G=o(6842),Y=o(5468);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const $=()=>document.querySelector(".asuka-designer").offsetWidth<=700&&"float"==F.Z.getState().selection.position?"bottom":F.Z.getState().selection.position,q={getBoundingClientRect(){switch($()){case"top":return{top:0,left:0};case"bottom":return{bottom:0,left:0};case"float":let e=v.Z.getCurrentView(),t=document.querySelector("#"+e).getBoundingClientRect(),n=v.Z.getActiveObject(),r=n.oCoords,i=D.Z.responsive()[e];return{top:t.top+r.tl.y*i+20,left:t.left+r.tl.x*i,bottom:t.top+r.br.y*i,right:t.left+r.br.x*i,width:n.getScaledWidth()*i,height:n.getScaledHeight()*i}}}};let K=t=>{let n=(0,e.useRef)(null),r=v.Z.getActiveObject();const{option:i}=t;if(null!=r.constraints&&("Position"==i.name||"Transform"==i.name))return null;if("Elements"==r.itemGroup&&"Color"==i.name)return null;switch(i.fallback){case"popover":return e.createElement(z.Z,{trigger:"click",visible:i.active,placement:"bottom",portal:document.getElementsByTagName("BODY")[0],position:"fixed",onOpen:()=>m.Z.toggleMenu(i.name,t.multiple,i.fallback,i.callback),onClose:()=>m.Z.closeMenu(i.name),content:e.createElement(H.Z,{ref:n,fallback:i.fallback,onClick:i.onClick,callback:i.callback,name:i.name})},e.createElement(V.Z.Item,X({},t,{tooltipPlacement:"top",className:i.active&&"ask-menu-item-active",key:i.name,id:i.name,disabled:!0,icon:e.createElement(E.G,{icon:["fas",i.icon]})}),i.name));case"inline":return e.createElement(H.Z,{ref:n,fallback:i.fallback,onClick:i.onClick,callback:i.callback,name:i.name});default:return e.createElement(V.Z.Item,X({tooltipPlacement:"top"},t,{className:i.active&&"ask-menu-item-active",key:i.name,id:i.name,disabled:!0,icon:e.createElement(E.G,{icon:["fas",i.icon]}),onMenuItemClick:()=>m.Z.toggleMenu(i.name,t.multiple,i.fallback,i.callback)}),i.name)}};const Q=n=>{let r=(0,e.useRef)(null);const[i,a]=e.useState(null),{styles:o,attributes:s}=(0,G.D)(q,i);let l=()=>{let e=[],t=v.Z.getActiveObject();if(null!=n.menu&&null!=n.menu.items){let r=n.menu.items,i=r.general,a=r[t.type];null!=a&&(e=e.concat(a)),null!=i&&(e=e.concat(i))}return"Draw"==t.itemType&&(e=e.filter(e=>"Color"!=e.name)),e};return null!=v.Z.getCanvas()&&null!=n.selection&&0!=n.selection&&v.Z.getCurrentView()==n.id&&null!=v.Z.getActiveObject()?t.createPortal(e.createElement("div",X({ref:a,style:{...o.popper,position:"absolute",zIndex:2,maxWidth:-1!=["top","bottom"].indexOf($())?"100%":"300px",width:-1!=["top","bottom"].indexOf($())?"100%":"auto"}},s.popper),e.createElement(W.$B,{ref:r,autoHide:!0,renderView:t=>e.createElement("div",X({},t,{style:{overflow:"hidden"},className:"ask-selection-menu-inner"})),className:"ask-selection-menu-wrapper",renderTrackHorizontal:e=>(0,Y.renderTrackHorizontalDefault)({...e,className:"ask-track ask-track-horizontal"}),renderTrackVertical:e=>(0,Y.renderTrackVerticalDefault)({...e,className:"ask-track ask-track-vertical"})},e.createElement(V.Z,{className:"ask-selection-menu",mode:"horizontal",collapsed:!0},l().map((t,r)=>e.createElement(K,X({key:r},n,{option:t})))),l().map(t=>e.createElement(U.Z,X({key:t.name},t,{selection:v.Z.getActiveObject().type}))))),"body"==n.menu.container?document.querySelector(""+n.menu.container):document.querySelector(".ask-designer-content")):null},J=(0,n.$j)((e,t)=>({selection:e.fabric.selection,view:e.fabric.currentView,canvases:e.fabric.canvases,menu:e.selection}))(Q);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const te=h.ZP.canvas`
	${e=>e.background&&`\n\t\tcanvas&:first-child {\n\t\t\tbackground-color: ${e.background};\n\t\t}\n\t`};
`;const ne=t=>((0,e.useEffect)(()=>{v.Z.mountCanvas(t.view,t.canvas,{})},[]),e.createElement(e.Fragment,null,e.createElement(te,ee({},t,{id:t.view})),e.createElement(J,{id:t.view}))),re=(0,n.$j)((e,t)=>({background:e.theme.canvas}))(ne);var ie=o(2716),ae=o(6592);const oe=t=>{(0,e.useEffect)(()=>{D.Z.responsive(),0==F.Z.getState().fabric.views.length&&D.Z.loadFonts()},[]);let n=[];return"backend"==F.Z.getState().mode&&n.push(e.createElement("div",{onClick:()=>m.Z.openModal(ae.Z)},e.createElement(E.G,{icon:["fas","bars"]}))),e.createElement(e.Fragment,null,e.createElement(B,null),t.views.length>0?e.createElement(e.Fragment,null,e.createElement(L,{startIndex:v.Z.getViewIndex(v.Z.getCurrentView()),onChange:e=>{v.Z.setCurrentView(v.Z.getViews()[e])},beforeMouseDown:e=>!(-1!==["TEXTAREA","OPTION","INPUT","SELECT","CANVAS"].indexOf(e.target.nodeName)||!e.target.classList.contains("ask-carousel-item"))},t.views.map(n=>e.createElement(L.Item,{key:n},e.createElement(re,{canvas:t.canvases[n],view:n})))),e.createElement(L.Pagination,t)):e.createElement(y.Z,{style:{width:"300px",margin:"auto"},actions:n},e.createElement(ie.Z,null)))};o(2971);const se=(0,n.$j)((e,t)=>({views:e.fabric.views,currentView:e.fabric.currentView,mode:e.mode,canvases:e.fabric.canvases}))(oe);function le(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map((function(t){return t.split(" ").map((function(t){return t?""+e+t:""})).join(" ")})).join(" ")}function ce(e,t){return function(n){n&&(e[t]=n)}}function ue(e,t,n){return function(r){r&&(e[t][n]=r)}}var he=function(e,t){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};const fe=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={scrollPos:0},e.width=0,e.height=0,e}!function(e,t){function n(){this.constructor=e}he(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,t);var r=n.prototype;return r.render=function(){return(0,e.createElement)("canvas",{ref:ce(this,"canvasElement"),style:this.props.style})},r.componentDidMount=function(){var e=this.canvasElement.getContext("2d");this.canvasContext=e,this.resize()},r.componentDidUpdate=function(){this.resize()},r.scroll=function(e){this.draw(e)},r.resize=function(){var e=this.canvasElement,t=this.props,n=t.width,r=t.height;this.width=n||e.offsetWidth,this.height=r||e.offsetHeight,e.width=2*this.width,e.height=2*this.height,this.draw()},r.draw=function(e){void 0===e&&(e=this.state.scrollPos);var t=this.props,n=t.unit,r=t.zoom,i=t.type,a=t.backgroundColor,o=t.lineColor,s=t.textColor,l=t.direction,c=this.width,u=this.height;this.state.scrollPos=e;var h=this.canvasContext,f="horizontal"===i,d="start"===l;h.rect(0,0,2*c,2*u),h.fillStyle=a,h.fill(),h.save(),h.scale(2,2),h.strokeStyle=o,h.lineWidth=1,h.font="10px sans-serif",h.fillStyle=s,d&&(h.textBaseline="top"),h.translate(.5,0),h.beginPath();for(var p=f?c:u,g=r*n,m=Math.floor(e*r/g),v=Math.ceil((e*r+p)/g)-m,y=0;y<v;++y){var b=((y+m)*n-e)*r;if(b>=-g&&b<p){var w=f?[b+3,d?17:u-17]:[d?17:c-17,b-4],C=w[0],x=w[1];f?h.fillText(""+(y+m)*n,C,x):(h.save(),h.translate(C,x),h.rotate(-Math.PI/2),h.fillText(""+(y+m)*n,0,0),h.restore())}for(var E=0;E<10;++E){var k=b+E/10*g;if(!(k<0||k>=p)){var S=0===E?f?u:c:E%2==0?10:7,_=f?[k,d?0:u-S]:[d?0:c-S,k],T=_[0],O=_[1],A=f?[T,O+S]:[T+S,O],P=A[0],j=A[1];h.moveTo(T,O),h.lineTo(P,j)}}}h.stroke(),h.restore()},n.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",textColor:"#ffffff",lineColor:"#777777"},n}(e.PureComponent);"undefined"!=typeof document&&document;var de=['"',"'",'\\"',"\\'"];function pe(e,t,n,r){for(var i=n;i<r;++i){var a=t[i].trim();if(a===e)return i;var o=i;if("("===a?o=pe(")",t,i+1,r):de.indexOf(a)>-1&&(o=pe(a,t,i+1,r)),-1===o)break;i=o}return-1}function ge(e,t){for(var n=new RegExp("(\\s*"+(t||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),r=e.split(n).filter(Boolean),i=r.length,a=[],o=[],s=0;s<i;++s){var l=r[s].trim(),c=s;if("("===l)c=pe(")",r,s+1,i);else{if(")"===l)throw new Error("invalid format");if(de.indexOf(l)>-1)c=pe(l,r,s+1,i);else if(l===t){o.length&&(a.push(o.join("")),o=[]);continue}}-1===c&&(c=i-1),o.push(r.slice(s,c+1).join("")),s=c}return o.length&&a.push(o.join("")),a}function me(e){return ge(e,",")}function ve(){return Date.now?Date.now():(new Date).getTime()}function ye(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function be(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function we(e,t,n,r){e.addEventListener(t,n,r)}function Ce(e,t,n){e.removeEventListener(t,n)}var xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ee(e,t,n,r){var i=Pe(e),a=Pe(t),o=Pe(r);return Se(je(r[0],Me(i,o)),je(r[0],Me(a,o)),n[0])}function ke(e){return e.touches?Oe(e.touches):[Ae(e)]}function Se(e,t,n){var r=e.clientX,i=e.clientY;return{clientX:r,clientY:i,deltaX:r-t.clientX,deltaY:i-t.clientY,distX:r-n.clientX,distY:i-n.clientY}}function _e(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function Te(e,t,n){return e.map((function(e,r){return Se(e,t[r],n[r])}))}function Oe(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(Ae(e[r]));return n}function Ae(e){return{clientX:e.clientX,clientY:e.clientY}}function Pe(e){return 1===e.length?e[0]:{clientX:(e[0].clientX+e[1].clientX)/2,clientY:(e[0].clientY+e[1].clientY)/2}}function je(e,t){return{clientX:e.clientX+t.clientX,clientY:e.clientY+t.clientY}}function Me(e,t){return{clientX:e.clientX-t.clientX,clientY:e.clientY-t.clientY}}var Ie=function(){function e(e,t){var n=this;void 0===t&&(t={}),this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.targets=[],this.prevTime=0,this.isDouble=!1,this.onDragStart=function(e){if(n.flag||!1!==e.cancelable){var t=n.options,r=t.container,i=t.pinchOutside,a=t.dragstart,o=t.preventRightClick,s=t.preventDefault,l=n.isTouch;if(!n.flag&&l&&i&&setTimeout((function(){we(r,"touchstart",n.onDragStart)})),n.flag&&l&&i&&Ce(r,"touchstart",n.onDragStart),function(e){return e.touches&&e.touches.length>=2}(e)){if(!n.flag&&e.touches.length!==e.changedTouches.length)return;n.pinchFlag||n.onPinchStart(e)}if(!n.flag){var c=n.startClients[0]?n.startClients:ke(e);n.customDist=[0,0],n.flag=!0,n.isDrag=!1,n.startClients=c,n.prevClients=c,n.datas={},n.movement=0;var u=Se(c[0],n.prevClients[0],n.startClients[0]);(o&&(3===e.which||2===e.button)||!1===(a&&a(xe({type:"dragstart",datas:n.datas,inputEvent:e},u))))&&(n.startClients=[],n.prevClients=[],n.flag=!1),n.isDouble=ve()-n.prevTime<200,n.flag&&s&&e.preventDefault()}}},this.onDrag=function(e,t){if(n.flag){var r=ke(e);n.pinchFlag&&n.onPinch(e,r);var i=n.move([0,0],e,r);if(i&&(i.deltaX||i.deltaY)){var a=n.options.drag;a&&a(xe({},i,{isScroll:!!t,inputEvent:e}))}}},this.onDragEnd=function(e){if(n.flag){var t=n.options,r=t.dragend,i=t.pinchOutside,a=t.container;n.isTouch&&i&&Ce(a,"touchstart",n.onDragStart),n.pinchFlag&&n.onPinchEnd(e),n.flag=!1;var o=n.prevClients,s=n.startClients,l=n.pinchFlag?Ee(o,o,s,n.startPinchClients):Se(o[0],o[0],s[0]),c=ve(),u=!n.isDrag&&n.isDouble;n.prevTime=n.isDrag||u?0:c,n.startClients=[],n.prevClients=[],r&&r(xe({type:"dragend",datas:n.datas,isDouble:u,isDrag:n.isDrag,inputEvent:e},l))}};var r=[].concat(e);this.options=xe({container:r.length>1?window:r[0],preventRightClick:!0,preventDefault:!0,pinchThreshold:0,events:["touch","mouse"]},t);var i=this.options,a=i.container,o=i.events;if(this.isTouch=o.indexOf("touch")>-1,this.isMouse=o.indexOf("mouse")>-1,this.customDist=[0,0],this.targets=r,this.isMouse&&(r.forEach((function(e){we(e,"mousedown",n.onDragStart)})),we(a,"mousemove",this.onDrag),we(a,"mouseup",this.onDragEnd),we(a,"contextmenu",this.onDragEnd)),this.isTouch){var s={passive:!1};r.forEach((function(e){we(e,"touchstart",n.onDragStart,s)})),we(a,"touchmove",this.onDrag,s),we(a,"touchend",this.onDragEnd,s),we(a,"touchcancel",this.onDragEnd,s)}}var t=e.prototype;return t.isDragging=function(){return this.isDrag},t.isFlag=function(){return this.flag},t.isPinchFlag=function(){return this.pinchFlag},t.isPinching=function(){return this.isPinch},t.scrollBy=function(e,t,n,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach((function(n){n.clientX-=e,n.clientY-=t})),this.prevClients.forEach((function(n){n.clientX-=e,n.clientY-=t})),r&&this.onDrag(n,!0))},t.move=function(e,t,n){var r=e[0],i=e[1];void 0===n&&(n=this.prevClients);var a=this.customDist,o=this.prevClients,s=this.startClients,l=this.pinchFlag?Ee(n,o,s,this.startPinchClients):Se(n[0],o[0],s[0]);a[0]+=r,a[1]+=i,l.deltaX+=r,l.deltaY+=i;var c=l.deltaX,u=l.deltaY;return l.distX+=a[0],l.distY+=a[1],this.movement+=Math.sqrt(c*c+u*u),this.prevClients=n,this.isDrag=!0,xe({type:"drag",datas:this.datas},l,{movement:this.movement,isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},t.onPinchStart=function(e){var t,n,r=this.options,i=r.pinchstart,a=r.pinchThreshold;if(!(this.isDrag&&this.movement>a)){var o=Oe(e.changedTouches);if(this.pinchFlag=!0,(t=this.startClients).push.apply(t,o),(n=this.prevClients).push.apply(n,o),this.startDistance=_e(this.prevClients),this.startPinchClients=this.prevClients.slice(),i){var s=this.prevClients,l=Pe(s),c=Se(l,l,l);i(xe({type:"pinchstart",datas:this.datas,touches:Te(s,s,s)},c,{inputEvent:e}))}}},t.onPinch=function(e,t){if(this.flag&&this.pinchFlag&&!(t.length<2)){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,i=this.startClients,a=Se(Pe(t),Pe(r),Pe(i)),o=_e(t);n(xe({type:"pinch",datas:this.datas,movement:this.movement,touches:Te(t,r,i),scale:o/this.startDistance,distance:o},a,{inputEvent:e}))}}},t.onPinchEnd=function(e){if(this.flag&&this.pinchFlag){var t=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,i=this.startClients,a=Se(Pe(r),Pe(r),Pe(i));n(xe({type:"pinchend",datas:this.datas,isPinch:t,touches:Te(r,r,i)},a,{inputEvent:e})),this.isPinch=!1,this.pinchFlag=!1}}},t.unset=function(){var e=this,t=this.targets,n=this.options.container;this.isMouse&&(t.forEach((function(t){Ce(t,"mousedown",e.onDragStart)})),Ce(n,"mousemove",this.onDrag),Ce(n,"mouseup",this.onDragEnd),Ce(n,"contextmenu",this.onDragEnd)),this.isTouch&&(t.forEach((function(t){Ce(t,"touchstart",e.onDragStart)})),Ce(n,"touchstart",this.onDragStart),Ce(n,"touchmove",this.onDrag),Ce(n,"touchend",this.onDragEnd),Ce(n,"touchcancel",this.onDragEnd))},e}();const Re=Ie;var Le=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0};const Ze=function(e){var t,n="rCS"+Le(e).toString(36),r=0;return{className:n,inject:function(i){var a,o=function(e){if(e.getRootNode){var t=e.getRootNode();if(11===t.nodeType)return t}}(i),s=0===r;return(o||s)&&(a=function(e,t,n){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=t.replace(/([^}{]*){/gm,(function(t,n){return me(n).map((function(t){return t.indexOf(":global")>-1?t.replace(/\:global/g,""):t.indexOf(":host")>-1?""+t.replace(/\:host/g,"."+e):"."+e+" "+t})).join(", ")+"{"})),(n||document.head||document.body).appendChild(r),r}(n,e,o)),s&&(t=a),o||++r,{destroy:function(){o?(i.removeChild(a),a=null):(r>0&&--r,0===r&&t&&(t.parentNode.removeChild(t),t=null))}}}}};var De=function(e,t){return(De=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var Fe=function(){return(Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};const Ne=function(t,n){var r=Ze(n);return function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}De(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(i,n),i.prototype.render=function(){var n=this.props,i=n.className,a=void 0===i?"":i,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["className"]);return(0,e.createElement)(t,Fe({ref:ce(this,"element"),className:a+" "+r.className},o))},i.prototype.componentDidMount=function(){this.injectResult=r.inject(this.element)},i.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},i.prototype.getElement=function(){return this.element},i}(e.Component)};var Be=function(e,t){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ze(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return le.apply(void 0,["scena-"].concat(e))}ze("ruler");var Ve=ze("guide","adder"),Ue=ze("guides"),He=ze("guide"),We=ze("dragging"),Ge=ze("display-drag"),Ye=Ne("div",function(e,t){return t.replace(/([^}{]*){/gm,(function(t,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"}))}("scena-",'\n{\n    position: relative;\n}\ncanvas {\n    position: relative;\n}\n.guides {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n    z-index: 2000;\n}\n.display-drag {\n    position: absolute;\n    will-change: transform;\n    z-index: 2000;\n    font-weight: bold;\n    font-size: 12px;\n    display: none;\n    left: 20px;\n    top: -20px;\n    color: #f33;\n}\n:host.horizontal .guides {\n    width: 100%;\n    height: 0;\n    top: 30px;\n}\n:host.vertical .guides {\n    height: 100%;\n    width: 0;\n    left: 30px;\n}\n.guide {\n    position: absolute;\n    background: #f33;\n    z-index: 2;\n}\n.guide.dragging:before {\n    position: absolute;\n    content: "";\n    width: 100%;\n    height: 100%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n:host.horizontal .guide {\n    width: 100%;\n    height: 1px;\n    cursor: row-resize;\n}\n:host.vertical .guide {\n    width: 1px;\n    height: 100%;\n    cursor: col-resize;\n}\n.mobile :host.horizontal .guide {\n    transform: scale(1, 2);\n}\n.mobile :host.vertical .guide {\n    transform: scale(2, 1);\n}\n:host.horizontal .guide:before {\n    height: 20px;\n}\n:host.vertical .guide:before {\n    width: 20px;\n}\n.adder {\n    display: none;\n}\n.adder.dragging {\n    display: block;\n}\n'));const Xe=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={guides:[]},e.scrollPos=0,e.guideElements=[],e.onDragStart=function(t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.inputEvent,o="horizontal"===e.props.type,s=e.guidesElement.getBoundingClientRect();n.rect=s,n.offset=o?s.top:s.left,ye(n.target,We),e.onDrag({datas:n,clientX:r,clientY:i}),a.stopPropagation(),a.preventDefault()},e.onDrag=function(t){var n=t.datas,r=t.clientX,i=t.clientY,a=e.props,o=a.type,s=a.zoom,l=a.snaps,c=a.snapThreshold,u=a.displayDragPos,h=a.dragPosFormat,f="horizontal"===o,d=Math.round((f?i:r)-n.offset),p=Math.round(d/s),g=l.slice().sort((function(e,t){return Math.abs(p-e)-Math.abs(p-t)}));if(g.length&&Math.abs(g[0]-p)<c&&(d=(p=g[0])*s),u){var m=n.rect,v="horizontal"===o?[r-m.left,p]:[p,i-m.top];e.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) translate("+v.map((function(e){return e+"px"})).join(", ")+")",e.displayElement.innerHTML=""+h(p)}return n.target.setAttribute("data-pos",p),n.target.style.transform=e.getTranslateName()+"("+d+"px)",d},e.onDragEnd=function(t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.isDouble,o=e.onDrag({datas:n,clientX:r,clientY:i}),s=e.state.guides,l=e.props,c=l.setGuides,u=l.onChangeGuides,h=l.zoom,f=l.displayDragPos,d=Math.round(o/h);if(f&&(e.displayElement.style.cssText+="display: none;"),be(n.target,We),n.fromRuler)o>=e.scrollPos&&s.indexOf(d)<0&&e.setState({guides:s.concat([d])},(function(){u({guides:e.state.guides}),c(e.state.guides)}));else{var p=n.target.getAttribute("data-index");if(a||o<e.scrollPos)s.splice(p,1);else{if(s.indexOf(d)>-1)return;s[p]=d}e.setState({guides:s.slice()},(function(){var t=e.state.guides;c(t),u({guides:t})}))}},e}!function(e,t){function n(){this.constructor=e}Be(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,t);var r=n.prototype;return r.render=function(){var t=this.props,n=t.className,r=t.type,i=t.width,a=t.height,o=t.unit,s=t.zoom,l=t.style,c=t.rulerStyle,u=t.backgroundColor,h=t.lineColor,f=t.textColor,d=t.direction,p=t.displayDragPos;return(0,e.createElement)(Ye,{ref:ce(this,"manager"),className:ze("manager",r)+" "+n,style:l},(0,e.createElement)(fe,{ref:ce(this,"ruler"),type:r,width:i,height:a,unit:o,zoom:s,backgroundColor:u,lineColor:h,style:c,textColor:f,direction:d}),(0,e.createElement)("div",{className:Ue,ref:ce(this,"guidesElement")},p&&(0,e.createElement)("div",{className:Ge,ref:ce(this,"displayElement")}),(0,e.createElement)("div",{className:Ve,ref:ce(this,"adderElement")}),this.renderGuides()))},r.renderGuides=function(){var t=this,n=this.props,r=n.type,i=n.zoom,a="horizontal"===r?"translateY":"translateX",o=this.state.guides;return this.guideElements=[],o.map((function(n,o){return(0,e.createElement)("div",{className:ze("guide",r),ref:ue(t,"guideElements",o),key:o,"data-index":o,"data-pos":n,style:{transform:a+"("+n*i+"px)"}})}))},r.componentDidMount=function(){var e=this;this.dragger=new Re(this.manager.getElement(),{container:document.body,dragstart:function(t){var n,r,i=t.inputEvent.target,a=t.datas;if(i===e.ruler.canvasElement)t.datas.fromRuler=!0,a.target=e.adderElement;else{if(r=He,!((n=i).classList?n.classList.contains(r):n.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))))return!1;a.target=i}e.onDragStart(t)},drag:this.onDrag,dragend:this.onDragEnd})},r.componentWillUnmount=function(){this.dragger.unset()},r.loadGuides=function(e){this.setState({guides:e})},r.getGuides=function(){return this.state.guides},r.scrollGuides=function(e){var t=this.props.zoom,n=this.guidesElement;this.scrollPos=e,n.style.transform=this.getTranslateName()+"("+-e*t+"px)";var r=this.state.guides;this.guideElements.forEach((function(t,n){t&&(t.style.display=-e+r[n]<0?"none":"block")}))},r.resize=function(){this.ruler.resize()},r.scroll=function(e){this.ruler.scroll(e)},r.getTranslateName=function(){return"horizontal"===this.props.type?"translateY":"translateX"},n.defaultProps={className:"",type:"horizontal",setGuides:function(){},zoom:1,style:{width:"100%",height:"100%"},snapThreshold:5,snaps:[],onChangeGuides:function(){},displayDragPos:!1,dragPosFormat:function(e){return e}},n}(e.PureComponent);const $e=t=>{let n={};(0,e.useEffect)(()=>{if(null!=t.ruler&&1==t.ruler.active)for(let e in n){let t=n[e];t.resize();let i=0,a=0;window.addEventListener("wheel",e=>{i+=e.deltaX,a+=e.deltaY,t.scrollGuides(a),t.scroll(i)}),window.addEventListener("resize",()=>{r(),t.resize()})}r()},[]),(0,e.useEffect)(()=>{if(null!=t.ruler&&1==t.ruler.active)for(let e in n){let t=n[e];t.resize();let i=0,a=0;window.addEventListener("wheel",e=>{i+=e.deltaX,a+=e.deltaY,t.scrollGuides(a),t.scroll(i)}),window.addEventListener("resize",()=>{r(),t.resize()})}r()});let r=()=>{if(null!=t.ruler&&1==t.ruler.active){v.Z.getCanvas().wrapperEl;var e=document.querySelectorAll(".ask-carousel-item")[v.Z.getViewIndex()].offsetTop+D.Z.getAbsoluteHeight(document.querySelectorAll(".ask-history")[0]),r=document.querySelectorAll(".ask-carousel-item")[v.Z.getViewIndex()].querySelector(".canvas-container").offsetLeft;for(var i in n)n[i].resize(),n[i].scroll("horizontal"==i?-r:-e)}};return null!=t.ruler&&1==t.ruler.active?e.createElement(e.Fragment,null,e.createElement("div",{className:"ruler vertical"},e.createElement(Xe,{ref:e=>{n.vertical=e},type:"vertical",setGuides:e=>{console.log(e)}})),e.createElement("div",{className:"ruler horizontal"},e.createElement(Xe,{ref:e=>{n.horizontal=e},type:"horizontal",setGuides:e=>{console.log(e)}}))):null};const qe=(0,n.$j)((e,t)=>({ruler:null==m.Z.getMenuItem("Ruler")?null:m.Z.getMenuItem("Ruler")}))($e);var Ke=o(3235),Qe=o(5518),Je={prefix:"fab",iconName:"facebook-square",icon:[448,512,[],"f082","M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"]},et={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]};function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}Ke.vI.add(Qe.re8,Qe.f8k,Qe.iGi,Qe.e0A,Qe.ubJ,Qe.Y9i,Qe.VmB,Qe.A0q,Qe.wok,Qe.cNd,Qe.mlU,{prefix:"fas",iconName:"template",icon:[1024,1024,[],"e001","M298.666667 981.333333a85.333333 85.333333 0 0 1-85.333334-85.333333V128a85.333333 85.333333 0 0 1 85.333334-85.333333h426.666666a85.333333 85.333333 0 0 1 85.333334 85.333333v768a85.333333 85.333333 0 0 1-85.333334 85.333333z m640-213.333333V256a42.666667 42.666667 0 0 1 42.666666-42.666667 42.666667 42.666667 0 0 1 42.666667 42.666667v512a42.666667 42.666667 0 0 1-42.666667 42.666667 42.666667 42.666667 0 0 1-42.666666-42.666667zM0 768V256a42.666667 42.666667 0 0 1 42.666667-42.666667 42.666667 42.666667 0 0 1 42.666666 42.666667v512a42.666667 42.666667 0 0 1-42.666666 42.666667 42.666667 42.666667 0 0 1-42.666667-42.666667z"]},{prefix:"fas",iconName:"position-top",icon:[1024,1024,[],"e001","M128 128h768a64 64 0 0 1 64 64v640a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V192a64 64 0 0 1 64-64z m32 64a32 32 0 0 0-32 32v576a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V224a32 32 0 0 0-32-32H160z m64 64h576a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32z"]},{prefix:"fas",iconName:"position-bottom",icon:[1024,1024,[],"e001","M128 128h768a64 64 0 0 1 64 64v640a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V192a64 64 0 0 1 64-64z m32 64a32 32 0 0 0-32 32v576a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V224a32 32 0 0 0-32-32H160z m64 384h576a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32v-128a32 32 0 0 1 32-32z"]},{prefix:"fas",iconName:"position-right",icon:[1024,1024,[],"e001","M128 128h768a64 64 0 0 1 64 64v640a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V192a64 64 0 0 1 64-64z m32 64a32 32 0 0 0-32 32v576a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V224a32 32 0 0 0-32-32H160z m512 64h128a32 32 0 0 1 32 32v448a32 32 0 0 1-32 32h-128a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32z"]},{prefix:"fas",iconName:"position-left",icon:[1024,1024,[],"e001","M128 128h768a64 64 0 0 1 64 64v640a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V192a64 64 0 0 1 64-64z m32 64a32 32 0 0 0-32 32v576a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V224a32 32 0 0 0-32-32H160z m64 64h128a32 32 0 0 1 32 32v448a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32z"]},Qe.xiG,Qe.NxF,Qe._mi,Qe.UJf,Qe.yGG,Qe.cf$,Qe.rtB,Qe.r6l,Qe.eW2,Qe.$aW,Qe.Mdf,Qe.atg,Qe.KXm,Qe.wf8,Qe.lIc,Qe.wn1,Qe.q7m,Qe.d8e,Qe.NBC,Qe.LEN,Qe.gHg,Qe.fKU,Qe.jev,Qe.Xcf,Qe.gMD,Qe.kZ_,Qe.KS0,Qe.c_t,Qe.cJz,Qe.jmw,Qe.izv,Qe.cC_,Qe.LM3,Je,et,{prefix:"fab",iconName:"deposit-photos",icon:[2660,2660,[],"e001","M1526.25,1114.26c-183.91,0-332.91,149.48-332.91,333.42s149,333.42,332.91,333.42c183.34,0,332.35-149.53,332.35-333.42S1709.59,1114.26,1526.25,1114.26Zm194.93,509.42a265.87,265.87,0,0,1-205.24,96.7c-147.26,0-266.12-119.23-266.12-267a267.32,267.32,0,0,1,96.42-205.89L1351,1244l-11.88,16a267.57,267.57,0,0,0-44.92,148.9c0,147.69,118.86,267,266.12,267a265.64,265.64,0,0,0,148.42-45.08l16-11.92Z M1524.68,889.68c-307.85,0-558.12,249.83-558.12,557.86s250.27,558.56,558.12,558.56,555.85-250.44,555.85-558.56S1832.53,889.68,1524.68,889.68Zm0,1006.75c-248.57,0-450.9-202.44-450.9-451.18s202.33-450.62,450.9-450.62S1975,1196.53,1975,1445.25,1773.18,1896.44,1524.68,1896.44Z M2296.64,914.35h-93.39c-31.83,0-57.74,25.82-57.74,58.46v62.47c0,32.61,25.91,59.16,57.74,59.16h93.39c31.78,0,57.74-26.54,57.74-59.16V972.81C2354.38,940.17,2328.42,914.35,2296.64,914.35Z M2487.38,657.47C2256.52,264.52,1812,.09,1327.11.09,595.79.09,0,598.55,0,1336S595.79,2671.21,1327.11,2671.21c352.34,0,693-137.63,930.5-364.35,220.19-6.75,406.17-107.46,415.1-385.35V946.29C2672.71,817.78,2596.41,707.48,2487.38,657.47Zm39.82,1264.92c0,151.86-110.37,229.6-260.94,229.6h-1486c-171.75,0-261.82-35-261.82-215.19v-936c0-179.41,94.65-259.2,266.4-259.2h324s100-169.61,101-170c10.11-15.69,36.13-53.18,100.59-53.18h367.19c66.38,0,90.61,29.91,103.53,53.18,2.34,4.19,105.28,170,105.28,170H2268c171.07,0,259.2,79.78,259.2,259.2Z"]},{prefix:"fab",iconName:"pixabay",icon:[155,155,[],"e001","m37.330803,69.466102c-3.4778,-2.461 -6.0048,-4.9559 -6.0048,-8.0337l-19.338,0c0,5.5388 -2.527,8.0337 -5.6449,8.0337l-5.1644,0l0,56.236l100.42,0l0,-56.236l-64.629,0l0.3611,0zm-6.0056,16.067l-18.096,0l0,-8.0337l20.084,0l0,6.4644l-1.988,1.5693zm33.991,31.276c-11.457,0 -20.779,-9.2018 -20.779,-20.513s9.3215,-20.04 20.779,-20.04c11.457,0 20.778,8.7283 20.778,20.04c0,11.311 -9.3207,20.513 -20.778,20.513zm11.17,-20.513c0,6.0803 -5.011,11.028 -11.169,11.028c-6.1591,0 -11.17,-4.9476 -11.17,-11.028c0,-6.081 5.0109,-11.027 11.17,-11.027c6.1582,0 11.169,4.9468 11.169,11.027zm77.334,-34.48l-25.001,63.735l-19.184,-7.6934l0,-10.862l13.323,5.4522l17.592,-44.844l-65.92,-25.205l-6.1099,19.034l-11,0l11.248,-32.135l85.053,32.519l-0.0011,-0.0008z"]},Qe.QY_,Qe.A35,Qe.q2v,Qe.R8d,Qe.tmN,Qe.r8p,Qe.Kl4,Qe.G_j,Qe.P2X,Qe.b7W,Qe.xf2,Qe.KTG,{prefix:"fas",iconName:"customize",icon:[25,25,[],"e001","M10 18v5h-10v-5h10zm10 0v5h-9v-5h9zm4-6v5h-7v-5h7zm-17 0v5h-7v-5h7zm9 0v5h-8v-5h8zm-6-6v5h-10v-5h10zm10 0v5h-9v-5h9zm-13-5v4h-7v-4h7zm8 0v4h-7v-4h7z"]},Qe.RP7,Qe.Krp);const nt=(0,h.ZP)(u.Z)`
	${e=>e.container&&`\n\t\tbackground: ${e.container};\n\t`};
`;const rt=t=>((0,e.useEffect)(()=>(window.addEventListener("resize",D.Z.responsive),()=>{window.removeEventListener("resize",D.Z.responsive)}),[]),e.createElement(e.Fragment,null,e.createElement(r.Z,null,e.createElement(i.Z,null,e.createElement(a.Z,{className:"left"},e.createElement(f.Z,{target:"left"})),e.createElement(r.Z,null,e.createElement(c,{className:"top"},e.createElement(f.Z,{target:"top"})),e.createElement(nt,tt({},t,{className:"ask-designer-content"}),e.createElement(qe,null),e.createElement(se,null)),e.createElement(l,{className:"bottom"},e.createElement(f.Z,{target:"bottom"}))),e.createElement(a.Z,{className:"right"},e.createElement(f.Z,{target:"right"})),e.createElement(f.Z,{target:"hidden"}),e.createElement(f.Z,{target:"custom"}))),e.createElement(g,null))),it=(0,n.$j)((e,t)=>({mode:e.mode,locale:e.locale,translations:e.translations,container:e.theme.container}))(rt);o(2790);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));class at{constructor(e,t={}){this.onLoad=t.onLoad||null,this.selector=e,this.node=document.querySelector(this.selector),D.Z.options=t,this.init()}layout(){return m.Z}designer(){return v.Z}util(){return D.Z}getState(){return F.Z.getState()}on(e,t=(()=>{})){null==D.Z.events[e]&&D.Z.events.push(e),document.addEventListener(e,e=>{t(e,...e.detail)})}destroy(){this.designer().canvasesLoaded=0,F.Z.dispatch({type:"RESET_STORE"}),document.querySelector(this.selector).classList.remove("asuka-designer"),t.unmountComponentAtNode(this.node)}init(){return delete window.__ASK_PRELOADED_STATE__,document.querySelector(this.selector+".asuka-designer")&&this.destroy(),document.querySelector(this.selector).classList.add("asuka-designer"),t.render(e.createElement(n.zt,{store:F.Z},e.createElement(it,null)),document.querySelector(this.selector),()=>{D.Z.updateStore(D.Z.options),0==F.Z.getState().fabric.views.length&&D.Z.initEvent("ready",[])})}}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})})(),s})()}));